    using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Conquer_Online_Server.Client;
using Conquer_Online_Server.Network;
using Conquer_Online_Server.Interfaces;

using Conquer_Online_Server.Network.GamePackets;
using Conquer_Online_Server.Game.ConquerStructures.Society;
using Conquer_Online_Server.Game.ConquerStructures;
using Conquer_Online_Server.Database;
using System.Text.RegularExpressions;
using System.Drawing;
using Conquer_Online_Server.Game;

namespace Conquer_Online_Server
{
    using Titles = Network.GamePackets.TitlePacket.Titles;
    using Conquer_Online_Server.Game.BigBOsQuests;
    using Conquer_Online_Server.Game.Features;
    public class Npcs
    {
        public static byte inputt;
        #region SkillSoul_Allowed
        public static readonly System.Collections.Generic.List<ushort> SkillSoul_Allowed = new System.Collections.Generic.List<ushort>()
        {
            1115,
            11005,
            1165,
            6001,
            6000,
            11650,
            1006,
            1002,
            10415,
            11110,
            11600,
            10381,
            1046,
            6010,
            11000,
            5010,
            11170,
            1045,
            5030,
            11070            
        };
        #endregion SkillSoul_Allowed  
        public static IniFile AvatarLinker = null;
        public GameClient Client;
        public List<NpcReply> Replies;
        public Npcs(GameClient client)
        {
            Client = client;
            Replies = new List<NpcReply>();
        }
        public void Text(string text)
        {
            if (text.Length > 100)
            {
                if (text.Length > 980)
                    text = text.Substring(0, 980);
                int myLength = text.Length;
                while (myLength > 0)
                {
                    int lastIndex = 100;
                    if (myLength < 100)
                        lastIndex = myLength;
                    string txt = text.Substring(0, lastIndex);
                    text = text.Substring(lastIndex, myLength - lastIndex);
                    myLength -= lastIndex;
                    Replies.Add(new NpcReply(NpcReply.Dialog, txt));
                }
            }
            else
                Replies.Add(new NpcReply(NpcReply.Dialog, text));
        }
        public void Option(string text, byte id)
        {
            Replies.Add(new NpcReply(NpcReply.Option, text) { OptionID = id });
        }
        public void Avatar(uint npcMesh)
        {
            if (Replies.Count == 0)
                Replies.Add(new NpcReply(NpcReply.Avatar, "") { InputMaxLength = (byte)npcMesh });
            else
                Replies[0].InputMaxLength = (byte)npcMesh;
        }
        public void Input(string text, byte id, byte maxLength)
        {
            Replies.Add(new NpcReply()
            {
                DontDisplay = true,
                InputMaxLength = maxLength,
                InteractType = NpcReply.Input,
                OptionID = id,
                Text = text
            });
        }
        public void Send()
        {
            foreach (NpcReply nr in Replies)
                Client.Send(nr);
            Client.Send(new NpcReply() { InteractType = 100, DontDisplay = false });
            Replies.Clear();
            Sent = true;
        }
        private bool Sent = false;
        public static ISkill LearnableSpell(ushort spellid)
        {
            ISkill spell = new Spell(true);
            spell.ID = spellid;
            return spell;
        }
        public static ISkill LearnableSpell(ushort spellid, byte level)
        {
            ISkill spell = new Spell(true);
            spell.ID = spellid;
            spell.Level = level;
            return spell;
        }
        public static bool CheckNumberPassword(string password)
        {
            if (password == "")
                return false;
            foreach (char c in password)
                if (!((byte)c >= 48 && (byte)c <= 57))
                    return false;
            return true;
        }
        public static bool InvalidCharacters(string Name)
        {


            if (Name.Length > 16)
                Name = Name.Substring(0, 16);
            if (Name == "")
                return false;
            foreach (char c in Name)
                if (Conquer_Online_Server.Kernel.InvalidCharacters.Contains(c) || (byte)c < 48)
                    return true;
            return true;


        }

        public static bool InvalidCharacters2(string Name)
        {
            using (var rdr = new MySqlReader(new MySqlCommand(MySqlCommandType.SELECT).Select("entities").Where("name", Name)))
                return rdr.Read();
        }
        public static bool CheckNumberPassword2(string password)
        {
            if (password == "")
                return false;
            foreach (char c in password)
                if (!((byte)c >= 90 && (byte)c <= 150))
                    return true;
            return true;
        }
        public static void GetDialog(NpcRequest npcRequest, GameClient client)
        {
            
            if (AvatarLinker == null)
                AvatarLinker = new IniFile("\\database\\npc.ini");
            //Console.WriteLine("[" + client.Entity.Name + "][NPC] " + npcRequest.NpcID + " : " + npcRequest.OptionID);

            Npcs dialog = new Npcs(client);

            if (!client.Map.Npcs.ContainsKey(client.ActiveNpc) || npcRequest == null || client == null || client.Entity == null || (npcRequest.NpcID == 0 && npcRequest.OptionID == 255))
                return;
            if (client.Trade != null)
                if (client.Trade.InTrade)
                    return;
            INpc npcs = null;
            #region Vote System
            /*if (client.Entity.VoteSystem == false)
            {
                switch (npcRequest.OptionID)
                {
                    case 0:
                        {
                            dialog.Text("Hello, I'm so sorry for disturbance but we need to stand up in our place and without your help we'll go down, So please could you vote for us, You just would write the word in the text box then you press vote for F4E.");
                            dialog.Option("Yes Sure.", 1);
                            //dialog.Option("Just Passing By!", 255);
                            dialog.Send();
                            break;
                        }
                    case 1:
                        {
                            client.Send(new Message("http://www.xtremetop100.com/in.php?site=1132350917", client.Entity.Name, System.Drawing.Color.Yellow, 2105));
                            client.Entity.VoteSystem = true;
                            client.Entity.VoteStamp.AddHours(13);
                            Console.WriteLine(client.Entity.Name + " has voted for our server.");
                            break;
                        }
                }
                return;
            }*/
            #endregion
            if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npcs))
            {
                ushort avatar = (ushort)AvatarLinker.ReadInt16("NpcType" + (npcs.Mesh / 10), "SimpleObjID", 1);

                dialog.Avatar(avatar);
            }

            switch (client.Entity.MapID)
            {
                #region Twin City

                case 1002:
                    {
                        switch (client.ActiveNpc)
                        {
                            case 21634:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello friend. I am the challenge master! Have you got someone you want to comfront in a pure-stats 1vs1 battle? I can help you with that! Let me know the name of the person you want to challange. To make thing even more interesting you'll be able to set a wager. The winner will take all money.");
                                                dialog.Option("Alright. Let's get started!", 1);
                                                dialog.Option("I'll think about it!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("Give me the player's name you want to challenge.");
                                                dialog.Input("Challanged:", 2, 32);
                                                dialog.Option("Nevermind.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                string lowered = npcRequest.Input.ToLower().Replace(" ", "~");
                                                var player = Kernel.GamePool.Values.FirstOrDefault(p => p.Entity.LoweredName == lowered);
                                                if (player == null)
                                                {
                                                    dialog.Text("This person must be offline because I cannot find him/her. Are you sure this is the right name?");
                                                    dialog.Option("Let me try again!", 1);
                                                    dialog.Option("Forget it!", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    Challenge.Create(client, player);
                                                    if (client.Challenge == null)
                                                    {
                                                        dialog.Text("You need to set a warehouse password first.");
                                                        dialog.Option("Okay.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    dialog.Text("Good.. good. I found the player. To make things worthwhile you should set a wager! The winner will take all wagered ConquerPoints.");
                                                    dialog.Input("Wager:", 3, 32);
                                                    dialog.Option("No wager.", 4);
                                                    dialog.Option("...", 255);
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();

                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                uint wager;
                                                if (uint.TryParse(npcRequest.Input, out wager))
                                                {
                                                    if (client.Entity.ConquerPoints < wager)
                                                    {
                                                        dialog.Text("You don't have enough money! Set a lower wager. The winner will take all wagered ConquerPoints.");
                                                        dialog.Input("Wager:", 3, 32);
                                                        dialog.Option("No wager.", 4);
                                                        dialog.Option("...", 255);
                                                        dialog.Option("Nevermind.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    client.Challenge.Wager = wager;
                                                    dialog.Text("The wager has been set! Do you want to send the battle request?");
                                                    dialog.Option("Yes!", 5);
                                                    dialog.Option("Forget it!", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You should input an amount of ConquerPoints as wager! The winner will take all wagered ConquerPoints!");
                                                    dialog.Input("Wager:", 3, 32);
                                                    dialog.Option("No wager.", 4);
                                                    dialog.Option("Nevermind.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 4:
                                            {
                                                client.Challenge.Wager = 0;
                                                dialog.Text("Alrighty then! Do you want to send the battle request?");
                                                dialog.Option("Yes!", 5);
                                                dialog.Option("Forget it!", 255);
                                                dialog.Send();

                                                break;
                                            }
                                        case 5:
                                            {
                                                client.Challenge.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            case 21633:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Have you heard the news? Everyone is talking about it. There is a magical creature so strong that no one can stand up to it. The legend says it will give tremenduous rewards to the one who can set free its spirit. Some even say it's in the thousands of ConquerPoints!");
                                                dialog.Text("The portal opens only Friday, between 19:00 and 19:50, so be here if you want to have a try!");
                                                dialog.Option("Count me in!", 1);
                                                dialog.Option("It's out of my league!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (Program.World.PureLand)
                                                    client.Entity.Teleport(2065, 50, 50);
                                                else
                                                {
                                                    dialog.Text("The portal is not yet open! You have to wait till Friday, between 19:00 and 19:50, so be here if you want to have a try!");
                                                    dialog.Option("Okay!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            case 127123:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello champ! Are you here to claim your prize in the Pole Domination war?");
                                                dialog.Option("Yes sir!", 1);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.GuildID == 0)
                                                {
                                                    dialog.Text("You do not belong to a guild!");
                                                    dialog.Option("Ahh!", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.GuildRank != (int)Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    dialog.Text("You have to be the guild leader!");
                                                    dialog.Option("Ahh!", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                uint prize = Program.World.PoleDomination.GetWinnerPrize(client.Guild.Name);
                                                if (prize == 0)
                                                {
                                                    dialog.Text("There is no prize to be claimed!");
                                                    dialog.Option("Ahh!", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                client.Entity.ConquerPoints += prize * 2;
                                                Program.World.PoleDomination.RemoveWinner(client.Guild.Name);
                                                dialog.Text("You have claimed " + prize + " Conquer Points! Congratulations!");
                                                dialog.Option("Thank you!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            case 127631:
                                {
                                    if (client.Entity.NobilityRank <= NobilityRank.Baron)
                                    {
                                        dialog.Text("You need to be atleast Earl to join the donation war");
                                        dialog.Option("Okay", 255);
                                        dialog.Send();
                                        return;
                                    }
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                var tournament = Game.KillTournament.Select(client, World.NobilityMapBase);
                                                if (tournament != null)
                                                {
                                                    dialog.Text("The donation war is on! Would you like to join?");
                                                    dialog.Option("Yes", 1);
                                                    dialog.Option("No", 255);
                                                }
                                                else
                                                {

                                                    dialog.Text("The donation war is off! start Tuesday 1:00 & 13:00");
                                                    dialog.Option("Ahh", 255);
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                var tournament = Game.KillTournament.Select(client, World.NobilityMapBase);
                                                if (tournament != null) tournament.Join(client);
                                                break;
                                            }
                                    }
                                    break;
                                }
                           
                            case 124724:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I can trade you some items in exchange for some treasure points. I see you have " + client.Entity.TreasuerPoints + " treasure points");
                                                dialog.Option("VIP Levels", 1);
                                                dialog.Option("ConquerPoints", 14);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("Select your VIP level. I see you have " + client.Entity.TreasuerPoints + " treasure points");
                                                //   dialog.Option("VIP 1 (500)", 2);
                                                //    dialog.Option("VIP 2 (1000)", 3);
                                                //   dialog.Option("VIP 3 (1600)", 4);
                                                //  dialog.Option("VIP 4 (2600)", 5);
                                                dialog.Option("VIP 5 (3500)", 6);
                                                dialog.Option("VIP 6 (4500)", 7);
                                                dialog.Option("VIP 7 (5000)", 8);
                                                dialog.Option("VIP 8 (10000)", 9);
                                                dialog.Option("VIP 9 (20000)", 10);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                        case 3:
                                        case 4:
                                        case 5:
                                        case 6:
                                        case 7:
                                        case 8:
                                        case 9:
                                        case 10:
                                            {
                                                int currentVip = npcRequest.OptionID - 2;
                                                int nextVip = npcRequest.OptionID - 1;
                                                if (client.Entity.VIPLevel != currentVip)
                                                {
                                                    dialog.Text("You need to be VIP level " + currentVip + "!");
                                                    dialog.Option("Ah.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                uint cost = 500;
                                                if (nextVip == 2) cost = 1000;
                                                else if (nextVip == 3) cost = 1600;
                                                else if (nextVip == 4) cost = 2600;
                                                else if (nextVip == 5) cost = 3500;
                                                else if (nextVip == 6) cost = 4500;
                                                else if (nextVip == 7) cost = 5000;
                                                else if (nextVip == 8) cost = 10000;
                                                else if (nextVip == 9) cost = 20000;
                                                if (client.Entity.TreasuerPoints >= cost)
                                                {
                                                    if (nextVip > 6)
                                                        client.Entity.VipExpire = DateTime.Now.AddDays(14).Ticks;
                                                    client.Entity.TreasuerPoints -= cost;
                                                    client.Entity.VIPLevel = (byte)nextVip;
                                                    dialog.Text("Congratulations. You bought VIP level " + nextVip + " for " + cost + " treasure points.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You need more treasure points.");
                                                    dialog.Option("Ahh..", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 14:
                                            {
                                                dialog.Text("Select ConquerPoints packs. I see you have " + client.Entity.TreasuerPoints + " treasure points");
                                                dialog.Option("500KPack (2500)", 12);
                                                dialog.Option("750KPack (3750)", 13);
                                                dialog.Option("1KKPack (5000)", 11);
                                                dialog.Send();
                                                break;
                                            }
                                        case 12:
                                        case 13:
                                        case 11:
                                            {
                                                uint cost = 2500;
                                                if (npcRequest.OptionID == 10) cost = 3750;
                                                else if (npcRequest.OptionID == 11) cost = 5000;
                                                uint cps = 500000;
                                                if (npcRequest.OptionID == 10) cps = 750000;
                                                else if (npcRequest.OptionID == 11) cps = 1000000;
                                                if (client.Entity.TreasuerPoints >= cost)
                                                {
                                                    client.Entity.TreasuerPoints -= cost;
                                                    client.Entity.ConquerPoints += cps;

                                                    dialog.Text("Congratulations. You bought " + cps + " ConquerPoints for " + cost + " treasure points.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You need more treasure points.");
                                                    dialog.Option("Ahh..", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            case 95236:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hey there, I'm the daily QUESTA for SpiritBeadQuest, the task is simple kill mobs to collect their spirits and u shall be rewarded.");

                                                dialog.Text("Which quest would you like to start?");
                                                dialog.Option("Normal Bead (2,500 Spirits).", 1);
                                                dialog.Option("Refined Bead (2,000 Spirits).", 2);
                                                dialog.Option("Unique Bead (1,500 Spirits).", 3);
                                                dialog.Option("Elite Bead (1,000 Spirits).", 4);
                                                dialog.Option("Super Bead (500 Spirits).", 5);
                                                dialog.Option("Not intrested", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1: client.SpiritBeadQ.AcceptQuest(729611); break;
                                        case 2: client.SpiritBeadQ.AcceptQuest(729612); break;
                                        case 3: client.SpiritBeadQ.AcceptQuest(729613); break;
                                        case 4: client.SpiritBeadQ.AcceptQuest(729614); break;
                                        case 5: client.SpiritBeadQ.AcceptQuest(729703); break;
                                    }
                                    break;
                                }
                            #region Lune(Enter Moon Platform)
                            case 12116:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Would you like to enter the Moon Platform ?");
                                                dialog.Option("Yes.", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1100, 184, 164);
                                                dialog.Text("Welcome in Moon Platform!");
                                                dialog.Option("Thanks.", 1);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region Enter Guild Arena
                            case 380:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {

                                                dialog.Text("I have two competitons available for guilds. There is on one side Guild War(GW) and on the other one Capture the flag (CTF). The GuildWar is scheduled to start Sunday at 00:00 and Capture the flag is scheduled to start Saturday at 23:00. Where do you want to go now?");
                                                dialog.Option("GW area.", 1);
                                                dialog.Option("CTF area.", 2);
                                                dialog.Option("Give me CTF Reward.", 3);
                                                dialog.Option("No where.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Guild != null && client.AsMember != null)
                                                {
                                                    if (client.AsMember.Rank == Enums.GuildMemberRank.GuildLeader)
                                                    {
                                                        uint num = client.Guild.CTFReward * 3u;
                                                        if (num != 0u)
                                                        {
                                                            byte[] buffer = new Message(string.Concat(new object[]
															{
																"The Guild Leader ",
																client.Entity.Name,
																" of ",
																client.Guild.Name,
																" Receive the CTFReward ",
																num
															}), Color.Red, 2007u).ToArray();
                                                            client.Entity.ConquerPoints += num * 2;
                                                            client.Guild.CTFReward = 0u;
                                                            client.Entity.ConquerPoints += client.AsMember.CTFCpsReward;
                                                            client.Entity.Money += client.AsMember.CTFSilverReward;
                                                            client.AsMember.CTFCpsReward = 0u;
                                                            client.AsMember.CTFSilverReward = 0u;
                                                            EntityTable.UpdateData(client, "CTFCpsReward", client.AsMember.CTFCpsReward);
                                                            EntityTable.UpdateData(client, "CTFSilverReward", client.AsMember.CTFSilverReward);
                                                            GuildTable.SaveCTFReward(client.Guild);
                                                            using (IEnumerator<GameClient> enumerator = Kernel.GamePool.Values.GetEnumerator())
                                                            {
                                                                while (enumerator.MoveNext())
                                                                {
                                                                    GameClient arg_790_0 = enumerator.Current;
                                                                    client.Send(buffer);
                                                                }
                                                                break;
                                                            }
                                                        }
                                                        dialog.Text("You guild not have CTF Points ");
                                                        dialog.Option("Oh sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.Guild != null && client.AsMember != null)
                                                        {
                                                            if (client.AsMember.CTFCpsReward != 0u && client.AsMember.CTFSilverReward != 0u)
                                                            {
                                                                client.Entity.ConquerPoints += client.AsMember.CTFCpsReward;
                                                                client.Entity.Money += client.AsMember.CTFSilverReward;
                                                                client.AsMember.CTFCpsReward = 0u;
                                                                client.AsMember.CTFSilverReward = 0u;
                                                                EntityTable.UpdateData(client, "CTFCpsReward", client.AsMember.CTFCpsReward);
                                                                EntityTable.UpdateData(client, "CTFSilverReward", client.AsMember.CTFSilverReward);
                                                                dialog.Text(string.Concat(new object[]
																{
																	"You Receive ",
																	client.AsMember.CTFCpsReward,
																	" Conquer Points and ",
																	client.AsMember.CTFSilverReward,
																	" Silvers, for participation on Ctf"
																}));
                                                                dialog.Option("Thanks.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("Sorry, but you not have CTF Reward!");
                                                                dialog.Option("Oh Ok.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry, but you not use the Guild");
                                                            dialog.Option("Oh Ok.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1038, 348, 339);
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (CaptureTheFlag.IsWar)
                                                {
                                                    Program.World.CTF.SignUp(client);
                                                }
                                                else
                                                {
                                                    dialog.Text("The CTF is not on going at this time. The GuildWar is scheduled to start Sunday, Tuesday and Thursday at 11:00 and 16:00.");
                                                    dialog.Option("Oh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    } break;
                                }
                            #endregion

                            #region Twin City
                            case 10080:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.PKPoints < 29)
                                                {
                                                    dialog.Text("Hey there " + client.Entity.Name + "! I'm the craziest conductress!\nI also know how to send you to all the main cities.\nAnyways... Where are you headed? I may be able to teleport you there for 5,000 gold.");
                                                    dialog.Option("Phoenix Castle.", 1);
                                                    dialog.Option("Ape City.", 2);
                                                    dialog.Option("Desert City.", 3);
                                                    dialog.Option("Bird Island.", 4);
                                                   
                                                    dialog.Option("Market.", 6);
                                                    dialog.Option("I don't care.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not help MURDERS!");
                                                    dialog.Option("Ouch..", 255);
                                                    dialog.Option("Then you are of no use to me!\nI'll kill you too!", 100);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                        case 1:
                                        case 2:
                                        case 3:
                                        case 4:
                                        case 5:
                                        case 6:
                                            {
                                                ushort Map = 1002, X, Y;
                                                if (npcRequest.OptionID == 1)
                                                {
                                                    X = 804;
                                                    Y = 523;
                                                }
                                                else if (npcRequest.OptionID == 2)
                                                {
                                                    X = 523;
                                                    Y = 803;
                                                }
                                                else if (npcRequest.OptionID == 3)
                                                {
                                                    X = 73;
                                                    Y = 350;
                                                }
                                                else if (npcRequest.OptionID == 4)
                                                {
                                                    X = 525;
                                                    Y = 331;
                                                }

                                                else
                                                {
                                                    X = 211;
                                                    Y = 196;
                                                    Map = 1036;
                                                }
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(Map, X, Y);
                                                }
                                                else
                                                {
                                                    dialog.Text("Hey! You don't have 100 gold do you?\nDon't you dare try to cheat me or I'll call the guards!");
                                                    dialog.Option("Crazy!", 255);
                                                    dialog.Send();
                                                }
                                                break;

                                            }
                                        case 100:
                                            {
                                                client.Entity.AddFlag(Update.Flags.FlashingName);
                                                client.Entity.FlashingNameStamp = Time32.Now.AddSeconds(30);
                                                client.Send(Conquer_Online_Server.Constants.Warrent);
                                                dialog.Text("Guards! HELP! " + client.Entity.Name + " is trying to kill me!!");
                                                dialog.Option("I'll get you!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Celestine
                            case 20005:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Did you see those plants while comming over here? Do you see that pond right over there? You see I need clean water badly. If the clean water is united with 7 of 9 unique gems(except tortoise, thunder, glory) it can heal plants and clean ponds. In exchange of those 8 items, I will give you back a celestial stone, which is needed for first reborn.");
                                                dialog.Option("How do I get gems?", 1);
                                                dialog.Option("How do I get clean water?", 2);
                                                dialog.Option("I got the items.", 3);
                                                dialog.Option("Boring...", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("You can get gems simply by minning or killing monsters, as they drop gems sometime.");
                                                dialog.Option("How do I get clean water?", 2);
                                                dialog.Option("I got the items.", 3);
                                                dialog.Option("Boring...", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("In the first Island Map in Adventure Zone(GC1), you might find the WaterLord(517,732). You may kill it and it may give a CleanWater, with a 50% percent of success. Once killed you may wait 15 minutes, before it will respawn again.");
                                                dialog.Option("How do I get gems?", 1);
                                                dialog.Option("I got the items.", 3);
                                                dialog.Option("Boring...", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                bool hasfornow = true;
                                                uint baseid = 700001;
                                                for (int c = 0; c < 70; c += 10)
                                                    if (!client.Inventory.Contains((uint)(baseid + c), 1))
                                                    {
                                                        hasfornow = false;
                                                        break;
                                                    }
                                                if (!hasfornow)
                                                {
                                                    dialog.Text("You don't meet the requierments!");
                                                    dialog.Send();
                                                    break;
                                                }
                                                if (client.Inventory.Contains(721258, 1))
                                                {
                                                    for (int c = 0; c < 70; c += 10)
                                                        client.Inventory.Remove((uint)(baseid + c), 1);
                                                    client.Inventory.Remove(721258, 1);
                                                    client.Inventory.Add(721259, 0, 1);
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments!");
                                                    dialog.Send();
                                                    break;
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region GuildDirector
                            case 10003:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. Do you want to create a new guild? You need level 90 and 1,000,000 silvers and you have to not belong to any guild. If you are a guild leader, then you can name 5 deputy leaders.");
                                                dialog.Option("Create guild.", 1);
                                              //  dialog.Option("Name deputy leader.", 3);
                                                //dialog.Option("Weird  Named Deputy leader.", 16);
                                              //  dialog.Option("Move leadership.", 6);
                                                dialog.Option("Disband guild.", 9);
                                                //dialog.Option("Remove ins From my items.", 15);
                                                dialog.Option("I don't have that.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        default:
                                            {
                                                var member = client.Guild.Members.Values.Where(x => x.Name.StartsWith("~")).OrderBy(z => z.ID).ToArray()[npcRequest.OptionID - 100];
                                                if (member.Rank != Conquer_Online_Server.Game.Enums.GuildMemberRank.Member)
                                                {
                                                    dialog.Text("You cannot promote this member anymore.");
                                                    dialog.Option("Ah, nevermind.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                else
                                                {
                                                    member.Rank = Conquer_Online_Server.Game.Enums.GuildMemberRank.DeputyLeader;
                                                    if (member.IsOnline)
                                                    {
                                                        client.Guild.SendGuild(member.Client);
                                                        member.Client.Entity.GuildRank = (ushort)member.Rank;
                                                        member.Client.Screen.FullWipe();
                                                        member.Client.Screen.Reload(null);
                                                    }
                                                    dialog.Text("You have prometed " + member.Name + "to be a DeputyLeader");
                                                    dialog.Option("cool!", 255);
                                                    dialog.Send();
                                                  //  client.Guild.DeputyLeaderCount++;
                                                    Database.EntityTable.UpdateGuildRank(member.ID, member.Rank);
                                                }
                                                break;
                                            }
                                        case 16:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    var invchar = client.Guild.Members.Values.Where(x => x.Name.StartsWith("~")).OrderBy(z => z.ID).ToArray();
                                                    if (invchar.Length == 0)
                                                    {
                                                        dialog.Text("You don't have any members that start with weird char!.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("choose one!.");
                                                        for (int i = 0; i < invchar.Length; i++)
                                                        {
                                                            dialog.Option(invchar[i].Name, (byte)(100 + i));
                                                        }
                                                        dialog.Send();
                                                    }

                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 15:
                                            {
                                                if (client.Guild != null)
                                                {
                                                    dialog.Text("Sorry you Already in guild i cant help you, need to Quit so i can help You.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    //Conquer_Online_Server.Database.ConquerItemTable.deleteallguildins(client);
                                                    dialog.Text("Congratulations, all your items is back to normal status again, Now you need to Relog!");
                                                    dialog.Option("Thanks, i'll relog.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    dialog.Text("Are you sure you want to disband your guild?");
                                                    dialog.Option("Yes.", 10);
                                                    dialog.Option("Ah, nevermind.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    client.Guild.Disband();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    dialog.Text("Input here the member name you want to promote as guild leader.");
                                                    dialog.Input("Here:", 7, 16);
                                                    dialog.Option("Ah, nevermind.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    if (npcRequest.Input != "")
                                                    {
                                                        string lookingFor = npcRequest.Input.Replace(" ", "").Replace("~", "");
                                                        var member = client.Guild.Members.Values.FirstOrDefault((p) => p.Name.Replace(" ", "").Replace("~", "") == lookingFor);

                                                        if (member == null)
                                                        {
                                                            dialog.Text("There is no such member in your guild.");
                                                            dialog.Option("Ah, nevermind.", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                        else
                                                        {
                                                            if (member.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                            {
                                                                dialog.Text("You cannot promote this member anymore.");
                                                                dialog.Option("Ah, nevermind.", 255);
                                                                dialog.Send();
                                                                return;
                                                            }
                                                            else
                                                            {
                                                                client.Entity.GuildBattlePower = 0;
                                                                client.AsMember.Rank = member.Rank;
                                                                EntityTable.UpdateGuildRank(client.Entity.UID, member.Rank);
                                                                member.Rank = Game.Enums.GuildMemberRank.GuildLeader;
                                                                EntityTable.UpdateGuildRank(member.ID, member.Rank);
                                                                if (member.IsOnline)
                                                                {
                                                                    var memberClient = member.Client;
                                                                    member.Client.Entity.GuildBattlePower = 0;
                                                                    memberClient.Entity.GuildRank = (ushort)member.Rank;
                                                                    memberClient.Screen.FullWipe();
                                                                    memberClient.Screen.Reload(null);
                                                                    memberClient.Guild.SendGuild(memberClient);
                                                                }
                                                                client.Entity.GuildRank = (ushort)client.AsMember.Rank;
                                                                client.Screen.FullWipe();
                                                                client.Screen.Reload(null);
                                                                client.Guild.SendGuild(client);
                                                                client.Guild.GetMaxSharedBattlepower(true);
                                                            }
                                                        }
                                                    }
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                 //   dialog.Text("You have now " + client.Guild.DeputyLeaderCount + " named deupty leaders.");
                                                    if (true)
                                                   {
                                                        dialog.Text("You cannot name any other deupty leader.");
                                                        dialog.Option("Ah, nevermind.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Input here the member name you want to promote as deputy leader.");
                                                        dialog.Input("Here:", 4, 16);
                                                        dialog.Option("Ah, nevermind.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 4:
                                            {
                                                if (client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                {
                                                    if (npcRequest.Input != "")
                                                    {
                                                        string lookingFor = npcRequest.Input.Replace(" ", "~");
                                                        var member = client.Guild.Members.Values.FirstOrDefault((p) => p.Name == lookingFor);

                                                        if (member == null)
                                                        {
                                                            dialog.Text("There is no such member in your guild.");
                                                            dialog.Option("Ah, nevermind.", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                        else
                                                        {
                                                            if (member.Rank != Conquer_Online_Server.Game.Enums.GuildMemberRank.Member)
                                                            {
                                                                dialog.Text("You cannot promote this member anymore.");
                                                                dialog.Option("Ah, nevermind.", 255);
                                                                dialog.Send();
                                                                return;
                                                            }
                                                            else
                                                            {
                                                                member.Rank = Conquer_Online_Server.Game.Enums.GuildMemberRank.DeputyLeader;
                                                                if (member.IsOnline)
                                                                {
                                                                    client.Guild.SendGuild(member.Client);
                                                                    member.Client.Entity.GuildRank = (ushort)member.Rank;
                                                                    member.Client.Screen.FullWipe();
                                                                    member.Client.Screen.Reload(null);
                                                                    member.Client.Entity.GuildBattlePower = member.Guild.GetSharedBattlepower(member.Rank);
                                                                }
                                                              //  client.Guild.DeputyLeaderCount++;
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Please input the name of the person you want to Deputilize.");
                                                        dialog.Option("Ah, Ok.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You are not the guild leader of the current guild you are in.");
                                                    dialog.Option("Ah, Ok.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Guild == null && client.Entity.Level >= 90 && client.Entity.Money >= 1000000)
                                                {
                                                    dialog.Text("Name your guild. The name must have less than 16 characters of any type.");
                                                    dialog.Input("Here:", 2, 16);
                                                    dialog.Option("Ah, nevermind.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Guild == null && client.Entity.Level >= 90 && client.Entity.Money >= 1000000)
                                                {
                                                    if (npcRequest.Input != "" && npcRequest.Input.Length > 3 && npcRequest.Input.Length < 16)
                                                    {
                                                        if (!Guild.CheckNameExist(npcRequest.Input))
                                                        {
                                                            client.Entity.Money -= 1000000;
                                                            Guild guild = new Guild(client.Entity.Name);
                                                            guild.ID = Guild.GuildCounter.Next;
                                                            guild.SilverFund = 1000000;
                                                            client.AsMember = new Conquer_Online_Server.Game.ConquerStructures.Society.Guild.Member(guild.ID)
                                                            {
                                                                SilverDonation = 1000000,
                                                                ID = client.Entity.UID,
                                                                Level = client.Entity.Level,
                                                                Name = client.Entity.Name,
                                                                Rank = Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader,
                                                            };
                                                            if (client.NobilityInformation != null)
                                                            {
                                                                client.AsMember.Gender = client.NobilityInformation.Gender;
                                                                client.AsMember.NobilityRank = client.NobilityInformation.Rank;
                                                            }

                                                            client.Entity.GuildID = (ushort)guild.ID;
                                                            client.Entity.GuildRank = (ushort)Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader;
                                                            guild.Leader = client.AsMember;
                                                            client.Guild = guild;
                                                            guild.Create(npcRequest.Input);
                                                            guild.Name = npcRequest.Input;
                                                            guild.MemberCount++;
                                                            guild.SendGuild(client);
                                                            guild.SendName(client);
                                                            Database.GuildArsenalTable.Insert(guild.ID);
                                                            client.Screen.FullWipe();
                                                            client.Screen.Reload(null);
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("There is a Guild Already with this Name i'm sorry.");
                                                            dialog.Option("Choose another Name", 1);
                                                            dialog.Option("Ok Sorry.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region ClanManager
                            case 552242:
                                {
                                    var clan = client.Entity.GetClan;
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (clan == null)
                                                {
                                                    dialog.Text("The Clan is not only a group, but also a bond between its members! You can ");
                                                    dialog.Text("have a maximum of 12 members in a clan at one time, this means 6 ");
                                                    dialog.Text("members and their spouses. After you create and upgrade the Clan, you can ");
                                                    dialog.Text("gain the BP Bonus Level, which can be shared by Clan members.");
                                                    dialog.Option("How to create a Clan?", 6);
                                                    dialog.Option("I have no interest.", 255);
                                                }
                                                /*else if (client.Entity.Guild != null && client.Entity.GuildRank == Conquer_Online_Server.Game.Features.Guilds.GuildRank.GuildLeader)
                                                {
                                                    dialog.Text("Greetings! I am the guild director, in charge of administrating and managing");
                                                    dialog.Text("guilds. What business do you have with me?");
                                                    dialog.Option("Disband my guild.", 4);
                                                    //dialog.Option("Pass my leaderance.", 5);
                                                    //dialog.Option("Set a new deputy.", 6);
                                                    //dialog.Option("Remove deputy.", 7);
                                                    dialog.Option("Just passing by.", 255);
                                                }*/
                                                else
                                                {
                                                    dialog.Text("Greetings! I am the clan manager, in charge of administrating and managing");
                                                    dialog.Text("clans, but I can't help you...");
                                                    if (clan != null)
                                                    {
                                                        if (client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                        {
                                                            dialog.Option("Move leadership", 20);
                                                            dialog.Option("Disband my clan", 9);
                                                        }
                                                    }
                                                    dialog.Option("I see.", 255);
                                                }
                                                dialog.Avatar(60);
                                                dialog.Send();
                                                break;
                                            }
                                        case 6:
                                            {
                                                dialog.Text("After you reach Level 50, you can create a Clan with 500,000 silver, half of");
                                                dialog.Text("which will be the Clan Fund. You can recruit your members and build your");
                                                dialog.Text("elite group! Of course, you can only be in one Can at a time. What do you");
                                                dialog.Text("think? Are you ready to start your new group?");
                                                dialog.Option("Create a Clan now.", 2);
                                                dialog.Option("I`m busy.", 255);
                                                dialog.Avatar(60);
                                                dialog.Send();
                                                break;
                                            }
                                        #region dialog create
                                        case 2:
                                            {
                                                if (client.Entity.Money < 500000)
                                                {
                                                    dialog.Text("You don`t have enough money to create a Clan. Creating a Clan needs");
                                                    dialog.Text("500,000 silver. Half of which will be the Clan Fund. A Clan has to have money");
                                                    dialog.Text("if you want to survive, you know. Can`t have a war without money!");
                                                    dialog.Option("I see.", 255);
                                                    dialog.Avatar(60);
                                                    dialog.Send();
                                                    return;
                                                }
                                                dialog.Text("Remember i will charge the cost of 500.000 Silvers, to Create this Clan.");
                                                dialog.Input("My Clan name will be...", 8, 16);
                                                dialog.Avatar(60);
                                                dialog.Send();
                                                break;
                                            }
                                        case 9:
                                            {
                                                Kernel.SendWorldMessage(new Message(String.Format("{0} has succesfully Disband his Clan {1}!", client.Entity.Name, client.Entity.ClanName), Color.Red, Message.TopLeft));
                                                Conquer_Online_Server.Clan.DisbandClan(client);
                                                //dialog.Text("COMING SOON");
                                                //dialog.Option("I'll be right back!", 255);
                                                //dialog.Avatar(60);
                                                //dialog.Send();
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Money < 500000)
                                                {
                                                    dialog.Text("You don't have 500.000 silvers, i can't create your clan!");
                                                    dialog.Option("I'll be right back!", 255);
                                                    goto Jump;
                                                }
                                                string _name = npcRequest.Input;
                                                if (_name == "" || _name.Contains(" "))
                                                {
                                                    dialog.Text("You don't give me a name...");
                                                    dialog.Option("I see.", 255);
                                                    goto Jump;
                                                }
                                                else if (_name != "")
                                                {
                                                    if (Kernel.ValidClanName(_name))
                                                    {
                                                        if (client.Entity.Money >= 500000)
                                                        {
                                                            client.Entity.Money -= 500000;

                                                            Conquer_Online_Server.Clan.CreateClan(client, _name);
                                                            dialog.Text("Congratulation You Have Created your clan!");
                                                            dialog.Option("Alright,", 255);
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't have 500.000 silvers, i can't create your clan!");
                                                            dialog.Option("Alright,", 255);
                                                            goto Jump;
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("The Clan name exist");
                                                        dialog.Option("Alright i`ll try again", 255);
                                                        goto Jump;
                                                    }
                                                }
                                            Jump:
                                                dialog.Avatar(60);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        case 20:
                                            {
                                                if (clan != null && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                {
                                                    dialog.Text("Input here the member name you want to promote as clan leader.");
                                                    dialog.Input("Here:", 21, 16);
                                                    dialog.Option("Ah, nevermind.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 21:
                                            {
                                                if (clan != null && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                                {
                                                    if (npcRequest.Input != "")
                                                    {
                                                        string lookingFor = npcRequest.Input.Replace(" ", "");
                                                        var member = clan.Members.Values.FirstOrDefault((p) => p.Name.Replace(" ", "").Replace("~", "") == lookingFor);

                                                        if (member == null)
                                                        {
                                                            dialog.Text("There is no such member in your guild.");
                                                            dialog.Option("Ah, nevermind.", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                        else
                                                        {
                                                            if (member.Rank == Clan.Ranks.ClanLeader)
                                                            {
                                                                dialog.Text("You cannot promote this member anymore.");
                                                                dialog.Option("Ah, nevermind.", 255);
                                                                dialog.Send();
                                                                return;
                                                            }
                                                            else
                                                            {
                                                                clan.LeaderId = member.Identifier;
                                                                clan.LeaderName = member.Name;
                                                                Clan.SaveClan(clan);

                                                                if (member.IsOnline)
                                                                {
                                                                    var rank = member.Rank;
                                                                    var mClient = member.Client;
                                                                    member.Rank = mClient.Entity.ClanRank = client.Entity.ClanRank;
                                                                    client.Entity.ClanRank = clan.Members[client.Entity.UID].Rank = rank;
                                                                    Database.EntityTable.UpdateClanRank(mClient);
                                                                    Database.EntityTable.UpdateClanRank(client);
                                                                    clan.Build(client, Clan.Types.Info);
                                                                    client.Send(clan);
                                                                    client.SendScreen(client.Entity.SpawnPacket, false);
                                                                    clan.Build(mClient, Clan.Types.Info);
                                                                    mClient.Send(clan);
                                                                    mClient.SendScreen(mClient.Entity.SpawnPacket, false);
                                                                }
                                                                else
                                                                {
                                                                    var rank = member.Rank;
                                                                    member.Rank = client.Entity.ClanRank;
                                                                    client.Entity.ClanRank = clan.Members[client.Entity.UID].Rank = rank;
                                                                    Database.EntityTable.UpdateClanRank(member.UID, (uint)member.Rank);
                                                                    Database.EntityTable.UpdateClanRank(client);
                                                                    clan.Build(client, Clan.Types.Info);
                                                                    client.Send(clan);
                                                                    client.SendScreen(client.Entity.SpawnPacket, false);
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            break;

                                    }
                                    break;
                                }
                            #endregion

                            #region Barber
                            case 10002:
                                {
                                    dialog.Avatar(241);
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("What kind of hair style would you like?");
                                                dialog.Option("New Styles", 1);
                                                dialog.Option("Nostalgic Styles", 2);
                                                dialog.Option("Special Styles", 3);
                                                dialog.Option("VIP Styles", 4);
                                                dialog.Option("Nevermind", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #region New Hair Styles
                                        #region Options
                                        case 1:
                                            {

                                                dialog.Text("Which new style do you want?");
                                                dialog.Option("New Hairstyle 1", 10);
                                                dialog.Option("New Hairstyle 2", 11);
                                                dialog.Option("New Hairstyle 3", 12);
                                                dialog.Option("New Hairstyle 4", 13);
                                                dialog.Option("New Hairstyle 5", 14);
                                                dialog.Option("New Hairstyle 6", 15);
                                                dialog.Option("New Hairstyle 7", 16);
                                                dialog.Option("More styles.", 102);
                                                dialog.Send();
                                                break;

                                            }
                                        case 102:
                                            {

                                                dialog.Text("Which new style do you want?");
                                                dialog.Option("New Hairstyle 8", 17);
                                                dialog.Option("New Hairstyle 9", 18);
                                                dialog.Option("New Hairstyle 10", 19);
                                                dialog.Option("New Hairstyle 11", 20);
                                                dialog.Option("New Hairstyle 12", 21);
                                                dialog.Option("Back.", 1);
                                                dialog.Option("Nevermind", 255);
                                                dialog.Send();
                                                break;

                                            }
                                        #endregion
                                        #region ...
                                        case 10:
                                        case 11:
                                        case 12:
                                        case 13:
                                        case 14:
                                        case 15:
                                        case 16:
                                        case 17:
                                        case 18:
                                        case 19:
                                        case 20:
                                        case 21:
                                            {
                                                client.Entity.HairStyle = ushort.Parse(Convert.ToString(client.Entity.HairStyle)[0] + (20 + npcRequest.OptionID).ToString());
                                                dialog.Text("Done!");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #endregion
                                        #region Nostalgic Hair Styles
                                        #region Options
                                        case 2:
                                            {

                                                dialog.Text("Which new style do you want?");
                                                dialog.Option("Nostalgic Hairstyle 1", 30);
                                                dialog.Option("Nostalgic Hairstyle 2", 31);
                                                dialog.Option("Nostalgic Hairstyle 3", 32);
                                                dialog.Option("Nostalgic Hairstyle 4", 33);
                                                dialog.Option("Nostalgic Hairstyle 5", 34);
                                                dialog.Option("Nostalgic Hairstyle 6", 35);
                                                dialog.Option("Nostalgic Hairstyle 7", 36);
                                                dialog.Option("Nevermind.", 255);
                                                dialog.Send();
                                                break;

                                            }
                                        #endregion
                                        #region ...
                                        case 30:
                                        case 31:
                                        case 32:
                                        case 33:
                                        case 34:
                                        case 35:
                                        case 36:
                                            {
                                                client.Entity.HairStyle = ushort.Parse(Convert.ToString(client.Entity.HairStyle)[0] + (npcRequest.OptionID - 20).ToString());
                                                dialog.Text("Done!");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #endregion
                                        #region Special Hair Styles
                                        #region Options
                                        case 3:
                                            {

                                                dialog.Text("Which new style do you want?");
                                                dialog.Option("New Hairstyle 1", 40);
                                                dialog.Option("New Hairstyle 2", 41);
                                                dialog.Option("New Hairstyle 3", 42);
                                                dialog.Option("New Hairstyle 4", 43);
                                                dialog.Option("New Hairstyle 5", 44);
                                                dialog.Option("Nevermind.", 255);
                                                dialog.Send();
                                                break;

                                            }
                                        #endregion
                                        #region ...
                                        case 40:
                                        case 41:
                                        case 42:
                                        case 43:
                                        case 44:
                                            {
                                                client.Entity.HairStyle = ushort.Parse(Convert.ToString(client.Entity.HairStyle)[0] + (npcRequest.OptionID - 19).ToString());
                                                dialog.Text("Done!");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #endregion
                                        #region VIP Hair Styles
                                        #region Options
                                        case 4:
                                            {
                                                if (client.Entity.VIPLevel <= 3)
                                                {
                                                    dialog.Text("You are not a VIP Level 4 or more.");
                                                    dialog.Option("Ah...", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                dialog.Text("Which new style do you want?");
                                                dialog.Option("VIP Hairstyle 1", 70);
                                                dialog.Option("VIP Hairstyle 2", 71);
                                                dialog.Option("VIP Hairstyle 3", 72);
                                                dialog.Option("VIP Hairstyle 4", 73);
                                                dialog.Option("VIP Hairstyle 5", 74);
                                                dialog.Option("Nevermind.", 255);
                                                dialog.Send();
                                                break;

                                            }
                                        #endregion
                                        #region ...
                                        case 70:
                                        case 71:
                                        case 72:
                                        case 73:
                                        case 74:
                                            {
                                                client.Entity.HairStyle = (ushort)(client.Entity.HairColor * 100 + npcRequest.OptionID);
                                                dialog.Text("Done!");
                                                dialog.Option("Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #endregion
                                    }
                                    break;
                                }
                            #endregion

                            #region Assistant
                            case 4293:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Do you want to visit the mine?");
                                                dialog.Option("Yes.", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1028, 155, 95);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region HonorableBonze
                            case 3180:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I am the Honor level admin, would you like some extra levels?");
                                                dialog.Option("Yes", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("Alright, it'll cost you 2 million cps, each level, and you will need to be a vip 6!");
                                                dialog.Option("Fine Level-Up me!", 2);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.VIPLevel == 6 && (client.Entity.Level >= 140 && client.Entity.Level < 145))
                                                {
                                                    if (client.Entity.ConquerPoints >= 2000000)
                                                    {
                                                        client.Entity.ConquerPoints -= 2000000;
                                                        client.Entity.Level++;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I am sorry you don't have enough cps.");
                                                        dialog.Option("Uh!", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("Are you trying to fuck with me? you are not a VIP Lev6 or not Lev140+ player..fuck off!");
                                                    dialog.Option("Uh!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Furniture Store NPC
                            case 30161:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Welcome to Twin City Furniture Store. Currently, you have a limited selection, but more furniture will come in soon.");
                                                dialog.Option("I wanna have a look.", 1);
                                                dialog.Option("I am not interested.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1511, 52, 70);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion


                            #region General Peace
                            case 10054:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Stop!\nThe path ahead of you is dangerous.\nI don't recommend you continue on this path.\n");
                                                if (client.Entity.Level <= 70)
                                                {
                                                    dialog.Text("If you are looking from stronger monsters you should look in the Canyon first.\n");
                                                    dialog.Text("You can find your way there in the south-west part of the wind plain.\n");
                                                }
                                                dialog.Option("Leave me alone General.", 1);
                                                dialog.Option("Okay, thanks for the warning.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1000, 973, 668);
                                                break;
                                            }
                                    }
                                    break;
                                }

                            #endregion


                            #region Jail npc
                            case 10081: //Jail npc
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you in jail for the amount of 1000 silvers. Do you want to proceed?");
                                                dialog.Option("Sure.", 1);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 1000)
                                                {
                                                    client.Entity.Money -= 1000;
                                                    client.Entity.Teleport(6000, 32, 72);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need 1000 silvers to be able to enter the jail.");
                                                    dialog.Option("Alright.", 255);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Arena npc
                            case 10021: //Arena npc
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you in jail for the amount of 50 silvers. Do you want to proceed?");
                                                dialog.Option("Sure.", 1);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 50)
                                                {
                                                    client.Entity.Money -= 50;
                                                    client.Entity.Teleport(1005, 51, 71);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need 50 silvers to be able to enter the jail.");
                                                    dialog.Option("Alright.", 255);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region ShopBoy
                            case 10063: //ShopBoy
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you in our shop, but I can also dye your armor black for the price of one DragonBall. What do you say?");
                                                dialog.Option("Teleport me in the shop.", 1);
                                                dialog.Option("Dye my armor black.", 2);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1008, 22, 26);
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(1088000, 1))
                                                {
                                                    ConquerItem armor = client.Equipment.TryGetItem(3);
                                                    if (armor != null && armor.ID != 0)
                                                    {
                                                        client.Inventory.Remove(1088000, 1);
                                                        armor.Color = Conquer_Online_Server.Game.Enums.Color.Black;
                                                        Conquer_Online_Server.Database.ConquerItemTable.UpdateColor(armor);
                                                        armor.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                        armor.Send(client);
                                                        client.Equipment.UpdateEntityPacket();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't wear an armor right now so I can't do anything.");
                                                        dialog.Option("Ah alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("Hmm...You don't have one DragonBall so I can't dye your armor.");
                                                    dialog.Option("Ah alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Kungfu Boy
                            case 100229:
                                {
                                    // If inv contains jade glyph
                                    // npcRequest.OptionID = 5
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                //#warning (Kungfu Boy) Check for begenniers quest, check for the note. Echo this text.
                                                dialog.Text("I started learning Kungfu when I was very young.\nNow I have learn to master my Chi very well! Wanna have a try?");
                                                dialog.Option("Yeah!", 1);
                                                dialog.Option("I don't care...", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("Oh, a message from the Village Gateman? I see.\nHe wants me to teach you how to master your Chi.");
                                                dialog.Option("I'm listening.", 2);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("Press the Ctrl button, move the mouse arrow to the place you want to jump to and left click.");
                                                dialog.Text("You should know, you can't jump to a place you can't just normally walk to sometimes.");
                                                dialog.Option("Gotcha.", 3);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                dialog.Text("Good! It seems that you have mastered this skill. One more thing!\n");
                                                dialog.Text("My sister, Kungfu Girl, has stolen my Jade Glyph and taken it up onto the roof behind me. Can you go get it for me?");
                                                dialog.Option("No problem.", 4);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                //#warning (Kungfu boy) Add quest progress
                                                client.Send(new Message("Jump to the roof behind Kungfu Boy and catch his mischievous sister!", System.Drawing.Color.Green, Message.PopUP));
                                                break;
                                            }
                                        case 5:
                                            {
                                                dialog.Text("Hey you got it! Thank you. I see you've mastered your Chi.");
                                                dialog.Option("I have.", 6);
                                                dialog.Send();
                                                break;
                                            }
                                        case 6:
                                            {
                                                dialog.Text("Well, thats good. I storngly recommend you go visit the Armorer in Twin City.");
                                                dialog.Text(" You need to pick out some armor. It will save your life!");
                                                dialog.Option("I'll think about it.", 255);
                                                dialog.Send();
                                                break;
                                            }

                                    }
                                    break;
                                }

                            #endregion

                            #region Kungfu Girl
                            case 127271:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Haha! I wanted to play a trick on my brother! Don't tell him.");
                                                dialog.Option("He knows already.", 2);
                                                dialog.Option("You are very naughty.", 1);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("Teehee!");
                                                dialog.Option("He knows about this, you know.", 2);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("Oh, well you got me.... Alright. Here's his Jade Glyph. Take it.");
                                                dialog.Option("Good!", 3);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                //#warning (Kungfu boy) Add quest progress
                                                client.Send(new Message("You got Kungfu Boy's Jade Glyph back from Kungfu Girl! Take it back to Kungfu Boy.", System.Drawing.Color.Green, Message.PopUP));
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            //#region Wanted
                            //case 87950:

                            //    switch (npcRequest.OptionID)
                            //    {
                            //        case 0:
                            //            {
                            //                dialog.Text("Hello" + client.Entity.Name + "You Can But Here Name Of Player To Offer Some Cps For Who Kill Him  ");
                            //                dialog.Text("U will enter Some of ur Cps minimum 100K Cps to register");
                            //                dialog.Text("When Some One Kill Him He Will Take This Cps");
                            //                dialog.Option("But Player Name.", 1);
                            //                dialog.Option("Later.", 0xff);
                            //                dialog.Send();

                            //                break;
                            //            }
                            //        case 1:
                            //            if (client.Entity.ConquerPoints < 100000)
                            //            {
                            //                dialog.Text("Sorry u don't have 100k cps ");
                            //                dialog.Send();
                            //                return;
                            //            }
                            //            dialog.Text("Are U Sure U Wont To Use this Servies ");
                            //            dialog.Option("Yes Lest Go.", 5);
                            //            dialog.Option("no thx .", 255);
                            //            dialog.Send();
                            //            break;
                            //        case 5:
                            //            if (client.Entity.ConquerPoints < 500000)
                            //            {
                            //                dialog.Text(" u Dont have 100 k cps");
                            //                dialog.Option("Sorry.", 0xff);
                            //                dialog.Send();
                            //            }
                            //            dialog.Text("Please write Cps Value ");
                            //            dialog.Input("Cps Value", 7, 16);
                            //            dialog.Option("Exit.", 0xff);
                            //            dialog.Send();
                            //            return;
                            //        case 7:
                            //            try
                            //            {
                            //                string input = npcRequest.Input;
                            //                uint num3 = Convert.ToUInt32(npcRequest.Input);
                            //                if ((client.Entity.ConquerPoints >= num3) && (num3 >= 100000))
                            //                {
                            //                    client.Entity.cpsea = num3;

                            //                    dialog.Text("You have add " + client.Entity.cpsea + " To play");
                            //                    dialog.Text("Please write your Player Wont To Kille Him .");
                            //                    dialog.Input("Killer Name", 10, 0x10);
                            //                    dialog.Send();
                            //                }
                            //                else
                            //                {
                            //                    dialog.Text("You don't have " + num3 + " CPs.");
                            //                    dialog.Option("Sorry.", 0xff);
                            //                    dialog.Send();
                            //                }
                            //            }
                            //            catch
                            //            {
                            //                dialog.Text("Please write the correct value.");
                            //                dialog.Option("Try Again.", 5);
                            //                dialog.Option("Quit.", 0xff);
                            //                dialog.Send();
                            //            }
                            //            return;
                            //        case 10:
                            //            {

                            //                string NameOfDead = client.Entity.KillerName = npcRequest.Input;
                            //                if (client.Entity.Name == client.Entity.KillerName)
                            //                {
                            //                    dialog.Text("This is your name! try again");
                            //                    dialog.Input("Try Again.", 10, 14);
                            //                    dialog.Option("No, Thanks.", 0xff);
                            //                    dialog.Send();
                            //                    return;
                            //                }

                            //                MySqlCommand cmd = new MySqlCommand(MySqlCommandType.SELECT);
                            //                cmd.Select("entities").Where("Name", NameOfDead);
                            //                MySqlReader r = new MySqlReader(cmd);
                            //                if (r.Read())
                            //                {
                            //                    client.Entity.ConquerPoints -= client.Entity.cpsea;
                            //                    client.Entity.KillerCps = client.Entity.cpsea;
                            //                    uint uid = r.ReadUInt32("UID");
                            //                    Entity.KilleStart(client, dialog, NameOfDead, uid);
                            //                    client.Entity.cpsea = 0;
                            //                }
                            //                else
                            //                {
                            //                    dialog.Text("Wrong Name");
                            //                    dialog.Input("Try Again.", 10, 14);
                            //                    dialog.Send();
                            //                    return;
                            //                }

                            //            }
                            //            break;
                            //    }
                            //    return;

                            //#endregion
                            #region Simon
                            case 1152:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hmm, a few years ago, me and some friends of mine, started exploring the mountains. It was an usual day, cloudy with a very happy sun. We all went on the mountain to explore and level up a bit. Somehow we was all tricked into seeing a fantasy land and we went that way. We found a big rock that looked like a door, we broke it and went in. Since then, my friends are in the place we found and which we called the labirinth as it was full of powerful creatures that were leading each of the four levels of the labirith. Each friend of mine chose a floor and they await great conquerors at the end of each floor. ");
                                                dialog.Option("Tell me more about it.", 1);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("In each floor there are three kinds of monsters, floor one has Slingers, GoldGhosts and the powerful Gibbon. The second floor has the AgileRats, Bladelings and the snake Naga. The third floor has BlueBirds, FiendBats and the mighty Talon. The last floor, the fourth, has MinotaurL120 and the Syren. Each of them drops some items, and you'll need some to get to the next floor, or some others to claim a reward from me.");
                                                dialog.Option("What rewards?", 2);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("In exchange of 17 SunDiamonds(dropped by Slingers) I will give you two meteors, for 17 MoonDiamonds(dropped by Bladelings), I will give you 4 meteors, for 17 StarDiamonds(dropped by BlueBirds), I will give you 4 meteor tears, and lastly for 17 CloudDiamonds, I will give you one DragonBall. More over, to get to the second floor from first one you need a SkyToken(dropped by GoldGhost), from second to third a EarthToken(dropped by AgileRat) and from third to fourth a SoulToken(dropped by FiendBat).");
                                                dialog.Option("Enough talking.", 3);
                                                dialog.Option("Claim my reward.", 4);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                dialog.Text("Right. In exchange of 2000 VirtuePoints, I will be more than glad to teleport you in the first floor of the Labirith.");
                                                dialog.Option("Here, take them.", 5);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                dialog.Text("What do you want to claim?");
                                                dialog.Option("Two Meteors.", 6);
                                                dialog.Option("Four Meteors.", 7);
                                                dialog.Option("Four Meteor tears.", 8);
                                                dialog.Option("One DragonBall.", 9);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.VirtuePoints >= 2000)
                                                {
                                                    client.VirtuePoints -= 2000;
                                                    client.Entity.Teleport(1351, 018, 127);
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Inventory.Contains(721533, 17))
                                                {
                                                    client.Inventory.Remove(721533, 17);
                                                    client.Inventory.Add(1088001, 0, 2);
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Inventory.Contains(721534, 17))
                                                {
                                                    client.Inventory.Remove(721534, 17);
                                                    client.Inventory.Add(1088001, 0, 4);
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Inventory.Contains(721535, 17))
                                                {
                                                    client.Inventory.Remove(721535, 17);
                                                    client.Inventory.Add(1088002, 0, 4);
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Inventory.Contains(721536, 17))
                                                {
                                                    client.Inventory.Remove(721536, 17);
                                                    client.Inventory.Add(1088000, 0, 1);
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't meet the requierments.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region MoonBoxQuest
                            #region FortuneTeller
                            case 600050:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello " + client.Entity.Name + ", Have you heard of the palace method?");
                                                dialog.Option("Palace method?..", 1);
                                                dialog.Option("Don't care!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("I discovered a mystical tactic, but I was not able to solve it.\nI almost died! It's very dangerous.");
                                                dialog.Option("Sounds like my kind of fun.", 2);
                                                dialog.Option("Too dangerous", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {

                                                dialog.Text("I'm serious! You don't understand it's very dangerous...");
                                                dialog.Option("Yea yea. Just take my there.", 3);
                                                dialog.Option("Nevermind... o.o", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                client.Entity.Teleport(1042, 028, 033);
                                                dialog.Text("I warned you....");
                                                dialog.Option("I think you're full of it.\nThere's nothing here.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #endregion
                            #region SkillSoul
                            case 12345:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {

                                                dialog.Text("Hi " + client.Entity.Name + " iam Skill Soul Manger Would You Like To Open Skill Soul i have 2 Kind ");
                                                dialog.Option("Open Skill Soul [Super]", 1);
                                                dialog.Option("Open Skill Soul [Normal]", 2);
                                                dialog.Option("Sorry ", 255);
                                                dialog.Send();
                                                break;
                                            }

                                        case 2:
                                            {
                                                if (client.Entity.OpenskillSoul == false)
                                                {
                                                    if (client.Entity.ConquerPoints >= 100000)
                                                    {
                                                        client.Entity.ConquerPoints -= 100000;
                                                        client.Entity.OpenskillSoul = true;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You Don't Have 100k Cps Come When You Have it ");
                                                        dialog.Option("Sorry ", 255);
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You already have it");
                                                    dialog.Option("Sorry ", 255);
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.SuperSkillSoul == false)
                                                {
                                                    if (client.Entity.VIPLevel >= 4)
                                                    {
                                                        if (client.Entity.ConquerPoints >= 200000)
                                                        {
                                                            client.Entity.ConquerPoints -= 200000;
                                                            client.Entity.SuperSkillSoul = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You Don't Have 200k Cps Come When You Have it ");
                                                            dialog.Option("Sorry ", 255);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You must Have [VIP] 4");
                                                        dialog.Option("Sorry ", 255);
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You already have it");
                                                    dialog.Option("Sorry ", 255);
                                                }
                                                break;
                                            }

                                    }
                                    break;
                                }
                            #endregion
                            #region MoonBox
                            case 556006:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hey, Do you want to Hunt Moonbox?");
                                                dialog.Option("Yes!.", 1);
                                                dialog.Option("Nah! No Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }

                                        case 1:
                                            {
                                                client.Entity.Teleport(2060, 130, 129);
                                                break;
                                            }

                                    }
                                    break;
                                }
                            #endregion
                            #region MoonBox
                            case 556005:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hey, Do you want to teleport in TwinCity? Are you Bored? Or No Luck Getting the Item");
                                                dialog.Option("Yes I Will.", 1);
                                                dialog.Option("Nah! No Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        
                                        case 1:
                                            {
                                                client.Entity.Teleport(1002, 301, 278);
                                                break;
                                            }
                                      
                                    }
                                    break;
                                }
                            #endregion
                            #region FrozenGrottoGeneral
                            case 27837:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("There is a dangeous frozen cavern south of nowhere! It's too dangerous for you to enter! Even Leroy Jenkins died there!");
                                                dialog.Option("I want to enter the grotto.", 4);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                dialog.Text("Ok, well.. Which floor of the Grotto do you want to enter?\n");
                                                dialog.Option("Floor 1 [Lv127]", 1);
                                                dialog.Option("Floor 2 [Lv132]", 2);
                                                dialog.Option("Floor 3 [Lv145]", 3);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1762, 290, 059);
                                                break;
                                            }
                                        case 2:
                                            {
                                                client.Entity.Teleport(1927, 290, 059);
                                                break;
                                            }
                                        case 3:
                                            {
                                                client.Entity.Teleport(2056, 370, 649);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                           /* #region DemonBoxDealer
                            case 2550:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (Program.World.DemonBox)
                                                {
                                                    dialog.Text("Recently, the government discovered ancient valuable deposits and lost Demon Boxes, including the rare Ancient Demon and Flood Demon Boxes. The demons were sealed in these Demon Boxes, to prevent them from rising up, if you can open the box and kill the Demon, you will receive CPs and an EXP bonus! I'm authorized as the dealer for the Demon Boxes Care to buy one?");
                                                    dialog.Option("Demon Box(10,000 CPs)", 1);
                                                    dialog.Option("Ancient Demon Box(50,000 CPs)", 5);
                                                    dialog.Option("Flood Demon Box(100,000 CPs)", 10);
                                                    dialog.Option("Heaven Demon Box(500,000 CPs)", 50);
                                                    dialog.Option("Chaos Demon Box(1000,000 CPs)", 100);
                                                    dialog.Option("Scared Demon Box(2000,000 CPs)", 200);
                                                    dialog.Option("I'll come back later.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Come here only when it's Thursday at 04:00 to 05:10 and 21:00 to 21:10 Server time! ");
                                                    dialog.Option("Oh I see!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        default:
                                            {
                                                uint cps = (uint)(npcRequest.OptionID * 10000);
                                                if (client.Entity.ConquerPoints >= cps)
                                                {
                                                    client.Entity.ConquerPoints -= cps;
                                                    switch (npcRequest.OptionID)
                                                    {
                                                        case 1: client.Inventory.Add(720650, 0, 1); break;
                                                        case 5: client.Inventory.Add(720651, 0, 1); break;
                                                        case 10: client.Inventory.Add(720652, 0, 1); break;
                                                        case 50: client.Inventory.Add(720671, 0, 1); break;
                                                        case 100: client.Inventory.Add(720672, 0, 1); break;
                                                        case 200: client.Inventory.Add(720673, 0, 1); break;
                                                    }
                                                }
                                                else
                                                {
                                                    client.Send(new Message("You don't have " + cps.ToString() + "CPs!", Color.Red, 2012));
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion*/
                            case 9260:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello! am selling ExpPotion for 500CPs. want any?");
                                                dialog.Option("Yeah! here is 500CPs.", 1);
                                                dialog.Option("No Thanks.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.ConquerPoints >= 500)
                                                {
                                                    client.Entity.ConquerPoints -= 500;
                                                    client.Inventory.Add(723017, 0, 1);
                                                    client.Send(new Message("You have got one ExpPotion!", Color.Red, 2012));
                                                }
                                                else
                                                {
                                                    client.Send(new Message("You don't have enough CPs!", Color.Red, 2012));
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }

                        }
                        break;
                    }
                #endregion
                #region Poker1
                case 8880:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Poker1
                            case 269857: //Poker1 npc
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you to the twin city for 100 Gold Just gimme 100 gold to travel away from here.");
                                                dialog.Option("Teleport me.", 1);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1002, 300, 278);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need 100 silvers to be able to Teleport To twin city.");
                                                    dialog.Option("Alright.", 255);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Poker2
                case 8881:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Poker2
                            case 369857: //Poker2 npc
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you to the twin city for 100 Gold Just gimme 100 gold to travel away from here.");
                                                dialog.Option("Teleport me.", 1);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1002, 300, 278);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need 100 silvers to be able to Teleport To twin city.");
                                                    dialog.Option("Alright.", 255);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region ThrilingSpook
                case 8892:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Mobs1
                            case 269861: //Mobs1 npc
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you back to TwinCity you should give me 100 Silver .");
                                                dialog.Option("Teleport me.", 1);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1002, 450, 350);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need 100 Silver to be able to Teleport To TwinCity.");
                                                    dialog.Option("Alright.", 255);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region MoonboxQuest
                case 1040:
                case 1041:
                case 1042:
                case 1043:
                case 1044:
                case 1045:
                case 1046:
                case 1047:
                case 1048:
                case 1049:
                case 1050:
                case 1051:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region MoonBoxQuest
                            #region Maggie
                            case 600003:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("What are you here for!?\nPlease do not go ahead, or you will enter the very dangerous tactics.");
                                                dialog.Option("....You too?", 1);
                                                dialog.Option("Send me to the tatics.", 4);
                                                dialog.Option("I had better leave here!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("The tactic is so changeful, I once thought highly of my self\nand died from the damned tactics.");
                                                dialog.Option("How can I solve the tatics?", 2);
                                                dialog.Option("I do not believe in this!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("I have studied it for so may years, but fail to work it out.\nPerhaps you can... Would you like to give it a try?");
                                                dialog.Option("Yes. I like a good challenge.", 3);
                                                dialog.Option("I changed my mind..", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                dialog.Text("You will be entrapped in the tatic if you enter.\nYou won't be able to leave until you've found a special token.");
                                                dialog.Option("I'm ready to do this.", 5);
                                                dialog.Option("No. This is too risky.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                dialog.Text("Alright, I'll take you there.\nYou must be sure to pick up the token!");
                                                dialog.Option("Okay.", 5);
                                                dialog.Send();
                                                break;
                                            }
                                        case 5:
                                            {
                                                ushort map = 1042;
                                                map += (ushort)Conquer_Online_Server.Kernel.Random.Next(1, 8);
                                                client.Entity.Teleport(map, 210, 164);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region GuardianGod
                            case 600004:
                            case 600006:
                            case 600008:
                            case 600010:
                            case 600012:
                            case 600014:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                string[] Tactics = { "Peace", "Chaos", "Deserted", "Disturbed", "Prosperous", "Calmed" };
                                                uint almostid = client.ActiveNpc / 2;
                                                uint baseId = 721010;
                                                uint tactic = almostid - 300002;
                                                baseId += tactic;
                                                if (client.Inventory.Contains(baseId, 1))
                                                {
                                                    dialog.Text("Congratulations, you have a token for this tactic. This tactic is " + Tactics[tactic] + ".");
                                                    dialog.Option("Ok, thanks!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't have a token for this tactic, I'm afraid I cannot tell you which tactic is it.");
                                                    dialog.Option("Ahh, thanks anyway!", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                    }
                                    break;
                                }
                            case 600016:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("You are in DeathTactic, you either die or proceed if you have 6 tokens that are not the same.");
                                                dialog.Option("Ok, thanks!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region Ghost
                            case 600005:
                            case 600007:
                            case 600009:
                            case 600011:
                            case 600013:
                            case 600015:
                                {
                                    uint almostId = (client.ActiveNpc - 1) / 2;
                                    uint baseId = 721010;
                                    uint tactic = almostId - 300002;
                                    baseId += tactic;
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {

                                                if (client.Inventory.Contains(baseId, 1))
                                                {
                                                    dialog.Text("Nice you have the token!\nAre you ready to leave?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("How dare you bother me without the token!\nYou will not leave this place until the token has been found!");
                                                    dialog.Option("Sorry I'll go find it!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Inventory.Contains(baseId, 1))
                                                {
                                                    client.Entity.Teleport(1042, 028, 033);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            case 600017:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I've been trapped here forever.\nI didn't have all the token before coming here.");
                                                dialog.Option("What about me?", 1);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("If you have all the tokens you may leave this place with a moonbox.\nIf you don't.... You must die. But, If you will Pay me 5000cps. I will let you out here.");
                                                dialog.Option("I have them! Please don't kill me!", 2);
                                                dialog.Option("Okay, I will Pay You.", 3);
                                                dialog.Option("Oh no...", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.ConquerPoints >= 5000)
                                                {
                                                    client.Entity.ConquerPoints -= 5000;
                                                    client.Entity.Teleport(1042, 028, 033);
                                                }
                                                else
                                                {
                                                    dialog.Text("Ay Pangilad Chuy! ");
                                                    dialog.Option("Hehehe. Sorry Gud. ", 255);
                                                }
                                                break;
                                            }
                                    
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(721010, 1) &&
                                                         client.Inventory.Contains(721011, 1) &&
                                                         client.Inventory.Contains(721012, 1) &&
                                                         client.Inventory.Contains(721013, 1) &&
                                                         client.Inventory.Contains(721014, 1) &&
                                                         client.Inventory.Contains(721015, 1))
                                                {
                                                    client.Inventory.Remove(721010, 1);
                                                    client.Inventory.Remove(721011, 1);
                                                    client.Inventory.Remove(721012, 1);
                                                    client.Inventory.Remove(721013, 1);
                                                    client.Inventory.Remove(721014, 1);
                                                    client.Inventory.Remove(721015, 1);

                                                    client.Inventory.Add(721072, 0, 1);
                                                    client.Entity.Teleport(1050, 210, 164);
                                                }
                                                else
                                                {
                                                    dialog.Text("You're wrong. Enjoy your death.");
                                                    dialog.Option("No!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region VagrantGhost
                            case 600018:
                            case 600019:
                            case 600020:
                            case 600021:
                            case 600022:
                            case 600023:
                            case 600024:
                            case 600025:
                            case 600026:
                            case 600027:
                            case 600028:
                            case 600029:
                            case 600030:
                            case 600031:
                            case 600032:
                            case 600033:
                            case 600034:
                            case 600035:
                            case 600036:
                            case 600037:
                            case 600038:
                            case 600039:
                            case 600040:
                            case 600041:
                            case 600042:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Help me... Please");
                                                dialog.Option("Who are you?", 1);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("I am a warrior trapped in these tactics please help me to revive!");
                                                dialog.Option("I have the SoulJade.", 2);
                                                dialog.Option("No.", 3);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(721072, 1))
                                                {
                                                    dialog.Text("Thank you! Will you recive my gift of a Moonbox?");
                                                    dialog.Option("Yes.", 3);
                                                    dialog.Option("Not needed.", 4);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not...even so, I shall help you leave this cursed map.");
                                                    dialog.Option("Please get me out of here.", 5);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Inventory.Contains(721072, 1))
                                                {
                                                    client.Inventory.Remove(721072, 1);
                                                    client.Inventory.Add(721080, 0, 1);
                                                    client.Entity.Teleport(1042, 028, 033);
                                                }
                                                break;
                                            }
                                        case 4:
                                            {
                                                client.Inventory.Remove(721072, 1);
                                                client.Entity.Teleport(1042, 028, 033);
                                                break;
                                            }
                                        case 5:
                                            {
                                                client.Entity.Teleport(1042, 028, 033);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Ape Canyon
                case 1020:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Ape City
                            case 10053:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello " + client.Entity.Name + ", I can send you on your way for just 100 silvers.");
                                                dialog.Text("\nWhere would you like to go?");
                                                dialog.Option("Twin City", 1);
                                                dialog.Option("Market", 2);
                                                dialog.Option("Nevermind", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1020, 378, 13);
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1036, 211, 196);
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region Ape Canyon

                            #region Alex
                            case 3600:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("You don't worry, it's not gonna hurt you a bit when getting the third life. You just need an exemption token and it's all going to be fine.");
                                                dialog.Option("Here is the ExemptionToken.", 1);
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Reborn == 1)
                                                {
                                                    if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                    {
                                                        dialog.Text("Select the class you want to reborn in.");
                                                        dialog.Option("Trojan.", 11);
                                                        dialog.Option("Warrior.", 21);
                                                        dialog.Option("Archer.", 41);
                                                        dialog.Option("WaterTaoist.", 132);
                                                        dialog.Option("FireTaoist.", 142);
                                                        dialog.Option("Ninja.", 51);
                                                        dialog.Option("Monk.", 61);
                                                        dialog.Option("Pirate.", 71);
                                                        dialog.Option("Nothing thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("If you are a water saint you need level 110+, else you need 120+.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You need to be in the second life to be able to get the third life.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                break;
                                            }
                                        default:
                                            {
                                                if (npcRequest.OptionID == 255)
                                                    return;
                                                if (client.Entity.Reborn == 1)
                                                {
                                                    if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                    {
                                                        if (client.Inventory.Contains(723701, 1))
                                                        {
                                                            if (client.Reborn(npcRequest.OptionID))
                                                            {
                                                                client.Inventory.Remove(723701, 1);
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You need two free slots in your inventory.");
                                                                dialog.Option("I'll just leave", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("If you are a water saint you need level 110+, else you need 120+.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You need to be in the second life to be able to get the third life.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Assistant
                            case 126:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Do you want to visit the mine?");
                                                dialog.Option("Yes.", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1026, 142, 105);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #endregion
                        }
                        break;
                    }
                #endregion
                #region PhoenixCastle
                case 1011:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Phoenix Castle
                            case 10052:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello " + client.Entity.Name + ", I can send you on your way for just 100 silvers.");
                                                dialog.Text("\nWhere would you like to go?");
                                                dialog.Option("Market", 1);
                                                dialog.Option("Twin City", 2);
                                                dialog.Option("Nevermind", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1036, 211, 196);
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(10, 377);
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region PhoenixCity

                            #region Assistant
                            case 125:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Do you want to visit the mine?");
                                                dialog.Option("Yes.", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1025, 30, 71);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #endregion
                        }
                        break;
                    }
                #endregion
                #region DesertCity
                case 1000:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Desert city
                            case 10051:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello " + client.Entity.Name + ", I can set you on your way for just 100 silver.\n");
                                                dialog.Text("Where would you like to go?");
                                                dialog.Option("Twin City", 1);
                                                dialog.Option("Mystic Castle", 2);
                                                dialog.Option("Market", 3);
                                                dialog.Option("Nevermind.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Teleport(1000, 973, 668);
                                                    client.Entity.Money -= 100;
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Teleport(1000, 80, 320);
                                                    client.Entity.Money -= 100;
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Teleport(1036, 211, 196);
                                                    client.Entity.Money -= 100;
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region DesertCity
                            #region Assistant
                            case 127:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Do you want to visit the mine?");
                                                dialog.Option("Yes.", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1027, 142, 105);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region FrozenGrottoGuardian
                            case 27837:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("There is a dangeous frozen cavern south of nowhere! It's too dangerous for you to enter! Even Leroy Jenkins died there!");
                                                dialog.Option("I want to enter the grotto.", 4);
                                                dialog.Option("Blah, boring.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                dialog.Text("Ok, well.. Which floor of the Grotto do you want to enter?\n");
                                                dialog.Option("Floor 1 [Lv127]", 1);
                                                dialog.Option("Floor 2 [Lv132]", 2);
                                                dialog.Option("Floor 3 [Lv145]", 3);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1762, 344, 355);
                                                break;
                                            }
                                        case 2:
                                            {
                                                client.Entity.Teleport(1927, 344, 355);
                                                break;
                                            }
                                        case 3:
                                            {
                                                client.Entity.Teleport(2056, 370, 649);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Bird Village
                case 1015:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Bird Island
                            case 10056:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello " + client.Entity.Name + ", I can send you on your way for just 100 silvers.");
                                                dialog.Text("\nWhere would you like to go?");
                                                dialog.Option("Twin City", 1);
                                                dialog.Option("Market", 2);
                                                dialog.Option("Nevermind", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1015, 1015, 710);
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Money >= 100)
                                                {
                                                    client.Entity.Money -= 100;
                                                    client.Entity.Teleport(1036, 211, 196);
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have 100 silvers.");
                                                    dialog.Option("Aww!", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region Bird Village

                            #region ArtisanOu
                            case 41:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there my friend. I am here to make your socket your weapon. With a socketed weapon you can add gems inside of the sockets and the gems will give you some extra stats. For the first socket I demand 1 DragonBall and for the second one I demand 5 dragonballs.");
                                                dialog.Option("Alright let's go on.", 1);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (!client.Equipment.Free(4))
                                                {
                                                    ConquerItem Item = null;
                                                    Item = client.Equipment.TryGetItem(4);
                                                    if (Item.SocketOne == Conquer_Online_Server.Game.Enums.Gem.NoSocket)
                                                    {
                                                        dialog.Text("My friend I need one DragonBall to socket your weapon. Are you sure you want to do this?");
                                                        dialog.Option("Yea sure.", 2);
                                                        dialog.Send();
                                                    }
                                                    else if (Item.SocketTwo == Conquer_Online_Server.Game.Enums.Gem.NoSocket)
                                                    {
                                                        dialog.Text("My friend I need five dragonballs to socket your weapon. Are you sure you want to do this?");
                                                        dialog.Option("Yea sure.", 2);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I can't socket this weapon once more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You need to wear the weapon first.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (!client.Equipment.Free(4))
                                                {
                                                    ConquerItem Item = null;
                                                    Item = client.Equipment.TryGetItem(4);
                                                    if (Item.SocketOne == Conquer_Online_Server.Game.Enums.Gem.NoSocket)
                                                    {
                                                        if (client.Inventory.Contains(1088000, 1))
                                                        {
                                                            client.Inventory.Remove(1088000, 1);
                                                            Item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                            Item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                            Item.Send(client);
                                                            Conquer_Online_Server.Database.ConquerItemTable.UpdateSockets(Item);
                                                            dialog.Text("Done!");
                                                            dialog.Option("Thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't have one DragonBall!");
                                                            dialog.Option("Ah...", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else if (Item.SocketTwo == Conquer_Online_Server.Game.Enums.Gem.NoSocket)
                                                    {
                                                        if (client.Inventory.Contains(1088000, 5))
                                                        {
                                                            client.Inventory.Remove(1088000, 5);
                                                            Item.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                            Item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                            Item.Send(client);
                                                            Conquer_Online_Server.Database.ConquerItemTable.UpdateSockets(Item);
                                                            dialog.Text("Done!");
                                                            dialog.Option("Thank you.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't have one DragonBall!");
                                                            dialog.Option("Ah...", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You need to wear the weapon first.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Market
                case 1036:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Market

                            #region Shelby
                            case 300000:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I have here the list with the virtue of all the people in this world. You have so far " + client.VirtuePoints + " virtue points.");
                                                dialog.Option("Thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region LadyLuck
                            case 923:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.InLottery)
                                                {
                                                    dialog.Text("My friend, did something happen to you?\nYou may still want to try your luck since you already paid me the fee.");
                                                    dialog.Option("Alright, take me in.", 2);
                                                    dialog.Option("Later...", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Hello my friend. Have you ever heard of the lottery?\nWell, my friend, to join the lottery you need 27 ConquerPoints. By entering the lottery you'll gain a big chance to win wonderful items, wonderful and very expensive.\n\nWhat do you say, would you like to join?\n");
                                                    dialog.Option("Alright, take me in.", 1);
                                                    dialog.Option("Later...", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Level >= 70)
                                                {
                                                    if (client.LotteryEntries < 10)
                                                    {
                                                        if (client.Entity.ConquerPoints >= 27)
                                                        {
                                                            client.Entity.ConquerPoints -= 27;
                                                            client.InLottery = true;
                                                            client.LotteryEntries++;
                                                            client.Entity.Teleport(700, 42, 50);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You may not join the lottery today. You have already tried it 10 times today.");
                                                        dialog.Option("Ahh sorry.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You may not join the lottery , you need level 70 first.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.InLottery)
                                                {
                                                    client.Entity.Teleport(700, 42, 50);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Realloter
                            case 350050:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there brave conqueror, if you have reborn, and you misplaced your atribute points or you want to set them another way, I'll reset your atribute points for one DragonBall. Do you accept?");
                                                dialog.Option("Here is the DragonBall.", 1);
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Reborn > 0)
                                                {
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {
                                                        client.Inventory.Remove(1088000, 1);
                                                        if (client.Entity.Reborn != 0)
                                                        {
                                                            client.Entity.Agility = 0;
                                                            client.Entity.Strength = 0;
                                                            client.Entity.Vitality = 1;
                                                            client.Entity.Spirit = 0;
                                                            if (client.Entity.Reborn == 1)
                                                            {
                                                                client.Entity.Atributes = (ushort)(client.ExtraAtributePoints(client.Entity.FirstRebornLevel, client.Entity.FirstRebornLevel)
                                                                    + 52 + 3 * (client.Entity.Level - 15));
                                                            }
                                                            else
                                                            {
                                                                client.Entity.Atributes = (ushort)(client.ExtraAtributePoints(client.Entity.FirstRebornLevel, client.Entity.FirstRebornClass) +
                                                                    client.ExtraAtributePoints(client.Entity.SecondRebornLevel, client.Entity.SecondRebornClass) + 52 + 3 * (client.Entity.Level - 15));
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need a DragonBall.");
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You have to have atleast one rebirth atleast.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Magic Artisan
                            case 10062:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Have you ever seen my brother Artisan Wind? If so, you might know that he upgrades and downgrades the item level and item quality.");
                                                dialog.Text("Well, he doesn't always succeed, but that's why I am here. I can upgrade/downgrade being sucessfully with a fixed amount of meteors (tears)/dragonballs. ");
                                                dialog.Text("What would you like me to do?");
                                                dialog.Option("Upgrade level.", 1);
                                                dialog.Option("Downgrade level.", 2);
                                                dialog.Option("Upgrade quality.", 3);
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                INpc npc = null;
                                                if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                                {
                                                    Data data = new Data(true);
                                                    data.ID = Data.OpenWindow;
                                                    data.UID = client.Entity.UID;
                                                    data.TimeStamp = Time32.Now;
                                                    data.dwParam = 0x1FA;
                                                    data.wParam1 = npc.X;
                                                    data.wParam2 = npc.Y;
                                                    client.Send(data);
                                                }
                                                break;
                                            }
                                        case 1:
                                        case 3:
                                            {
                                                int aut = npcRequest.OptionID * 10;
                                                dialog.Text("Select which item's details you want to change?");
                                                dialog.Option("Headgear.", (byte)(aut + 1));
                                                dialog.Option("Necklace.", (byte)(aut + 2));
                                                dialog.Option("Armor.", (byte)(aut + 3));
                                                dialog.Option("Main Weapon.", (byte)(aut + 4));
                                                dialog.Option("Left Weapon/Shield.", (byte)(aut + 5));
                                                dialog.Option("Ring.", (byte)(aut + 6));
                                                dialog.Option("Boots.", (byte)(aut + 8));
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 100:
                                            {
                                                if (client.SelectedItem == 0)
                                                    return;
                                                var item = client.Equipment.TryGetItem(client.SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                Conquer_Online_Server.Database.ConquerItemInformation infos = new Conquer_Online_Server.Database.ConquerItemInformation(item.ID, item.Plus);
                                                switch (client.UpdateType)
                                                {
                                                    case 1:
                                                    case 2:
                                                        {
                                                            //Cost: 36
                                                            //Metscrolls: 4
                                                            byte cost = (byte)(itemdetail.Level / 5);
                                                            byte scrolls = 0;
                                                            bool useScrolls = false;
                                                            byte extraScroll = 0;
                                                            int addMets = 0;
                                                            cost += (byte)((item.ID % 10) / 3);
                                                            cost += (byte)(itemdetail.Level / 10);
                                                            uint id = 1088001;
                                                            if (client.UpdateType == 2)
                                                                id++;
                                                            foreach (ConquerItem scroll in client.Inventory.Objects)
                                                                if (scroll.ID == 720027)
                                                                    scrolls++;
                                                            if (cost % 10 != 0)
                                                            {
                                                                addMets = 10 - (cost % 10);
                                                                extraScroll = 1;
                                                            }
                                                            if (scrolls >= (cost / 10) + extraScroll)
                                                                useScrolls = true;

                                                            if (client.Inventory.Remove(id, cost) || useScrolls)
                                                            {
                                                                if (useScrolls)
                                                                {
                                                                    client.Inventory.Remove(720027, Convert.ToByte((cost / 10) + extraScroll));
                                                                    client.Inventory.Add(1088001, 0, (byte)addMets);
                                                                }
                                                                else
                                                                    client.Inventory.Remove(id, cost);
                                                                //client.UnloadItemStats(item, false);
                                                                if (client.UpdateType == 1)
                                                                {
                                                                    Conquer_Online_Server.Database.ConquerItemInformation infos2 = new Conquer_Online_Server.Database.ConquerItemInformation(infos.CalculateUplevel(), item.Plus);
                                                                    if (infos2.BaseInformation.ID == infos.BaseInformation.ID)
                                                                        return;
                                                                    if (client.Entity.Level < infos2.BaseInformation.Level)
                                                                    {
                                                                        dialog.Text("You need level " + infos2.BaseInformation.Level + " first.");
                                                                        dialog.Option("Ahh sorry.", 255);
                                                                        dialog.Send();
                                                                        client.SelectedItem = 0;
                                                                        client.UpdateType = 0;
                                                                        return;
                                                                    }
                                                                    item.ID = infos.CalculateUplevel();
                                                                }
                                                                else
                                                                    item.ID = infos.CalculateDownlevel();

                                                                Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                client.LoadItemStats();
                                                                client.Equipment.UpdateEntityPacket();
                                                            }
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            byte cost = (byte)(itemdetail.Level / 30);
                                                            cost += (byte)((item.ID % 10) / 2);
                                                            uint id = 1088000;

                                                            if (client.Inventory.Remove(id, cost))
                                                            {
                                                                client.Inventory.Remove(id, cost);
                                                                //client.UnloadItemStats(item, false);
                                                                if (item.ID % 10 < 5)
                                                                    item.ID += 5 - item.ID % 10;
                                                                item.ID++;
                                                                Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                client.LoadItemStats();
                                                                client.Equipment.UpdateEntityPacket();
                                                            }
                                                            break;
                                                        }
                                                }
                                                break;
                                            }
                                        default:
                                            {
                                                if (npcRequest.OptionID == 255)
                                                    break;
                                                client.SelectedItem = (byte)(npcRequest.OptionID % 10);
                                                client.UpdateType = (byte)(npcRequest.OptionID / 10);
                                                if (client.Equipment.Free(client.SelectedItem))
                                                {
                                                    dialog.Text("You have to be wearing the selected item.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                var item = client.Equipment.TryGetItem(client.SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                if (itemdetail == null)
                                                {
                                                    dialog.Text("An error occured. Please relogin and try again.");
                                                    dialog.Option("Ok.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                switch (client.UpdateType)
                                                {
                                                    case 1:
                                                    case 2:
                                                        {
                                                            if (itemdetail.Level == Conquer_Online_Server.Network.PacketHandler.ItemMaxLevel(client.SelectedItem) && client.UpdateType == 1)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (itemdetail.Level == Conquer_Online_Server.Network.PacketHandler.ItemMinLevel(client.SelectedItem) && client.UpdateType == 2)
                                                            {
                                                                dialog.Text("This item's level cannot be downgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            byte cost = (byte)(itemdetail.Level / 5);
                                                            cost += (byte)((item.ID % 10) / 3);
                                                            cost += (byte)(itemdetail.Level / 10);
                                                            dialog.Text("It will cost you " + cost + " meteor" + (client.UpdateType == 2 ? " tears" : "s") + ". Do you accept?");
                                                            dialog.Option("Yes.", 100);
                                                            dialog.Option("No thank you.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            if (item.ID % 10 == 9)
                                                            {
                                                                dialog.Text("This item's quality cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            byte cost = (byte)(itemdetail.Level / 30);
                                                            cost += (byte)((item.ID % 10) / 2);
                                                            dialog.Text("It will cost you " + cost + " dragonballs. Do you accept?");
                                                            dialog.Option("Yes.", 100);
                                                            dialog.Option("No thank you.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                }

                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Weapon Master
                            case 7050:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("My brothers, Magic Artisan and Artisan Wind, both need meteors to upgrade, but I need only dragonballs.");
                                                dialog.Text("I upgrade item's level only and I want  only one dragonball for my service.");
                                                dialog.Option("Upgrade level.", 1);
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                int aut = npcRequest.OptionID * 10;
                                                dialog.Text("Select which item's details you want to change?");
                                                dialog.Option("Headgear.", (byte)(aut + 1));
                                                dialog.Option("Necklace.", (byte)(aut + 2));
                                                dialog.Option("Armor.", (byte)(aut + 3));
                                                dialog.Option("Main Weapon.", (byte)(aut + 4));
                                                dialog.Option("Left Weapon/Shield.", (byte)(aut + 5));
                                                dialog.Option("Ring.", (byte)(aut + 6));
                                                dialog.Option("Boots.", (byte)(aut + 8));
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 100:
                                            {
                                                if (client.SelectedItem == 0)
                                                    return;
                                                var item = client.Equipment.TryGetItem(client.SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                Conquer_Online_Server.Database.ConquerItemInformation infos = new Conquer_Online_Server.Database.ConquerItemInformation(item.ID, item.Plus);
                                                if (!item.ID.ToString().EndsWith("9"))
                                                {
                                                    dialog.Text("Sorry you can only levelup Super Items.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120269 || item.ID == 121269 || item.ID == 150269 || item.ID == 160249 || item.ID == 151269 || item.ID == 152279)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (Constants.MaxItems.Contains((int)item.ID))
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117309 || item.ID == 118309 || item.ID == 111309 || item.ID == 114309 || item.ID == 112309 || item.ID == 152279)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120268 || item.ID == 121268 || item.ID == 150268 || item.ID == 160248 || item.ID == 151268 || item.ID == 152278)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117308 || item.ID == 118308 || item.ID == 111308 || item.ID == 114308 || item.ID == 112308 || item.ID == 152278)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120267 || item.ID == 121267 || item.ID == 150267 || item.ID == 160247 || item.ID == 151267 || item.ID == 152277)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117307 || item.ID == 118307 || item.ID == 111307 || item.ID == 114307 || item.ID == 112307 || item.ID == 152277)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120265 || item.ID == 121265 || item.ID == 150265 || item.ID == 160245 || item.ID == 151265 || item.ID == 152275)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117305 || item.ID == 118305 || item.ID == 111305 || item.ID == 114305 || item.ID == 112305 || item.ID == 152275)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                switch (client.UpdateType)
                                                {
                                                    case 1:
                                                    case 2:
                                                        {
                                                            if (!item.ID.ToString().EndsWith("9"))
                                                            {
                                                                dialog.Text("Sorry you can only levelup Super Items.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120269 || item.ID == 121269 || item.ID == 150269 || item.ID == 160249 || item.ID == 151269 || item.ID == 152279)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (Constants.MaxItems.Contains((int)item.ID))
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117309 || item.ID == 118309 || item.ID == 111309 || item.ID == 114309 || item.ID == 112309 || item.ID == 152279)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120268 || item.ID == 121268 || item.ID == 150268 || item.ID == 160248 || item.ID == 151268 || item.ID == 152278)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117308 || item.ID == 118308 || item.ID == 111308 || item.ID == 114308 || item.ID == 112308 || item.ID == 152278)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120267 || item.ID == 121267 || item.ID == 150267 || item.ID == 160247 || item.ID == 151267 || item.ID == 152277)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117307 || item.ID == 118307 || item.ID == 111307 || item.ID == 114307 || item.ID == 112307 || item.ID == 152277)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120265 || item.ID == 121265 || item.ID == 150265 || item.ID == 160245 || item.ID == 151265 || item.ID == 152275)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117305 || item.ID == 118305 || item.ID == 111305 || item.ID == 114305 || item.ID == 112305 || item.ID == 152275)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            byte cost = (byte)(itemdetail.Level / 6);
                                                            cost += (byte)((item.ID % 10) / 3);
                                                            uint id = 1088001;
                                                            if (client.UpdateType == 2)
                                                                id++;
                                                            if (client.Inventory.Contains(id, cost))
                                                            {
                                                                client.Inventory.Remove(id, cost);
                                                                //client.UnloadItemStats(item, false);
                                                                if (client.UpdateType == 1)
                                                                    item.ID = infos.CalculateUplevel();
                                                                else
                                                                    item.ID = infos.CalculateDownlevel();
                                                                if (infos.BaseInformation.ID == item.ID)
                                                                    return;
                                                                Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                client.LoadItemStats();
                                                                client.Equipment.UpdateEntityPacket();
                                                            }
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            if (!item.ID.ToString().EndsWith("9"))
                                                            {
                                                                dialog.Text("Sorry you can only levelup Super Items.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120269 || item.ID == 121269 || item.ID == 150269 || item.ID == 160249 || item.ID == 151269 || item.ID == 152279)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (Constants.MaxItems.Contains((int)item.ID))
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117309 || item.ID == 118309 || item.ID == 111309 || item.ID == 114309 || item.ID == 112309 || item.ID == 152279)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120268 || item.ID == 121268 || item.ID == 150268 || item.ID == 160248 || item.ID == 151268 || item.ID == 152278)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117308 || item.ID == 118308 || item.ID == 111308 || item.ID == 114308 || item.ID == 112308 || item.ID == 152278)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120267 || item.ID == 121267 || item.ID == 150267 || item.ID == 160247 || item.ID == 151267 || item.ID == 152277)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117307 || item.ID == 118307 || item.ID == 111307 || item.ID == 114307 || item.ID == 112307 || item.ID == 152277)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 120265 || item.ID == 121265 || item.ID == 150265 || item.ID == 160245 || item.ID == 151265 || item.ID == 152275)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (item.ID == 117305 || item.ID == 118305 || item.ID == 111305 || item.ID == 114305 || item.ID == 112305 || item.ID == 152275)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            byte cost = (byte)(itemdetail.Level / 30);
                                                            cost += (byte)((item.ID % 10) / 2);
                                                            uint id = 1088000;

                                                            if (client.Inventory.Contains(id, cost))
                                                            {
                                                                client.Inventory.Remove(id, cost);
                                                                //client.UnloadItemStats(item, false);
                                                                item.ID++;
                                                                Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                client.LoadItemStats();
                                                                client.Equipment.UpdateEntityPacket();
                                                            }
                                                            break;
                                                        }
                                                }
                                                break;
                                            }
                                        default:
                                            {
                                                if (npcRequest.OptionID == 255)
                                                    break;
                                                byte SelectedItem = (byte)(npcRequest.OptionID % 10);
                                                byte NowType = (byte)(npcRequest.OptionID / 10);
                                                if (client.Equipment.Free(SelectedItem))
                                                {
                                                    dialog.Text("You have to be wearing the selected item.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                var item = client.Equipment.TryGetItem(SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                if (!item.ID.ToString().EndsWith("9"))
                                                {
                                                    dialog.Text("Sorry you can only levelup Super Items.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120269 || item.ID == 121269 || item.ID == 150269 || item.ID == 160249 || item.ID == 151269 || item.ID == 152279)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (Constants.MaxItems.Contains((int)item.ID))
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117309 || item.ID == 118309 || item.ID == 111309 || item.ID == 114309 || item.ID == 112309 || item.ID == 152279)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120268 || item.ID == 121268 || item.ID == 150268 || item.ID == 160248 || item.ID == 151268 || item.ID == 152278)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117308 || item.ID == 118308 || item.ID == 111308 || item.ID == 114308 || item.ID == 112308 || item.ID == 152278)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120267 || item.ID == 121267 || item.ID == 150267 || item.ID == 160247 || item.ID == 151267 || item.ID == 152277)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117307 || item.ID == 118307 || item.ID == 111307 || item.ID == 114307 || item.ID == 112307 || item.ID == 152277)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 120265 || item.ID == 121265 || item.ID == 150265 || item.ID == 160245 || item.ID == 151265 || item.ID == 152275)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (item.ID == 117305 || item.ID == 118305 || item.ID == 111305 || item.ID == 114305 || item.ID == 112305 || item.ID == 152275)
                                                {
                                                    dialog.Text("This item's level cannot be upgraded anymore.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Send();
                                                    client.SelectedItem = 0;
                                                    client.UpdateType = 0;
                                                    return;
                                                }
                                                if (NowType == 1)
                                                {
                                                    dialog.Text("It will cost you one dragonball. Do you accept the Amount?");
                                                    dialog.Option("Yes.", (byte)(20 + SelectedItem));
                                                    dialog.Option("No thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    Conquer_Online_Server.Database.ConquerItemInformation infos = new Conquer_Online_Server.Database.ConquerItemInformation(item.ID, item.Plus);
                                                    Conquer_Online_Server.Database.ConquerItemInformation infos2 = new Conquer_Online_Server.Database.ConquerItemInformation(infos.CalculateUplevel(), item.Plus);
                                                    if (client.Entity.Level < infos2.BaseInformation.Level)
                                                    {
                                                        dialog.Text("You need level " + infos2.BaseInformation.Level + " first.");
                                                        dialog.Option("Ahh sorry.", 255);
                                                        dialog.Send();
                                                        client.SelectedItem = 0;
                                                        client.UpdateType = 0;
                                                        return;
                                                    }
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {
                                                        client.Inventory.Remove(1088000, 1);
                                                        //client.UnloadItemStats(item, false);
                                                        item.ID = infos.CalculateUplevel();
                                                        Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                        item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                        item.Send(client);
                                                        client.LoadItemStats();
                                                        client.Equipment.UpdateEntityPacket();
                                                    }
                                                }
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region Weapon Master
                            case 80000:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("My brothers, Magic Artisan and Artisan Wind, both need meteors to upgrade, but I need only dragonballs.");
                                                dialog.Text("I upgrade item's level only and I want  only one dragonball for my service.");
                                                dialog.Option("Upgrade Equipment Level.", 1);
                                                dialog.Option("Improve Equipment Quailty.", 3);
                                                dialog.Option("Upgrade Equipment with Mets.", 4);
                                                dialog.Option("RepairEquipment.", 5);
                                                dialog.Option("Lower Equipment Level.", 2);
                                                dialog.Option("I will come later.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 5:
                                            {
                                                // int aut = npcRequest.OptionID * 10;
                                                dialog.Text("You cant Repair your Equipments at this time?");
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                int aut = npcRequest.OptionID * 10;
                                                dialog.Text("Select which item's details you want to change?");
                                                dialog.Option("Headgear.", (byte)(aut + 1));
                                                dialog.Option("Necklace.", (byte)(aut + 2));
                                                dialog.Option("Armor.", (byte)(aut + 3));
                                                dialog.Option("Main Weapon.", (byte)(aut + 4));
                                                dialog.Option("Left Weapon/Shield.", (byte)(aut + 5));
                                                dialog.Option("Ring.", (byte)(aut + 6));
                                                dialog.Option("Boots.", (byte)(aut + 8));
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                int aut = npcRequest.OptionID * 10;
                                                dialog.Text("Select which item's details you want to change?");
                                                dialog.Option("Headgear.", (byte)(aut + 1));
                                                dialog.Option("Necklace.", (byte)(aut + 2));
                                                dialog.Option("Armor.", (byte)(aut + 3));
                                                dialog.Option("Main Weapon.", (byte)(aut + 4));
                                                dialog.Option("Left Weapon/Shield.", (byte)(aut + 5));
                                                dialog.Option("Ring.", (byte)(aut + 6));
                                                dialog.Option("Boots.", (byte)(aut + 8));
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 200:
                                            {
                                                if (client.SelectedItem == 0)
                                                    return;
                                                var item = client.Equipment.TryGetItem(client.SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                Conquer_Online_Server.Database.ConquerItemInformation infos = new Conquer_Online_Server.Database.ConquerItemInformation(item.ID, item.Plus);
                                                switch (client.UpdateType)
                                                {
                                                    case 1:
                                                    case 2:
                                                        {
                                                            //Cost: 36
                                                            //Metscrolls: 4
                                                            byte cost = (byte)(itemdetail.Level / 5);
                                                            byte scrolls = 0;
                                                            bool useScrolls = false;
                                                            byte extraScroll = 0;
                                                            int addMets = 0;
                                                            cost += (byte)((item.ID % 10) / 3);
                                                            cost += (byte)(itemdetail.Level / 10);
                                                            uint id = 1088001;
                                                            if (client.UpdateType == 2)
                                                                id++;
                                                            foreach (ConquerItem scroll in client.Inventory.Objects)
                                                                if (scroll.ID == 720027)
                                                                    scrolls++;
                                                            if (cost % 10 != 0)
                                                            {
                                                                addMets = 10 - (cost % 10);
                                                                extraScroll = 1;
                                                            }
                                                            if (scrolls >= (cost / 10) + extraScroll)
                                                                useScrolls = true;

                                                            if (client.Inventory.Contains(id, cost) || useScrolls)
                                                            {

                                                                //client.UnloadItemStats(item, false);
                                                                if (client.UpdateType == 1)
                                                                {
                                                                    Conquer_Online_Server.Database.ConquerItemInformation infos2 = new Conquer_Online_Server.Database.ConquerItemInformation(infos.CalculateUplevel(), item.Plus);
                                                                    if (infos2.BaseInformation.ID == infos.BaseInformation.ID)
                                                                        return;
                                                                    if (client.Entity.Level < infos2.BaseInformation.Level)
                                                                    {
                                                                        dialog.Text("You need level " + infos2.BaseInformation.Level + " first.");
                                                                        dialog.Option("Ahh sorry.", 255);
                                                                        dialog.Send();
                                                                        client.SelectedItem = 0;
                                                                        client.UpdateType = 0;
                                                                        return;
                                                                    }
                                                                    uint sezar = item.ID + 10;
                                                                    byte itemType = (byte)(sezar / 10000);
                                                                    byte itemType2 = (byte)(item.ID / 10000);
                                                                    if (Database.ConquerItemInformation.BaseInformations.ContainsKey(sezar))
                                                                    {
                                                                        if (useScrolls)
                                                                        {
                                                                            client.Inventory.Remove(720027, Convert.ToByte((cost / 10) + extraScroll));
                                                                            client.Inventory.Add(1088001, 0, (byte)addMets);
                                                                        }
                                                                        else
                                                                        {
                                                                            client.Inventory.Remove(id, cost);
                                                                        }
                                                                        item.ID = (item.ID + 10);
                                                                    }
                                                                    else
                                                                    {
                                                                        dialog.Text("[Error],This " + Database.ConquerItemInformation.BaseInformations[item.ID].Name + " level cannot be upgraded anymore.");
                                                                        dialog.Option("Ahh sorry.", 255);
                                                                        dialog.Send();
                                                                        return;
                                                                    }
                                                                }

                                                                Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                if (!client.AlternateEquipment)
                                                                {
                                                                    client.Equipment.UpdateEntityPacket(); ;
                                                                }
                                                                else
                                                                {
                                                                    client.LoadItemStats();
                                                                }
                                                                if (!client.AlternateEquipment)
                                                                {
                                                                    client.Equipment.UpdateEntityPacket();
                                                                }
                                                                else
                                                                {
                                                                    client.Equipment.UpdateEntityPacket();
                                                                }
                                                            }
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            byte cost = (byte)(itemdetail.Level / 30);
                                                            cost += (byte)((item.ID % 10) / 2);
                                                            uint id = 1088000;

                                                            if (client.Inventory.Remove(id, cost))
                                                            {
                                                                client.Inventory.Remove(id, cost);
                                                                //client.UnloadItemStats(item, false);
                                                                if (item.ID % 10 < 5)
                                                                    item.ID += 5 - item.ID % 10;
                                                                item.ID++;
                                                                Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                if (!client.AlternateEquipment)
                                                                {
                                                                    client.Equipment.UpdateEntityPacket(); ;
                                                                }
                                                                else
                                                                {
                                                                    client.LoadItemStats();
                                                                }
                                                                if (!client.AlternateEquipment)
                                                                {
                                                                    client.Equipment.UpdateEntityPacket();
                                                                }
                                                                else
                                                                {
                                                                    client.Equipment.UpdateEntityPacket();
                                                                }

                                                            }
                                                            break;
                                                        }
                                                }
                                                break;
                                            }

                                        case 30:
                                        case 31:
                                        case 32:
                                        case 33:
                                        case 34:
                                        case 35:
                                        case 36:
                                        case 37:
                                        case 38:
                                        case 40:
                                        case 41:
                                        case 42:
                                        case 43:
                                        case 44:
                                        case 45:
                                        case 46:
                                        case 47:
                                        case 48:
                                            {
                                                if (npcRequest.OptionID == 255)
                                                    break;
                                                client.SelectedItem = (byte)(npcRequest.OptionID % 10);
                                                client.UpdateType = (byte)(npcRequest.OptionID / 10);
                                                if (client.Equipment.Free(client.SelectedItem))
                                                {
                                                    dialog.Text("You have to be wearing the selected item.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                var item = client.Equipment.TryGetItem(client.SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                if (itemdetail == null)
                                                {
                                                    dialog.Text("An error occured. Please relogin and try again.");
                                                    dialog.Option("Ok.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                switch (client.UpdateType)
                                                {
                                                    case 4:
                                                    case 2:
                                                        {
                                                            if (itemdetail.Level == Conquer_Online_Server.Network.PacketHandler.ItemMaxLevel(client.SelectedItem) && client.UpdateType == 1)
                                                            {
                                                                dialog.Text("This item's level cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            if (itemdetail.Level == Conquer_Online_Server.Network.PacketHandler.ItemMinLevel(client.SelectedItem) && client.UpdateType == 2)
                                                            {
                                                                dialog.Text("This item's level cannot be downgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            byte cost = (byte)(itemdetail.Level / 5);
                                                            cost += (byte)((item.ID % 10) / 3);
                                                            cost += (byte)(itemdetail.Level / 10);
                                                            dialog.Text("It will cost you " + cost + " meteor" + (client.UpdateType == 2 ? " tears" : "s") + ". Do you accept?");
                                                            dialog.Option("Yes.", 200);
                                                            dialog.Option("No thank you.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                    case 3:
                                                        {
                                                            if (item.ID % 10 == 9)
                                                            {
                                                                dialog.Text("[Error],This " + Database.ConquerItemInformation.BaseInformations[item.ID].Name + " Quality cannot be upgraded anymore.");
                                                                dialog.Option("Ahh sorry.", 255);
                                                                dialog.Send();
                                                                client.SelectedItem = 0;
                                                                client.UpdateType = 0;
                                                                return;
                                                            }
                                                            byte cost = (byte)(itemdetail.Level / 30);
                                                            cost += (byte)((item.ID % 10) / 2);
                                                            dialog.Text("It will cost you " + cost + " dragonballs. Do you accept?");
                                                            dialog.Option("Yes.", 200);
                                                            dialog.Option("No thank you.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                }

                                                break;
                                            }
                                        case 2:
                                            {
                                                client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = 506, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                                break;
                                            }
                                        case 1:
                                            {
                                                int aut = npcRequest.OptionID * 10;
                                                dialog.Text("Select which item's details you want to change?");
                                                dialog.Option("Headgear.", (byte)(aut + 1));
                                                dialog.Option("Necklace.", (byte)(aut + 2));
                                                dialog.Option("Armor.", (byte)(aut + 3));
                                                dialog.Option("Main Weapon.", (byte)(aut + 4));
                                                dialog.Option("Left Weapon/Shield.", (byte)(aut + 5));
                                                dialog.Option("Ring.", (byte)(aut + 6));
                                                dialog.Option("Boots.", (byte)(aut + 8));
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }

                                        case 10:
                                        case 11:
                                        case 12:
                                        case 13:
                                        case 14:
                                        case 15:
                                        case 16:
                                        case 17:
                                        case 18:
                                        case 20:
                                        case 21:
                                        case 22:
                                        case 23:
                                        case 24:
                                        case 25:
                                        case 26:
                                        case 27:
                                        case 28:
                                            {
                                                if (npcRequest.OptionID == 255)
                                                    break;
                                                byte SelectedItem = (byte)(npcRequest.OptionID % 10);
                                                byte NowType = (byte)(npcRequest.OptionID / 10);
                                                if (client.Equipment.Free(SelectedItem))
                                                {
                                                    dialog.Text("You have to be wearing the selected item.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                var item = client.Equipment.TryGetItem(SelectedItem);
                                                var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];

                                                if (NowType == 1)
                                                {
                                                    dialog.Text("It will cost you one dragonball. Do you accept the Amount?");
                                                    dialog.Option("Yes.", (byte)(20 + SelectedItem));
                                                    dialog.Option("No thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    Conquer_Online_Server.Database.ConquerItemInformation infos = new Conquer_Online_Server.Database.ConquerItemInformation(item.ID, item.Plus);
                                                    Conquer_Online_Server.Database.ConquerItemInformation infos2 = new Conquer_Online_Server.Database.ConquerItemInformation(infos.CalculateUplevel(), item.Plus);

                                                    if (client.Entity.Level < infos2.BaseInformation.Level)
                                                    {
                                                        dialog.Text("You need level " + infos2.BaseInformation.Level + " first.");
                                                        dialog.Option("Ahh sorry.", 255);
                                                        dialog.Send();
                                                        client.SelectedItem = 0;
                                                        client.UpdateType = 0;
                                                        return;
                                                    }
                                                    if (client.Inventory.Contains(1088000, 1))
                                                    {

                                                        //client.UnloadItemStats(item, false);

                                                        uint sezar = item.ID + 10;
                                                        uint sezar2 = item.ID + 20;
                                                        uint sezar3 = item.ID + 30;
                                                        byte itemType = (byte)(sezar / 10000);
                                                        byte itemType2 = (byte)(item.ID / 10000);
                                                        if (Database.ConquerItemInformation.BaseInformations.ContainsKey(sezar))
                                                        {
                                                            item.ID = (item.ID + 10);
                                                        }
                                                        else
                                                        {
                                                            if (Database.ConquerItemInformation.BaseInformations.ContainsKey(sezar2))
                                                            {
                                                                item.ID = (item.ID + 20);
                                                            }
                                                            else
                                                            {
                                                                if (Database.ConquerItemInformation.BaseInformations.ContainsKey(sezar3))
                                                                {
                                                                    item.ID = (item.ID + 30);
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("[Error],This " + Database.ConquerItemInformation.BaseInformations[item.ID].Name + " level cannot be upgraded anymore.");
                                                                    dialog.Option("A7a yaD.", 255);
                                                                    dialog.Send();
                                                                    return;
                                                                }
                                                            }
                                                        }
                                                        //item.ID = infos.CalculateUplevel();

                                                        client.Inventory.Remove(1088000, 1);
                                                        //item.ID = infos.CalculateUplevel();
                                                        Conquer_Online_Server.Database.ConquerItemTable.UpdateItemID(item, client);
                                                        item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                        item.Send(client);
                                                        if (!client.AlternateEquipment)
                                                        {
                                                            client.Equipment.UpdateEntityPacket(); ;
                                                        }
                                                        else
                                                        {
                                                            client.LoadItemStats();
                                                        }
                                                        if (!client.AlternateEquipment)
                                                        {
                                                            client.Equipment.UpdateEntityPacket();
                                                        }
                                                        else
                                                        {
                                                            client.Equipment.UpdateEntityPacket();
                                                        }
                                                    }
                                                }
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion

                            #region Proficiency God
                            case 941:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello my friend. If you believe that, leveling your proficiency is too hard and takes too much time, I can help you. In exchange of a fixed amount of exp balls, I will agree to level up your proficiency.");
                                                dialog.Text("Now, tell me what proficiency you want to level up.");
                                                dialog.Option("One handed.", 1);
                                                dialog.Option("Two handed.", 3);
                                                dialog.Option("Other.", 5);
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("Which one handed proficiency?");
                                                dialog.Option("Blade.", 41);
                                                dialog.Option("Sword.", 42);
                                                dialog.Option("Hook.", 43);
                                                dialog.Option("Whip.", 44);
                                                dialog.Option("Axe.", 45);
                                                dialog.Option("Next page.", 2);
                                                dialog.Option("Nothing, sorry.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("Which one handed proficiency?");
                                                dialog.Option("PrayerBead.", 61);
                                                dialog.Option("Hammer.", 46);
                                                dialog.Option("Club.", 48);
                                                dialog.Option("Scepter.", 184);
                                                dialog.Option("Katana.", 60);
                                                dialog.Option("Next Page.", 6);
                                                dialog.Option("Back.", 1);
                                                dialog.Option("Nothing, sorry.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 6:
                                            {
                                                dialog.Text("Which one handed proficiency?");
                                                dialog.Option("Axe.", 45);
                                                dialog.Option("Rapier.", 62);
                                                dialog.Option("Pistol.", 63);
                                                dialog.Option("Back.", 2);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                dialog.Text("Which two handed proficiency?");
                                                dialog.Option("Backsword.", 124);
                                                dialog.Option("Glaive.", 51);
                                                dialog.Option("Poleaxe.", 53);
                                                dialog.Option("LongHammer.", 54);
                                                dialog.Option("Spear.", 56);
                                                dialog.Option("Next page.", 4);
                                                dialog.Option("Nothing, sorry.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 4:
                                            {
                                                dialog.Text("Which one handed proficiency?");
                                                dialog.Option("Pickaxe.", 142);
                                                dialog.Option("Halberd.", 58);
                                                dialog.Option("Wand.", 165);
                                                dialog.Option("Bow.", 50);
                                                dialog.Option("Back.", 3);
                                                dialog.Option("Nothing, sorry.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 5:
                                            {
                                                dialog.Text("Which one handed proficiency?");
                                                dialog.Option("Boxing.", 254);
                                                dialog.Option("Shield.", 90);
                                                dialog.Option("Nothing, sorry.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 100:
                                            {
                                                if (client.Proficiencies.ContainsKey(client.UplevelProficiency))
                                                {
                                                    var prof = client.Proficiencies[client.UplevelProficiency];
                                                    if (prof.Level >= 12)
                                                    {
                                                        dialog.Text("This proficiency cannot be leveled up anymore.");
                                                        dialog.Option("Oh.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    client.UplevelProficiency = 0;
                                                    if (client.Inventory.Contains(723700, prof.Level))
                                                    {
                                                        client.Inventory.Remove(723700, prof.Level);
                                                        prof.Level++;
                                                        prof.Experience = 0;
                                                        prof.Send(client);
                                                        break;
                                                    }
                                                    dialog.Text("You don't have the requiered exp balls, I'm sorry I cannot help you.");
                                                    dialog.Option("It's alright.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't know this proficiency.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                        default:
                                            {
                                                if (npcRequest.OptionID == 255)
                                                    return;
                                                ushort proficiency = 0;
                                                if (npcRequest.OptionID == 62)
                                                {
                                                    proficiency = 611;
                                                }
                                                else if (npcRequest.OptionID == 63)
                                                {
                                                    proficiency = 612;
                                                }
                                                else if (npcRequest.OptionID < 100)
                                                    proficiency = (ushort)(npcRequest.OptionID * 10);
                                                else
                                                {
                                                    if (npcRequest.OptionID != 254)
                                                    {
                                                        string off = npcRequest.OptionID.ToString();
                                                        string reverse = off[2].ToString() + off[1].ToString() + off[0].ToString();
                                                        proficiency = ushort.Parse(reverse);
                                                    }
                                                }
                                                if (proficiency == 600) proficiency++;
                                                if (client.Proficiencies.ContainsKey(proficiency))
                                                {
                                                    var prof = client.Proficiencies[proficiency];
                                                    if (prof.Level >= 12)
                                                    {
                                                        dialog.Text("This proficiency cannot be leveled up anymore.");
                                                        dialog.Option("Oh.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    client.UplevelProficiency = proficiency;
                                                    dialog.Text("I need " + prof.Level + " exp balls to be able to level up this proficiency.");
                                                    dialog.Option("Let's do it then.", 100);
                                                    dialog.Option("No, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("You don't know this proficiency.");
                                                    dialog.Option("Ahh, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region CPAdmin
                            case 111816:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Greetings, here you can exchange either a Dragonball or a DragonScroll for cps. ");
                                                dialog.Text("One Dragonball will get you 215 cps and a DragonScroll will get you 2150. ");
                                                dialog.Text("What would you like to trade? Or would you rather not?");
                                                dialog.Option("Dragonball", 1);
                                                dialog.Option("DragonballScroll", 2);
                                                dialog.Option("I'll just leave", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Inventory.Contains(1088000, 1))
                                                {
                                                    client.Inventory.Remove(1088000, 1);
                                                    client.Entity.ConquerPoints += 215;
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have a Dragonball");
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(720028, 1))
                                                {
                                                    client.Inventory.Remove(720028, 1);
                                                    client.Entity.ConquerPoints += 2150;
                                                }
                                                else
                                                {
                                                    dialog.Text("You do not have a DragonballScroll");
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region SurgeonMiracle
                            case 3381:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Do you want to have your size changed so that you can become much more");
                                                dialog.Text(" adorable? Now here is a precious chance for you.");
                                                dialog.Option("I want to change my size.", 1);
                                                //dialog.Option("I want to change my gender.", 2);
                                                dialog.Option("I don't want to change.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("If you pay me one DragonBall, I can have your size changed. You will become");
                                                dialog.Text("more attractive and start a fresh life. By the way, to avoid some unexpected");
                                                dialog.Text("things, make sure you are not in any disguise form.");
                                                dialog.Option("Here is a DragonBall.", 3);
                                                dialog.Option("I have no DragonBall.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                dialog.Text("If you pay me one DragonBall, I can have your gender changed. You will become");
                                                dialog.Text("more attractive and start a fresh life. By the way, to avoid some unexpected");
                                                dialog.Text("things, make sure you are not in any disguise form.");
                                                dialog.Option("Here is a DragonBall.", 4);
                                                dialog.Option("I have no DragonBall.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Inventory.Contains(1088000, 1))
                                                {
                                                    int Model = (int)client.Entity.Body % 10;
                                                    switch (Model)
                                                    {
                                                        case 2:
                                                        case 4:
                                                            client.Entity.Body--;
                                                            break;
                                                        case 1:
                                                        case 3:
                                                            client.Entity.Body++;
                                                            break;
                                                    }

                                                    client.Inventory.Remove(1088000, 1);
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry, there is no DragonBall in your inventory. I can't have your size changed.");
                                                    dialog.Option("Ok, Sorry.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 4:
                                            {
                                                if (client.Inventory.Contains(1088000, 1))
                                                {
                                                    int Model = (int)client.Entity.Body % 10;
                                                    switch (Model)
                                                    {
                                                        case 3:
                                                        case 4:
                                                            client.Entity.Body -= 2;
                                                            break;
                                                        case 1:
                                                        case 2:
                                                            client.Entity.Body += 2;
                                                            break;
                                                    }
                                                    client.Send(new Message("Your gender has been changed.", System.Drawing.Color.BurlyWood, Message.TopLeft));
                                                    client.Inventory.Remove(1088000, 1);
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry, there is no DragonBall in your inventory. I can't have your size changed.");
                                                    dialog.Option("Ok, Sorry.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion

                            #region Mark. Controler
                            case 45: //Mark. Controler
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("If you want to leave just tell me when you are ready. It's free.\nYou will be teleported to the city you were in before coming here.");
                                                dialog.Option("I'm ready.", 1);
                                                dialog.Option("Wait a minute.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                int PrevMap = client.Entity.PreviousMapID;
                                                switch (PrevMap)
                                                {
                                                    default:
                                                        {
                                                            client.Entity.Teleport(1002, 300, 278);
                                                            break;
                                                        }
                                                    case 1000:
                                                        {
                                                            client.Entity.Teleport(1000, 500, 650);
                                                            break;
                                                        }
                                                    case 1020:
                                                        {
                                                            client.Entity.Teleport(1020, 565, 562);
                                                            break;
                                                        }
                                                    case 1011:
                                                        {
                                                            client.Entity.Teleport(1011, 188, 264);
                                                            break;
                                                        }
                                                    case 1015:
                                                        {
                                                            client.Entity.Teleport(1015, 717, 571);
                                                            break;
                                                        }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Enchanter and composer
                            case 35016:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I can improve the enchant of an item and I can also improve the plus of an item. Please let me know how can I help you.");
                                                dialog.Option("Compose.", 1);
                                                dialog.Option("Enchant.", 2);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                Data data = new Data(true);
                                                data.ID = Data.OpenWindow;
                                                data.UID = client.Entity.UID;
                                                data.TimeStamp = Time32.Now;
                                                data.dwParam = Data.WindowCommands.Compose;
                                                data.wParam1 = client.Entity.X;
                                                data.wParam2 = client.Entity.Y;
                                                client.Send(data);
                                                break;
                                            }
                                        case 2:
                                            {
                                                Data data = new Data(true);
                                                data.ID = Data.OpenCustom;
                                                data.UID = client.Entity.UID;
                                                data.TimeStamp = Time32.Now;
                                                data.dwParam = Data.CustomCommands.Enchant;
                                                data.wParam1 = client.Entity.X;
                                                data.wParam2 = client.Entity.Y;
                                                client.Send(data);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region -5 bless

                            case 35015:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("i can bless your garmant -5 only if you have bless key ");
                                                dialog.Option("Bless My garmant", (byte)ConquerItem.Garment);
                                                dialog.Send();
                                                break;

                                            }
                                        case (byte)ConquerItem.Garment:
                                            {
                                                ConquerItem item;
                                                if ((item = client.Equipment.TryGetItem(npcRequest.OptionID)) != null)
                                                {
                                                    if (client.Inventory.Contains(722312, 1))
                                                    {
                                                        client.Inventory.Remove(722312, 1);
                                                        item.Bless = 5;
                                                        item.Mode = Game.Enums.ItemMode.Update;
                                                        item.Send(client);
                                                        Database.ConquerItemTable.UpdateBless(item);
                                                        dialog.Text("Your garmant is now -5");
                                                        dialog.Option("thank you", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You dont have bless key");
                                                        dialog.Option("thank you", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Super bless:
                            case 350123:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I am here to bless your gear... to beautify you special items for 3.000.000 ConquerPoints.");
                                                dialog.Option("Bless mount armor", (byte)ConquerItem.SteedArmor);
                                                dialog.Option("Garment", (byte)ConquerItem.Garment);
                                                dialog.Option("Bless tower", (byte)ConquerItem.Tower);
                                                dialog.Option("Bless fan", (byte)ConquerItem.Fan);
                                                dialog.Option("Bless crop", (byte)ConquerItem.SteedCrop);
                                                dialog.Option("Bless right accessory", (byte)ConquerItem.RightWeaponAccessory);
                                                dialog.Option("Bless left accessory", (byte)ConquerItem.LeftWeaponAccessory);
                                                dialog.Option("Bless My Bottle", (byte)ConquerItem.Bottle);
                                                dialog.Send();
                                                break;
                                            }
                                        case (byte)ConquerItem.SteedArmor:
                                        case (byte)ConquerItem.Garment:
                                        case (byte)ConquerItem.Tower:
                                        case (byte)ConquerItem.Fan:
                                        case (byte)ConquerItem.SteedCrop:
                                        case (byte)ConquerItem.LeftWeaponAccessory:
                                        case (byte)ConquerItem.RightWeaponAccessory:
                                        case (byte)ConquerItem.Bottle:
                                            {
                                                ConquerItem item;
                                                if ((item = client.Equipment.TryGetItem(npcRequest.OptionID)) != null)
                                                {
                                                    if (item.Bless == 0)
                                                    {
                                                        if (client.Entity.BoundCps >= 3000000)
                                                        {
                                                            client.Entity.BoundCps -= 3000000;
                                                            item.Bless = 1;
                                                            item.Mode = Game.Enums.ItemMode.Update;
                                                            item.Send(client);
                                                            Database.ConquerItemTable.UpdateBless(item);
                                                            break;
                                                        }
                                                        if (client.Entity.ConquerPoints >= 3000000)
                                                        {
                                                            client.Entity.ConquerPoints -= 3000000;
                                                            item.Bless = 1;
                                                            item.Mode = Game.Enums.ItemMode.Update;
                                                            item.Send(client);
                                                            Database.ConquerItemTable.UpdateBless(item);
                                                            break;
                                                        }
                                                       
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Super bless low:
                            case 350122:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("I am here to bless your gear... to beautify you special items for 300 K ConquerPoints.");
                                                dialog.Option("Bless mount armor", (byte)ConquerItem.SteedArmor);
                                                dialog.Option("Garment", (byte)ConquerItem.Garment);
                                                dialog.Option("Bless tower", (byte)ConquerItem.Tower);
                                                dialog.Option("Bless fan", (byte)ConquerItem.Fan);
                                                dialog.Option("Bless crop", (byte)ConquerItem.SteedCrop);
                                                dialog.Option("Bless right accessory", (byte)ConquerItem.RightWeaponAccessory);
                                                dialog.Option("Bless left accessory", (byte)ConquerItem.LeftWeaponAccessory);
                                                dialog.Send();
                                                break;
                                            }
                                        case (byte)ConquerItem.SteedArmor:
                                        case (byte)ConquerItem.Garment:
                                        case (byte)ConquerItem.Tower:
                                        case (byte)ConquerItem.Fan:
                                        case (byte)ConquerItem.SteedCrop:
                                        case (byte)ConquerItem.LeftWeaponAccessory:
                                        case (byte)ConquerItem.RightWeaponAccessory:
                                            {
                                                ConquerItem item;
                                                if ((item = client.Equipment.TryGetItem(npcRequest.OptionID)) != null)
                                                {
                                                    if (item.Bless == 0 && client.Entity.ConquerPoints >= 300000)
                                                    {
                                                        client.Entity.ConquerPoints -= 300000;
                                                        item.Bless = 1;
                                                        item.Mode = Game.Enums.ItemMode.Update;
                                                        item.Send(client);
                                                        Database.ConquerItemTable.UpdateBless(item);
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region BlacksmithLee
                            case 1550:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.OpenSockets, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                            break;
                                    }
                                    break;
                                }
                            #endregion


                            #region UnknownMan
                            case 3825:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello stranger. My mother tough me not to talk with strangers but I feel like I can talk with you. There is something special to you. Since I feel like I can trust you I can make you a service. If your level is below 110, I will give you a lot of exp in exchange of one DragonBall, but if your level is above or equal to 110 I will demand two DragonBalls. If your level is higher than 135, well then, I can't help you. If you are interested in my proposition and if you have DragonBalls, please let me know.");
                                                dialog.Option("Yes I do.", 1);
                                                dialog.Option("No, not really.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Level >= 135)
                                                {
                                                    dialog.Text("I am sorry, your level is too high. I simply can't help you.");
                                                    dialog.Option("Sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                if (DateTime.Now.DayOfYear != client.LastDragonBallUse.DayOfYear)
                                                {
                                                    byte needTimes = 1;
                                                    ulong exp_reward = 13901336;//default for level 50 or lower
                                                    #region exp reward switch
                                                    byte level = client.Entity.Level;
                                                    if (level > 50 && level < 63)
                                                        exp_reward = 27152909;
                                                    if (level >= 63 && level < 69)
                                                        exp_reward = 28860143;
                                                    if (level >= 69 && level < 74)
                                                        exp_reward = 36822370;
                                                    if (level >= 74 && level < 79)
                                                        exp_reward = 57533091;
                                                    if (level >= 79 && level < 87)
                                                        exp_reward = 70404048;
                                                    if (level >= 87 && level < 90)
                                                        exp_reward = 84097242;
                                                    if (level >= 90 && level < 93)
                                                        exp_reward = 102959118;
                                                    if (level >= 93 && level < 96)
                                                        exp_reward = 134266326;
                                                    if (level >= 96 && level < 98)
                                                        exp_reward = 100801220;
                                                    if (level >= 98 && level <= 100)
                                                        exp_reward = 214351925;

                                                    if (level > 100)
                                                    {
                                                        switch (level)
                                                        {
                                                            case 101: exp_reward = 242910783; break;
                                                            case 102: exp_reward = 286050512; break;
                                                            case 103: exp_reward = 259627544; break;
                                                            case 104: exp_reward = 232767237; break;
                                                            case 105: exp_reward = 241888762; break;
                                                            case 106: exp_reward = 249478280; break;
                                                            case 107: exp_reward = 265126887; break;
                                                            case 108: exp_reward = 187446887; break;
                                                            case 109: exp_reward = 193715970; break;
                                                            case 110: exp_reward = 204416075; break;
                                                            case 111: exp_reward = 227337342; break;
                                                            case 112: exp_reward = 230562942; break;
                                                            case 113: exp_reward = 234594942; break;
                                                            case 114: exp_reward = 238626942; break;
                                                            case 115: exp_reward = 240239742; break;
                                                            case 116: exp_reward = 242658942; break;
                                                            case 117: exp_reward = 246690942; break;
                                                            case 118: exp_reward = 290290023; break;
                                                            case 119: exp_reward = 358712493; break;
                                                            case 120: exp_reward = 282274058; break;
                                                            case 121: exp_reward = 338728870; break;
                                                            case 122: exp_reward = 243884786; break;
                                                            case 123: exp_reward = 292661743; break;
                                                            case 124: exp_reward = 322122547; break;
                                                            case 125: exp_reward = 292661744; break;
                                                            case 126: exp_reward = 351194092; break;
                                                            case 127: exp_reward = 337146328; break;
                                                            case 128: exp_reward = 303431696; break;
                                                            case 129: exp_reward = 322122547; break;
                                                        }
                                                    }
                                                    #endregion
                                                    if (client.Entity.Level >= 110) { needTimes = 2; }
                                                    if (client.Entity.Level >= 130) { needTimes += 8; }
                                                    if (client.Entity.Level >= 135)
                                                    {
                                                        dialog.Text("I can't help you anymore, you're too high leveled!");
                                                        dialog.Option("I see, Thanks!", 255);
                                                        break;
                                                    }
                                                    if (client.Inventory.Contains(1088000, needTimes))
                                                    {
                                                        client.Inventory.Remove(1088000, needTimes);
                                                        client.IncreaseExperience(exp_reward, false);
                                                        client.LastDragonBallUse = DateTime.Now;
                                                        dialog.Text("Congratulations! You've received a lot of experience from me today, enjoy!");
                                                        dialog.Text("I'll see you only tomorrow now.");
                                                        dialog.Option("I see, Thanks!", 255);
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I am sorry, but obviously you want to scam me out because you don't have the amount of required DragonBalls.");
                                                        dialog.Option("Sorry.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I am sorry, but I remeber that I gave you this opportunity already today. I can't do it more than once per day so I'm afraid I have to tell you good bye until tomorrow.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region LoveStone
                            case 390:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello mate, how do you do? Listen, There are not many people that can make a marriage last, but I can sense that you are one of them, if you want to marry someone just let me know. Also, if you are heavenly blessed I can give you one hour of double exp each day.");
                                                dialog.Option("Yes, I want to marry someone.", 1);
                                                dialog.Option("I need double exp.", 2);
                                                dialog.Option("Nothing thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Spouse == "None")
                                                {
                                                    dialog.Text("Here, click on the player you want to be your spouse.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                    Data data = new Data(true);
                                                    data.UID = client.Entity.UID;
                                                    data.ID = Data.OpenCustom;
                                                    data.dwParam = Data.CustomCommands.FlowerPointer;
                                                    client.Send(data);
                                                }
                                                else
                                                {
                                                    dialog.Text("You are already married. If you want to broke the marriage, you have to go to StarLit. He'll handle your request.");
                                                    dialog.Option("Alright that's what I'll do.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.HeavenBlessing > 0)
                                                {
                                                    if (!client.DoubleExpToday)
                                                    {
                                                        dialog.Text("Here. Come back tomorrow for more.");
                                                        dialog.Option("Alright that's what I'll do.", 255);
                                                        dialog.Send();

                                                        client.Entity.DoubleExperienceTime = 3600;
                                                        client.DoubleExpToday = true;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You already took your double exp today. Come back tomorrow.");
                                                        dialog.Option("Alright that's what I'll do.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot take double exp because you are not heavenly blessed.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Eternity
                            case 300500:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello conqueror. You know, there are ancient stories about a second life and many people chose not to believe it. Even so, there are some people that believe in it, and that inspired me to learn about it. In my study, I found out how to reborn someone. But, in this quest, a CelestialStone may be needed. To get one, talk with Celestine(TwinCity 365, 92).");
                                                dialog.Option("Tell me more about it.", 1);
                                                dialog.Option("Reborm me.", 2);
                                                dialog.Option("Nothing thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                dialog.Text("So you want to know more? When you reborn, you can chose what class you want to be the second life. Once you reborn you will start again the journey to conquer this world from level 15. Beware that you may gain some special skills depending on the class you chose to reborn, and you'll be able to get an own pet, that will follow and help you level or fight. The cost is a CelestialStone.");
                                                dialog.Option("Reborm me.", 2);
                                                dialog.Option("Nothing thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Reborn == 0)
                                                {
                                                    if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                    {
                                                        dialog.Text("There are two kinds of reborns. One is the normal one and the second one is blessed. The normal reborn will give you the chance to get a Super Gem and the blessed reborn will set a -1 into one of your equipment that you wear during the reborn. What do you chose?");
                                                        dialog.Option("Normal reborn.", 5);
                                                        dialog.Option("Blessed reborn.", 3);
                                                        dialog.Option("Nothing thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Reborn == 0)
                                                {
                                                    if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                    {
                                                        dialog.Text("Select the super gem you desire.");
                                                        dialog.Option("SuperPhoenixGem.", 203);
                                                        dialog.Option("SuperDragonGem.", 213);
                                                        dialog.Option("SuperFuryGem.", 223);
                                                        dialog.Option("SuperRainbowGem.", 233);
                                                        dialog.Option("SuperVioletGem.", 253);
                                                        dialog.Option("SuperMoonGem.", 254);
                                                        dialog.Option("SuperKylinGem.", 243);
                                                        dialog.Option("Nothing thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Reborn == 0)
                                                {
                                                    if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                    {
                                                        dialog.Text("Select the class you want to reborn in.");
                                                        dialog.Option("Trojan.", (byte)(10 + npcRequest.OptionID));
                                                        dialog.Option("Warrior.", (byte)(20 + npcRequest.OptionID));
                                                        dialog.Option("Archer.", (byte)(40 + npcRequest.OptionID));
                                                        dialog.Option("WaterTaoist.", (byte)(132 + npcRequest.OptionID));
                                                        dialog.Option("FireTaoist.", (byte)(142 + npcRequest.OptionID));
                                                        dialog.Option("Ninja.", (byte)(50 + npcRequest.OptionID));
                                                        dialog.Option("Monk.", (byte)(60 + npcRequest.OptionID));
                                                        //dialog.Option("Pirate.", (byte)(70 + npcRequest.OptionID));
                                                        dialog.Option("Nothing thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        default:
                                            {
                                                if (client.Entity.Reborn == 0)
                                                {
                                                    if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                                    {
                                                        if (npcRequest.OptionID == 255)
                                                            return;
                                                        if (npcRequest.OptionID >= 200 && npcRequest.OptionID <= 254)
                                                        {
                                                            client.SelectedGem = (byte)(npcRequest.OptionID % 100);
                                                            if (client.SelectedGem == 54)
                                                                client.SelectedGem = 63;
                                                            if (client.Entity.Reborn == 0)
                                                            {
                                                                byte id = 4;
                                                                dialog.Text("Select the class you want to reborn in.");
                                                                dialog.Option("Trojan.", (byte)(10 + id));
                                                                dialog.Option("Warrior.", (byte)(20 + id));
                                                                dialog.Option("Archer.", (byte)(40 + id));
                                                                dialog.Option("WaterTaoist.", (byte)(132 + id));
                                                                dialog.Option("FireTaoist.", (byte)(142 + id));
                                                                dialog.Option("Ninja.", (byte)(50 + id));
                                                                dialog.Option("Monk.", (byte)(60 + id));
                                                                dialog.Option("Pirate.", (byte)(70 + id));
                                                                dialog.Option("Nothing thank you.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                                dialog.Option("Thank you.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (client.Inventory.Contains(721259, 1))
                                                            {
                                                                byte _class = (byte)(npcRequest.OptionID - npcRequest.OptionID % 10);
                                                                if (_class > 100)
                                                                    _class += 2;
                                                                byte type = (byte)(npcRequest.OptionID - _class);
                                                                if (_class < 100)
                                                                    _class++;
                                                                if (client.Reborn(_class))
                                                                {
                                                                    client.Inventory.Remove(721259, 1);
                                                                    if (type == 4)
                                                                    {
                                                                        if (client.SelectedGem != 0)
                                                                        {
                                                                            uint gemid = (uint)(client.SelectedGem + 700000);
                                                                            client.Inventory.Add(gemid, 0, 1);
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        int availableshots = 0;
                                                                        for (byte count = 0; count < 12; count++)
                                                                            if (!client.Equipment.Free(count))
                                                                                if (client.Equipment.TryGetItem(count).Bless == 0)
                                                                                    availableshots++;
                                                                        if (availableshots != 0)
                                                                        {
                                                                            byte ex = (byte)Conquer_Online_Server.Kernel.Random.Next(12);
                                                                            if (!client.Equipment.Free(ex))
                                                                                if (client.Equipment.TryGetItem(ex).Bless == 0)
                                                                                {
                                                                                    var item = client.Equipment.TryGetItem(ex);
                                                                                    item.Bless = 1;
                                                                                    item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                                    item.Send(client);
                                                                                    Conquer_Online_Server.Database.ConquerItemTable.UpdateBless(item);
                                                                                }
                                                                        }
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    dialog.Text("Sorry, but you need atleast 2 free spaces in your inventory.");
                                                                    dialog.Option("Ohh.", 255);
                                                                    dialog.Send();
                                                                }
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("Sorry, but you need a CelestialStone!");
                                                                dialog.Option("Ohh.", 255);
                                                                dialog.Send();
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region MillionaireLee
                            case 5004:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hey you! Yeah, it's you I am talking about. I've got a great deal that you cannot leave without taking it. I will give you one meteorscroll for ten meteors and one dragonballscroll for ten dragonballs. With those scrolls you can have more than fourty meteors or dragonballs in your inventory at once!");
                                                dialog.Option("Take my meteors.", 1);
                                                dialog.Option("Take my dragonballs.", 2);
                                                dialog.Option("I'm too poor.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Inventory.Contains(1088001, 10))
                                                {
                                                    client.Inventory.Remove(1088001, 10);
                                                    client.Inventory.Add(720027, 0, 1);
                                                }
                                                else
                                                {
                                                    dialog.Text("You poor man! I can't help you.");
                                                    dialog.Option("Why!?", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(1088000, 10))
                                                {
                                                    client.Inventory.Remove(1088000, 10);
                                                    client.Inventory.Add(720028, 0, 1);
                                                }
                                                else
                                                {
                                                    dialog.Text("You poor man! I can't help you.");
                                                    dialog.Option("Why!?", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Granny
                            case 699:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("These youngsters forget to increase the durabuility when they upgrade your items. ");
                                                dialog.Text("I can take your SuperKylinGems and try to increase your item's max durabuility. ");
                                                dialog.Text("It's possible that the item could be completely repaired too. How many will you try with?");
                                                dialog.Input("Enter:", 1, 2);
                                                dialog.Option("Not now.", 255);

                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                byte Kylins = 0;
                                                if (!Byte.TryParse(npcRequest.Input, out Kylins))
                                                {// Input doesn't contain numbers only.
                                                    dialog.Text("Tell me, how am I supposed to get your durability higher if you can't give me a number 1 through 40?");
                                                    dialog.Option("Oops!", 0);
                                                    dialog.Send();
                                                    break;
                                                }
                                                if (Kylins != 0 && Kylins <= 40)
                                                {
                                                    if (client.Inventory.Contains(700043, Kylins))
                                                    {
                                                        client.KylinUpgradeCount = Kylins;
                                                        dialog.Text("Which item do you want to upgrade?");
                                                        dialog.Option("Headgear.", 101);
                                                        dialog.Option("Necklace.", 102);
                                                        dialog.Option("Armor.", 103);
                                                        dialog.Option("Main Weapon.", 104);
                                                        dialog.Option("Left Weapon.", 105);
                                                        dialog.Option("Ring.", 106);
                                                        dialog.Option("Next Page.", 2);
                                                        dialog.Option("I'll just leave", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have that many SuperKylinGems...");
                                                        dialog.Option("Oops...", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(700043, client.KylinUpgradeCount))
                                                {
                                                    dialog.Text("Which item do you want to upgrade?");
                                                    dialog.Option("Boots.", 108);
                                                    dialog.Option("Fan.", 110);
                                                    dialog.Option("Tower.", 111);
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 101:
                                        case 102:
                                        case 103:
                                        case 104:
                                        case 105:
                                        case 106:
                                        case 108:
                                        case 110:
                                        case 111:
                                            {
                                                if (client.KylinUpgradeCount != 0 && client.KylinUpgradeCount <= 40)
                                                {
                                                    if (client.Inventory.Contains(700043, client.KylinUpgradeCount))
                                                    {
                                                        var item = client.Equipment.TryGetItem((byte)(npcRequest.OptionID - 100));
                                                        if (item != null)
                                                        {
                                                            #region old
                                                            /*if (item.Durability == item.MaximDurability)
                                                {
                                                    var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                    if (itemdetail.Durability != item.MaximDurability)
                                                    {
                                                        
                                                        int diff = itemdetail.Durability - item.MaximDurability;

                                                        int need = Math.Max((diff / 100) / 6, 1);

                                                        need = Math.Min(need, client.KylinUpgradeCount);

                                                        for (int counter = 0; counter < need; counter++)
                                                        {
                                                            item.MaximDurability += 100;
                                                            client.Inventory.Remove(700043, 1);
                                                        }
                                                        if (item.MaximDurability > itemdetail.Durability)
                                                            item.MaximDurability = itemdetail.Durability;
                                                        item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                        item.Send(client);
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("Your item must be repaired first.");
                                                    dialog.Option("Oh, sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }*/
                                                            #endregion
                                                            #region test
                                                            var itemdetail = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                            if (itemdetail.Durability != item.MaximDurability)
                                                            {
                                                                ushort oldDurability = item.MaximDurability;
                                                                bool Upgraded = false;
                                                                while (client.KylinUpgradeCount != 0)
                                                                {
                                                                    client.Inventory.Remove(700043, 1);
                                                                    client.KylinUpgradeCount -= 1;

                                                                    int rndDurability = (Conquer_Online_Server.Kernel.Random.Next(itemdetail.Durability));
                                                                    if (rndDurability >= item.MaximDurability)
                                                                    {
                                                                        //This looks ugly to me, not sure how else to do it.
                                                                        item.MaximDurability = ushort.Parse(rndDurability.ToString());
                                                                        rndDurability = 0;
                                                                        if (!Upgraded)
                                                                            Upgraded = true;
                                                                    }
                                                                }
                                                                if (Upgraded)
                                                                    dialog.Text("Your item's durabuility was increased from " + oldDurability + " to " + item.MaximDurability + ".\n");
                                                                else
                                                                    dialog.Text("I wasen't able to increase your item's durability..\n");
                                                                int Repair = (Conquer_Online_Server.Kernel.Random.Next(3));
                                                                if (Repair == 1)
                                                                {
                                                                    if (Upgraded)
                                                                        dialog.Text("I was also able to repair the item.");
                                                                    else
                                                                    {
                                                                        dialog.Text("But I was able to repair the item.");
                                                                        Upgraded = true;
                                                                    }
                                                                    item.Durability = item.MaximDurability;
                                                                }
                                                                item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                item.Send(client);
                                                                if (Upgraded)
                                                                    dialog.Option("Thanks.", 255);
                                                                else
                                                                    dialog.Option("Darn..", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("This item is already at it's max durabuility!");
                                                                dialog.Option("Oh.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            #endregion
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Wahh, What is this? I may be forgetful but I'm sure you told me you would give me " + client.KylinUpgradeCount.ToString() + " SuperKylinGems!\n\n I don't see that you have this many..");
                                                        dialog.Option("Lets try again.", 0);
                                                        dialog.Option("Nevermind.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }

                            #endregion

                            #region Confiscator
                            case 4450:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Have you ever arrested anyone? Or ... don't tell me, you have been arrested by anyone? If so, there is a chance that some gear was detained.");
                                                dialog.Option("I want to check my detained gear.", 1);
                                                dialog.Option("I want to check my claimable gear.", 2);
                                                dialog.Option("Thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Send(new Data(true) { ID = Data.OpenWindow, dwParam = Data.WindowCommands.DetainRedeem, UID = client.Entity.UID });
                                                break;
                                            }
                                        case 2:
                                            {
                                                client.Send(new Data(true) { ID = Data.OpenWindow, dwParam = Data.WindowCommands.DetainClaim, UID = client.Entity.UID });
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region PurificationStabilizer
                            case 7763:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Have you ever heard of the ruthless Terato Dragon? It cuts open every single conqueror that wants to take his prize. His prize are items that purify your items. His affiliates, sub-kings of monsters, also drop items like that. If you have such an item, I can purify your gear with it.");
                                                dialog.Text("Once purified, the item must be stabilized, otherwise the purity will dissapear after several days. If you want to stabilize your items, come to me I'll see what I can do.");
                                                dialog.Option("Purify my item.", 1);
                                                dialog.Option("Stabilize my item.", 2);
                                                dialog.Option("Nevermind.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                INpc npc = null;
                                                if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                                {
                                                    Data data = new Data(true);
                                                    data.ID = Data.OpenWindow;
                                                    data.UID = client.Entity.UID;
                                                    data.TimeStamp = Time32.Now;
                                                    data.dwParam = 455;
                                                    data.wParam1 = npc.X;
                                                    data.wParam2 = npc.Y;
                                                    client.Send(data);
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                INpc npc = null;
                                                if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                                {
                                                    Data data = new Data(true);
                                                    data.ID = Data.OpenWindow;
                                                    data.UID = client.Entity.UID;
                                                    data.TimeStamp = Time32.Now;//done
                                                    data.dwParam = 459;
                                                    data.wParam1 = npc.X;
                                                    data.wParam2 = npc.Y;
                                                    client.Send(data);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Poker
                            case 27838:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello im Poker admin which Map you want to join!");
                                                //dialog.Option("Poker Room.", 1);
                                                dialog.Option("Vip Room!", 1);
                                                dialog.Option("Just Passing By.", 255);
                                                dialog.Send();
                                                break;
                                                //        }
                                                //    case 1:
                                                //        {
                                                //            client.Entity.Teleport(8880, 55, 62);
                                                //            break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(8881, 55, 62);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Mobs1
                            case 269860: //Mobs1 npc
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. I can teleport you Amazing zone which you can find ThrillingSpook it drop good Items it coast 100 cps .");
                                                dialog.Option("Teleport me.", 1);
                                                dialog.Option("I'm standing by.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.ConquerPoints >= 100)
                                                {
                                                    client.Entity.ConquerPoints -= 100;
                                                    client.Entity.Teleport(8892, 29, 26);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need 100 cps to be able to Teleport To ThrillingSpook.");
                                                    dialog.Option("Alright.", 255);
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region StarLit
                            case 600055:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello mate, how do you do? Listen, i can help you to Divcore your Spouse Just you must agree First.");
                                                dialog.Option("Yes,Divcore me.", 1);
                                                dialog.Option("Nothing thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Spouse == "None")
                                                {
                                                    dialog.Text("Sorry, you not married i cant help you ^^.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You are Free Now.Hope you will find the Good Person for you.");
                                                    dialog.Option("Alright that's what I'll do.", 255);
                                                    dialog.Send();
                                                    client.Entity.Spouse = "None";
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region CollecterZhao
                            case 2070:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello mate, i can help you to change Amulets and LifeFruitBasket for 10 cps what you have?.");
                                                dialog.Option("LifeFruitBasket", 1);
                                                dialog.Option("PenitenceAmulet.", 2);
                                                dialog.Option("DisguiseAmulet.", 3);
                                                dialog.Option("Nothing thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Inventory.Contains(723725, 1))
                                                {
                                                    client.Inventory.Remove(723725, 1);
                                                    client.Entity.ConquerPoints += 10;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont Have Any LifeFruitBaskets.");
                                                    dialog.Option("Alright Thanks", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(723727, 1))
                                                {
                                                    client.Inventory.Remove(723727, 1);
                                                    client.Entity.ConquerPoints += 10;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont Have Any PenitenceAmulet.");
                                                    dialog.Option("Alright Thanks", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Inventory.Contains(723724, 1))
                                                {
                                                    client.Inventory.Remove(723724, 1);
                                                    client.Entity.ConquerPoints += 10;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont Have Any DisguiseAmulet.");
                                                    dialog.Option("Alright Thanks.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #endregion
                        }
                        break;
                    }
                #endregion
                #region New Level UP NPC
                case 802://and this id
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("if Your level 130+ I Can Give you 1 Level if you have " + client.Entity.TreasuerPoints + " treasure points");
                                    dialog.Option("Level Me Up Please.", 1);
                                    dialog.Option("Have a good day.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Select your level. I see you have " + client.Entity.TreasuerPoints + " treasure points");
                                    dialog.Option("you have gain 1 level (1000000)", 2);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    uint cost = 1000000;
                                    if (client.Entity.Level >= 130 && client.Entity.Level < 140)
                                    {
                                        if (client.Entity.TreasuerPoints >= cost)
                                        {
                                            client.Entity.TreasuerPoints -= cost;

                                            client.Entity.Level++;
                                            client.Entity.Experience = 0;
                                            if (client.Entity.Reborn == 0)
                                            {
                                                Database.DataHolder.GetStats(client.Entity.Class, client.Entity.Level, client);
                                                client.CalculateStatBonus();
                                                client.CalculateHPBonus();
                                                client.GemAlgorithm();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please come back to me with 1kk Treasure Points.");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back When you are past 130 And lower than 140.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Clan War Exit   
                case 1509:
                    {
                        switch (client.ActiveNpc)
                        {
                            case 4482117:
                                {

                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. Do you want to Leave THE CLANWAR?.");
                                                dialog.Option("Yes Please.", 1);
                                                dialog.Option("Just Passing By!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1002, 301, 278);
                                                break;
                                            }
                                    }
                                    break;
                                }
                        }
                        break;
                    }
            #endregion
                #region Guild war
                case 1038:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Pole
                            case 810:
                                {
                                    dialog.Text("Please, don't hurt me!.");
                                    dialog.Option("Sorry.", 255);
                                    dialog.Send();
                                    break;
                                }
                            #endregion

                            #region ClaimGuildPrize

                            case 4482114:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello there. Do you want to Claim GuildWar Prize you can only Claim it 1 Time if you won GW.");
                                                dialog.Option("Leme Claim.", 1);
                                                dialog.Option("Claim TopDeputyLeader.", 3);
                                                dialog.Option("Just Passing By!", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Guild != null)
                                                {
                                                    if (client.Guild.PoleKeeper && client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.GuildLeader)
                                                    {
                                                        dialog.Text("Are you sure you want to Claim your Prize?");
                                                        dialog.Option("Yes.", 2);
                                                        dialog.Option("Ah, nevermind.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry only GuildLeader of the Winner Guild can Claim The Prize After GuildWar End.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry You are not Member in any guild yet");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (DateTime.Now.Hour >= 22 && DateTime.Now.Hour < (22 + 1) && DateTime.Now.DayOfWeek == DayOfWeek.Sunday && client.Guild.PoleKeeper && client.Guild != null && client.AsMember.Rank == Game.Enums.GuildMemberRank.GuildLeader && ClassPk.TopGlClaim == 0)
                                                {
                                                    //#warning GUILD WAR PRIZE
                                                    //Program.AddWarLog("GuildWar", "500000000", client.Entity.Name);
                                                    GuildWar.Claim = false;
                                                    GuildWar.KeeperID = 0;
                                                    client.Entity.ConquerPoints += client.GW;
                                                    ClassPk.AddGl();
                                                    client.Inventory.Add(0xb0a0b, 0, 1);
                                                    //PacketHandler.CheckCommand2(new Message("@tegotegatege GoldPrize Normalv3 0 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                                    client.Entity.AddTopStatus(Update.Flags.TopGuildLeader, DateTime.Now.AddDays(7));
                                                    Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Leader of " + client.Guild.PoleKeeper + " The winner guild has Claimed Guild War Prize 2kk cps and LordToken!", System.Drawing.Color.White, Message.TopLeft), Program.GamePool);
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont have Any Prize to claim only GL of the winner guild can claim Prize After GW");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Guild != null)
                                                {
                                                    if (client.Guild.PoleKeeper && client.Guild != null && client.AsMember.Rank == Conquer_Online_Server.Game.Enums.GuildMemberRank.DeputyLeader)
                                                    {
                                                        dialog.Text("Are you sure you want to Claim your Prize?");
                                                        dialog.Option("Yes.", 4);
                                                        dialog.Option("Ah, nevermind.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry only DeputyLeader of the Winner Guild can Claim The Prize After GuildWar End.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }

                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry You are not Member in any guild yet");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 4:
                                            {
                                                if (DateTime.Now.DayOfWeek == DayOfWeek.Sunday)
                                                {
                                                    if (DateTime.Now.Hour >= 22 && DateTime.Now.Hour < (22 + 1) && DateTime.Now.DayOfWeek == DayOfWeek.Sunday && client.Guild.PoleKeeper && client.Guild != null && client.AsMember.Rank == Game.Enums.GuildMemberRank.DeputyLeader && ClassPk.TopDlClaim < 5)
                                                    {
                                                        ClassPk.AddDl();
                                                        client.Entity.AddTopStatus(Update.Flags.TopDeputyLeader, DateTime.Now.AddDays(7));
                                                        Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " From " + client.Guild.PoleKeeper + " Has Claimed TopDeputyLeader Halo!", System.Drawing.Color.White, Message.TopLeft), Program.GamePool);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry you dont have Any Prize to claim only Dl of the Winner Guild Can claim the halo After GW end.");
                                                        dialog.Option("Ahh.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Gates
                            case 516074:
                                {
                                    if (client.Guild != null)
                                    {
                                        if (client.Guild.PoleKeeper)
                                        {
                                            switch (npcRequest.OptionID)
                                            {
                                                case 0:
                                                    dialog.Text("Select the option you want to pursue.");
                                                    if (client.AsMember.Rank != Conquer_Online_Server.Game.Enums.GuildMemberRank.Member)
                                                    {
                                                        dialog.Option("Open gate.", 1);
                                                        dialog.Option("Close gate.", 2);
                                                    }
                                                    dialog.Option("Get inside.", 3);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                    break;
                                                case 1:
                                                    {
                                                        if (Game.GuildWar.LeftGate.Mesh == (ushort)(240 + Game.GuildWar.LeftGate.Mesh % 10))
                                                        {
                                                            Conquer_Online_Server.Game.GuildWar.LeftGate.Mesh = (ushort)(250 + Conquer_Online_Server.Game.GuildWar.LeftGate.Mesh % 10);
                                                            Update upd = new Update(true);
                                                            upd.UID = Conquer_Online_Server.Game.GuildWar.LeftGate.UID;
                                                            upd.Append(Update.Mesh, Conquer_Online_Server.Game.GuildWar.LeftGate.Mesh);
                                                            client.SendScreen(upd, true);
                                                        }
                                                        break;
                                                    }
                                                case 2:
                                                    {
                                                        if (Conquer_Online_Server.Game.GuildWar.LeftGate.Mesh == (ushort)(250 + Conquer_Online_Server.Game.GuildWar.LeftGate.Mesh % 10))
                                                        {
                                                            Game.GuildWar.LeftGate.Mesh = (ushort)(240 + Game.GuildWar.LeftGate.Mesh % 10);
                                                            Update upd = new Update(true);
                                                            upd.UID = Conquer_Online_Server.Game.GuildWar.LeftGate.UID;
                                                            upd.Append(Update.Mesh, Conquer_Online_Server.Game.GuildWar.LeftGate.Mesh);
                                                            upd.Append(Update.Hitpoints, Conquer_Online_Server.Game.GuildWar.LeftGate.Hitpoints);
                                                            client.SendScreen(upd, true);
                                                        }
                                                        break;
                                                    }
                                                case 3:
                                                    {
                                                        client.Entity.Teleport(1038, 162, 198);
                                                        break;
                                                    }
                                            }
                                        }
                                    }
                                    break;
                                }
                            case 516075:
                                {
                                    if (client.Guild != null)
                                    {
                                        if (client.Guild.PoleKeeper)
                                        {
                                            switch (npcRequest.OptionID)
                                            {
                                                case 0:
                                                    dialog.Text("Select the option you want to pursue.");
                                                    if (client.AsMember.Rank != Conquer_Online_Server.Game.Enums.GuildMemberRank.Member)
                                                    {
                                                        dialog.Option("Open gate.", 1);
                                                        dialog.Option("Close gate.", 2);
                                                    }
                                                    dialog.Option("Get inside.", 3);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                    break;
                                                case 1:
                                                    {
                                                        Conquer_Online_Server.Game.GuildWar.RightGate.Mesh = (ushort)(280 + Conquer_Online_Server.Game.GuildWar.RightGate.Mesh % 10);

                                                        Update upd = new Update(true);
                                                        upd.UID = Conquer_Online_Server.Game.GuildWar.RightGate.UID;
                                                        upd.Append(Update.Mesh, Conquer_Online_Server.Game.GuildWar.RightGate.Mesh);
                                                        client.SendScreen(upd, true);
                                                        break;
                                                    }
                                                case 2:
                                                    {
                                                        Conquer_Online_Server.Game.GuildWar.RightGate.Mesh = (ushort)(270 + Conquer_Online_Server.Game.GuildWar.RightGate.Mesh % 10);
                                                        Game.GuildWar.RightGate.Hitpoints = Game.GuildWar.RightGate.MaxHitpoints;
                                                        Update upd = new Update(true);
                                                        upd.UID = Conquer_Online_Server.Game.GuildWar.RightGate.UID;
                                                        upd.Append(Update.Mesh, Conquer_Online_Server.Game.GuildWar.RightGate.Mesh);
                                                        upd.Append(Update.Hitpoints, Conquer_Online_Server.Game.GuildWar.RightGate.Hitpoints);
                                                        client.SendScreen(upd, true);
                                                        break;
                                                    }
                                                case 3:
                                                    {
                                                        client.Entity.Teleport(1038, 210, 177);
                                                        break;
                                                    }
                                            }
                                        }
                                    }
                                    break;
                                }
                            #endregion

                            #region Guild Conductresses

                            #region Exit Guild Arena
                            case 7000:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Do you want to leave the guild arena?");
                                                dialog.Option("Yes.", 1);
                                                dialog.Option("No.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                client.Entity.Teleport(1002, 300, 278);
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion


                            #endregion

                            #region Guild Conductors
                            #region IN
                            case 9884:
                            case 9885:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("In exchange of a fee of 1000gold, I will teleport you to a special place. If you don't have money, don't bother me.");
                                                dialog.Option("Teleport me.", 1);
                                                dialog.Option("I'm too poor.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 1000)
                                                {
                                                    client.Entity.Money -= 1000;
                                                    switch (client.ActiveNpc)
                                                    {
                                                        case 9884: client.Entity.Teleport(1216, 12, 481); break;
                                                        case 9885: client.Entity.Teleport(1015, 792, 573); break;
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #endregion

                            #region Guild Conductors2
                            #region IN
                            case 9886:
                            case 9887:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("In exchange of a fee of 1000gold, I will teleport you to a special place. If you don't have money, don't bother me.");
                                                dialog.Option("Teleport me.", 1);
                                                dialog.Option("I'm too poor.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Money >= 1000)
                                                {
                                                    client.Entity.Money -= 1000;
                                                    switch (client.ActiveNpc)
                                                    {
                                                        case 9886: client.Entity.Teleport(1217, 536, 558); break;
                                                        case 9887: client.Entity.Teleport(1001, 337, 325); break;
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Promotion Center
                case 1004:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Promotion Center

                            #region [LeadPerformer]
                            case 355913:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Hello there! Please allow me to introduce to you the sub-class of Performers to you. "
                                                + "Performers are gifted in the harmonizing of song and swordplay into "
                                                + "beautiful, unique dances. These dances will surely make you the center of "
                                                + "people`s attention! Would you like to join us? After you join this sub-class, you "
                                                + "can level it up and get promoted to learn more stylish dances.");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Learn UniqueDance?", 11);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you are willing to be one of us. I`m sure your dances will be very "
                                                + "charming. Still, there are a few requiriments you need to meet. Though "
                                                + "players of all classes can join us, we only accept players who are over level "
                                                + "70, and it takes 15 Orchids to pay the tuition fee. After joining the Performer "
                                                + "sub-class, click open your character sheet and you`ll find the "
                                                + "sub-class button on the left-hand corner. You may level up your sub-class on "
                                                + "the sub-class button sheet. You need to meet a certain sub-class level to get "
                                                + "promoted to higher sub-class phases.");
                                            dialog.Option("I see. Count me in.", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                            {
                                                dialog.Text(
                                                    "You are not a Performer yet and can`t get promoted. Do you want to join the "
                                                    + "Performer sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.Performer, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.Performer, new Conquer_Online_Server.Game.SubClass() { ID = (byte)ClassID.Performer, Level = 1, Phase = 1 });
                                                SubClassTable.Insert(client.Entity, (byte)ClassID.Performer);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Performer way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                // client.Entity.AncestorHonored++;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to give me 15 Orchids and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 11:
                                            {
                                                dialog.Text("i can help you to learn all UniqueDance you should have Req SubClass and ");
                                                dialog.Text("5,000 cps to Learn the dance what you wana Choose to learn? ");
                                                dialog.Option("BattleDance[P1].", 12);
                                                dialog.Option("Triumph[P3].", 13);
                                                dialog.Option("StepStomp[P5].", 14);
                                                dialog.Option("MoonLight[P7].", 15);
                                                dialog.Option("SnowWind[P9].", 16);
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 12:

                                            if (client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                            {
                                                if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase >= 1 && client.Entity.ConquerPoints >= 5000)
                                                {
                                                    client.AddSpell(new Spell(true) { ID = 1415 });
                                                    client.Entity.ConquerPoints -= 5000;
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the BattleDance . Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Thanks", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 13:
                                            if (client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                            {
                                                if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase >= 3 && client.Entity.ConquerPoints >= 5000)
                                                {
                                                    client.AddSpell(new Spell(true) { ID = 1416 });
                                                    client.Entity.ConquerPoints -= 5000;
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the Triumph. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Thanks", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 14:
                                            if (client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                            {
                                                if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase >= 5 && client.Entity.ConquerPoints >= 5000)
                                                {
                                                    client.AddSpell(new Spell(true) { ID = 1417 });
                                                    client.Entity.ConquerPoints -= 5000;
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the StepStomp. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Thanks", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 15:
                                            if (client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                            {
                                                if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase >= 7 && client.Entity.ConquerPoints >= 5000)
                                                {
                                                    client.AddSpell(new Spell(true) { ID = 1418 });
                                                    client.Entity.ConquerPoints -= 5000;
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the MoonLight. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Thanks", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 16:
                                            if (client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Performer))
                                            {
                                                if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase >= 9 && client.Entity.ConquerPoints >= 5000)
                                                {
                                                    client.AddSpell(new Spell(true) { ID = 1419 });
                                                    client.Entity.ConquerPoints -= 5000;
                                                    dialog.Text(
                                                        "Congratulations! You`ve learned the SnowWind. Hope you use this power "
                                                        + "for the good of us all.");
                                                    dialog.Option("Thanks", 255);
                                                    dialog.Avatar(100);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you dont have Enought cps or the Req Phase.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.Performer].Phase++;
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.Performer]);
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region [LeadApothecary]
                            case 355912:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Hello there! Please allow me to introduce to you the sub-class of the "
                                                + "Apothecary. An Apothecary is a master of various oriental herbs and can use  "
                                                + "their healing powers to protect themselves from poison damage. Would you "
                                                + "like to join us? After you join this sub-class, you can level it up and get "
                                                + "promoted to gain more protection.");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Apothecary))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you desire to become one of us. I`m sure you`ll make a capable  "
                                                + "Apothecary. Still, there are a few requiriments you need to meet. Though "
                                                + "players of all classes can join us, we only accept players who are over level "
                                                + "70, and it takes 10 Meteor Tears to pay the tuition fee. After joining the "
                                                + "Apothecary sub-class, click open your character sheet and you`ll find the "
                                                + "sub-class button on the left-hand corner. You may level up your sub-class on "
                                                + "the sub-class button sheet. You need to meet a certain sub-class level to get "
                                                + "promoted to higher sub-class phases.");
                                            dialog.Option("I see. Count me in.", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Apothecary))
                                            {
                                                dialog.Text(
                                                    "You are not a Apothecary yet and can`t get promoted. Do you want to join the "
                                                    + "Apothecary sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)ClassID.Apothecary].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.Apothecary, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.Apothecary, new Game.SubClass() { ID = (byte)ClassID.Apothecary, Level = 1, Phase = 1 });
                                                Database.SubClassTable.Insert(client.Entity, (byte)ClassID.Apothecary);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Apothecary way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                // client.Entity.AncestorHonored++;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to give me 10 Meteor Tears and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Apothecary].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Apothecary].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.Apothecary].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.Apothecary].Phase++;
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.Apothecary]);
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region [LeadMartialArtist]
                            case 355911:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Hello there! You look quite capable. Perhaps you`ll make a great Martial "
                                                + "Artist. Please allow me to explain the MartialArtist sub-class. The Martial "
                                                + "Artist`s awesome displays of ombat prowess are a wonder to behold, but a "
                                                + "nightmare to face. When you are a martial Artist, you will be able to increase "
                                                + "the chances of hitting with 1.5x Attack Power! Would you like to join us? After "
                                                + "you join this sub-class, you can level it up and get promoted to increase your "
                                                + "chances of hitting your enemies with more power!");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.MartialArtist))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you are willing to be one of us. I`m sure you will distinguish "
                                                + "yourself with your combat ability in no time. Still, there are a few requiriments "
                                                + "you need to meet. Though players of all classes can join us, we only accept "
                                                + "players who are over level 70, and it takes 5 Celestial Stones to pay the tuition "
                                                + "fee. After joining the Martial Artist sub-class, click open your character sheet "
                                                + "and you`ll find the sub-class button on the left-hand corner. You may level up "
                                                + "your sub-class on the sub-class button sheet. You need to meet a certain sub-class "
                                                + "level to get promoted to higher sub-class phases.");
                                            dialog.Option("I see. Count me in.", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.MartialArtist))
                                            {
                                                dialog.Text(
                                                    "You are not a Martial Artist yet and can`t get promoted. Do you want to join the "
                                                    + "Martial Artist sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)ClassID.MartialArtist].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.MartialArtist, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.MartialArtist, new Game.SubClass() { ID = (byte)ClassID.MartialArtist, Level = 1, Phase = 1 });
                                                Database.SubClassTable.Insert(client.Entity, (byte)ClassID.MartialArtist);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Martial Artist way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                // client.Entity.AncestorHonored++;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to buy 5 Celestial Stones from the Great Merchant and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.MartialArtist].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.MartialArtist].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.MartialArtist].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.MartialArtist].Phase++;
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.MartialArtist]);
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region [LeadChiMaster]
                            case 355910:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Hello there! Please allow me to introduce to you the sub-class of the Chi "
                                                + "Master. The Chi Master is a potent combatant so versed in counter attacks, "
                                                + "that they have a chance of preventing their enemy from landing Critical "
                                                + "Strikes! Would you like to join us? After you join this sub-class you can level"
                                                + "it up and get promoted to increase your immunity to critical strikes.");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.ChiMaster))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Where to buy Yin-Yang Fruits?", 4);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you are willing to be one of us. I`m sure you`ll make a capable "
                                                + "Chi Master. Still, there are a few requiriments you need to meet. Though "
                                                + "players of all classes can join us, we only accept players who are over level "
                                                + "70, and it takes 1 Yin-Yang Fruit to pay the tuition fee. You can pay 10,000 "
                                                + "Horse Racing points to the Horse Race Manager to buy one. After joining the "
                                                + "Chi Master sub-class, click open your character sheet and you`ll find the "
                                                + "sub-class button on the left-hand corner. You may level up your sub-class on "
                                                + "the sub-class button sheet. You need to meet a certain sub-class level to get "
                                                + "promoted to higher sub-class phases.");
                                            dialog.Option("I see. Count me in.", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.ChiMaster))
                                            {
                                                dialog.Text(
                                                    "You are not a Chi Master yet and can`t get promoted. Do you want to join the "
                                                    + "Chi Master sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + client.Entity.SubClasses.Classes[(byte)ClassID.ChiMaster].Phase + 1 + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 4:
                                            dialog.Text(
                                                "You may pay 10,000 Horse Racing points to the Horse Race Manager to buy "
                                                + "a Yin-Yang Fruit.");
                                            dialog.Option("Thanks.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.ChiMaster, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.ChiMaster, new Game.SubClass() { ID = (byte)ClassID.ChiMaster, Level = 1, Phase = 1 });
                                                Database.SubClassTable.Insert(client.Entity, (byte)ClassID.ChiMaster);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Chi Masters way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                // client.Entity.AncestorHonored++;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to buy a Yin-Yang Fruit from the Horse Race Manager and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.ChiMaster].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.ChiMaster].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.ChiMaster].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.ChiMaster].Phase++;
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.ChiMaster]);
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region [Wrangler]
                            case 355916:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Good day! Have you ever wondered what a Wrangler is? Well, please allow "
                                                + "me to introduce this sub-class to you. Wrangler are masters of the "
                                                + "MaxHp energies and can increase! "
                                                + "Isn`t that wonderful? Would you like to join us? After you join "
                                                + "this sub-class, you can level it up and get promoted to increase your power!");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Wrangler))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you are willing to be one of us. I`m sure you will make a great "
                                                + "Wrangler. Still, there are a few requiriments you need to meet. Though players "
                                                + "of all classes can join us, we only accept players who are over level 70, and it "
                                                + "takes 40 Saddle`s to pay the tuition fee. After joining the Wrangler sub-class, "
                                                + "click open your character sheet and you`ll find the sub-class button on the "
                                                + "left-hand corner. You may level up your sub-class on the sub-class button sheet. You "
                                                + "need to meet a certain sub-class level to get promoted to higher sub-class "
                                                + "phases.");
                                            dialog.Option("I see. Count me in.", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Wrangler))
                                            {
                                                dialog.Text(
                                                    "You are not a Wrangler yet and can`t get promoted. Do you want to join the "
                                                    + "Warlock sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)ClassID.Wrangler].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.Wrangler, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.Wrangler, new Game.SubClass() { ID = (byte)ClassID.Wrangler, Level = 1, Phase = 1 });
                                                Database.SubClassTable.Insert(client.Entity, (byte)ClassID.Wrangler);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Wrangler way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                // client.Entity.AncestorHonored++;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to give me 40 Saddle's and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Wrangler].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Wrangler].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.Wrangler].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.Wrangler].Phase++;
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.Wrangler]);
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region [LeadSage]
                            case 355915:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Hello, my friend. Are you here to join the Sage sub-class? Before we start, "
                                                + "please allow me to introduce this sub-class to you. Sages have strong "
                                                + "spiritual powers and have a gruesome ability to reduce a target`s Magical "
                                                + "Defense. This is very helpful in defeating those who might underestimate "
                                                + "your power! Would you like to join us? After you join this sub-class, you can "
                                                + "level it up and get promoted to reduce more of your target`s Magical Defense.");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)Game.ClassID.Sage))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you are willing to be one of us. I`m sure you will be a fantastic "
                                                + "Sage. Still, there are a few requiriments you need to meet. Though players "
                                                + "of all classes can join us, we only accept players who are over level 70, and it "
                                                + "takes 20 Lucky Amulets to pay the tuition fee. After joining the Sage sub-class, "
                                                + "click open your character sheet and you`ll find the sub-class button on the "
                                                + "left-hand corner. You may level up your sub-class on the sub-class button sheet. You "
                                                + "need to meet a certain sub-class level to get promoted to higher sub-class "
                                                + "phases.");
                                            dialog.Option("I see. Count me in.", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Sage))
                                            {
                                                dialog.Text(
                                                    "You are not a Sage yet and can`t get promoted. Do you want to join the "
                                                    + "Sage sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)ClassID.Sage].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.Sage, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.Sage, new Game.SubClass() { ID = (byte)ClassID.Sage, Level = 1, Phase = 1 });
                                                Database.SubClassTable.Insert(client.Entity, (byte)ClassID.Sage);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Sage way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                // client.Entity.AncestorHonored++;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to give me 20 Lucky Amulets and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Sage].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Sage].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.Sage].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.Sage].Phase++;
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.Sage]);
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion
                            #region [LeadWarlock]
                            case 355914:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            dialog.Text(
                                                "Good day! Have you ever wondered what a Warlock is? Well, please allow "
                                                + "me to introduce this sub-class to you. Warlocks are masters of the "
                                                + "psionic energies and can increase their chances of casting spells with 2x "
                                                + "Magical Attack. Isn`t that wonderful? Would you like to join us? After you join "
                                                + "this sub-class, you can level it up and get promoted to increase your power!");
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Warlock))
                                                dialog.Option("Yes, I`d like to join it.", 1);
                                            dialog.Option("I want to get promoted.", 2);
                                            dialog.Option("How can I get promoted?", 3);
                                            dialog.Option("Not my concern.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 1:
                                            dialog.Text(
                                                "I`m glad that you are willing to be one of us. I`m sure you will make a great "
                                                + "Warlock. Still, there are a few requiriments you need to meet. Though players "
                                                + "of all classes can join us, we only accept players who are over level 70, and it "
                                                + "takes 10 Emeralds to pay the tuition fee. After joining the Warlock sub-class, "
                                                + "click open your character sheet and you`ll find the sub-class button on the "
                                                + "left-hand corner. You may level up your sub-class on the sub-class button sheet. You "
                                                + "need to meet a certain sub-class level to get promoted to higher sub-class "
                                                + "phases.");
                                            dialog.Option("I see. Count me in. [10 Emeralds]", 100);
                                            dialog.Option("Oh, it does not suit me.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 2:
                                            if (!client.Entity.SubClasses.Classes.ContainsKey((byte)ClassID.Warlock))
                                            {
                                                dialog.Text(
                                                    "You are not a Warlock yet and can`t get promoted. Do you want to join the "
                                                    + "Warlock sub-class now?");
                                                dialog.Option("Yes, I`d like to join.", 1);
                                                dialog.Option("Oh. Not now.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                   "To promote to Phase " + (client.Entity.SubClasses.Classes[(byte)ClassID.Warlock].Phase + 1).ToString() + " you must meet the requirements. have you meet "
                                                   + "them into the sub-class sheet?");
                                                dialog.Option("Positive.", 200);
                                                dialog.Option("Oh. not yet.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 3:
                                            dialog.Text(
                                                "Good day! Please spare me a few minutes so that I can tell you about the "
                                                + "sub-classes in Twin City. Each Sub-Class has 9 phases, and the higher the "
                                                + "phase is, the more bonus effects the sub-class will offer. But keep in mind "
                                                + "that these sub-classes also have a level system and you need to level them "
                                                + "up before you can get promoted. You can level up your sub-class by gaining "
                                                + "study points.");
                                            dialog.Option("How can I get study points?", 30);
                                            dialog.Option("Oh.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 30:
                                            dialog.Text(
                                                "Well, the only way to get those points is to read the sub-class books, such as "
                                                + "the Diligence Book. When you`ve gained enough study points, open the "
                                                + "sub-class sheet from the character panel and level up the sub-class there. "
                                                + "Monsters in the wild are always bothering young adventurers, so you might "
                                                + "find some books from them.");
                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(100);
                                            dialog.Send();
                                            break;
                                        case 100:
                                            if (PacketHandler.PassLearn((byte)ClassID.Warlock, client.Entity))
                                            {
                                                client.Entity.SubClasses.Classes.Add((byte)ClassID.Warlock, new Game.SubClass() { ID = (byte)ClassID.Warlock, Level = 1, Phase = 1 });
                                                Database.SubClassTable.Insert(client.Entity, (byte)ClassID.Warlock);
                                                dialog.Text(
                                                    "Congratulations! You`ve learned the Warlock way. Hope you use this power "
                                                    + "for the good of us all.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                _String str = new _String(true);
                                                str.UID = client.Entity.UID;
                                                str.TextsCount = 1;
                                                str.Type = _String.Effect;
                                                str.Texts.Add("end_task");
                                                client.SendScreen(str, true);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text(
                                                    "I`m sorry, you need to give me 10 Bombs and "
                                                    + "reach level 70 to join us.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                        case 200:
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Warlock].Phase == 9)
                                            {
                                                dialog.Text("Your sub-class phase is already 9, you can`t promote it anymore!");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                return;
                                            }
                                            if (client.Entity.SubClasses.Classes[(byte)ClassID.Warlock].Phase < client.Entity.SubClasses.Classes[(byte)ClassID.Warlock].Level)
                                            {
                                                client.Entity.SubClasses.Classes[(byte)ClassID.Warlock].Phase++;
                                                dialog.Text("You have promoted your sub-class successfully.");
                                                dialog.Option("Oh, Thanks.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                                Database.SubClassTable.Update(client.Entity, client.Entity.SubClasses.Classes[(byte)ClassID.Warlock]);
                                            }
                                            else
                                            {
                                                dialog.Text("I`m sorry, you don`t meet the requirements yet.");
                                                dialog.Option("Oh.", 255);
                                                dialog.Avatar(100);
                                                dialog.Send();
                                            }
                                            break;
                                    }
                                    break;
                                }
                            #endregion


                            #region PiratePromete
                            case 4272:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    dialog.Text("I am the Pirate trainer, master of balence in destruction and harmony.\nWhat do you seek, young Pirate?");
                                                    dialog.Option("Promote me.", 1);
                                                    dialog.Option("Learn skills.", 2);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }


                                        #region Promote
                                        case 1:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Class == 75)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Class == 75)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {

                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        #region Skills
                                        case 2:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("BladeTempest (Lvl 15).", 6);
                                                    dialog.Option("ScurvyBomb (XP) (Lvl 15)", 7);
                                                    dialog.Option("CannonBarrage (Lvl 15)", 8);
                                                    dialog.Option("BlackbeardRage (Lvl 15)", 9);
                                                    dialog.Option("GaleBomb (Lvl 15)", 10);
                                                    dialog.Option("KrakensRevenge (Lvl 15)", 11);
                                                    dialog.Option("BlackSpot (Lvl 15)", 12);
                                                    dialog.Option("Next!", 5);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    dialog.Text("Which aura do you want to learn?");
                                                    dialog.Option("AdrenalineRush (Lvl 15).", 13);
                                                    dialog.Option("EagleEye (Lvl 15).", 14);
                                                    dialog.Option("WindStorm (Lvl 5).", 15);
                                                    dialog.Option("Back to skills.", 2);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned BladeTempest.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11110)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15 && client.Entity.FirstRebornClass == 75 && client.Entity.SecondRebornClass == 75)
                                                    {
                                                        dialog.Text("You have learned the ScurvyBomb.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11040)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more and to be a pure Pirate.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned CannonBarrage .");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11050)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned BlackbeardRage .");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11060)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned GaleBomb.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11070)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 11:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75 && client.Entity.FirstRebornClass == 75 && client.Entity.SecondRebornClass == 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned KrakensRevenge.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11100)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 12:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned BlackSpot.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11120)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 13:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned AdrenalineRush.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11130)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 14:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned PiEagleEye .");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11030)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 15:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 5)
                                                    {
                                                        dialog.Text("You have learned WindStorm.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(11140)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 5 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 16:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned Wood Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10421)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 17:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned Water Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10422)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 18:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned Fire Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10423)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 19:
                                            {
                                                if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Earth Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10424)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the Pirate is not for trade.\nIf you wish to learn the secrets of the Pirate come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                    }
                                    break;
                                }
                            #endregion
                            #region HeadAbbot
                            case 4271:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    dialog.Text("I am the monk trainer, master of balence in destruction and harmony.\nWhat do you seek, young monk?");
                                                    dialog.Option("Promote me.", 1);
                                                    dialog.Option("Learn skills.", 2);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #region BoundItems
                                        case 49:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.HeadgearClaim)
                                                    dialog.Option("Headgear (Lvl 15).", 50);
                                                if (!client.RingClaim)
                                                    dialog.Option("Ring (Lvl 40).", 51);
                                                if (!client.NecklaceClaim)
                                                    dialog.Option("Necklace (Lvl 50).", 52);
                                                if (!client.ArmorClaim)
                                                    dialog.Option("Armor (Lvl 70).", 53);
                                                dialog.Option("Next.", 48);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 48:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.BootsClaim)
                                                    dialog.Option("Boots (Lvl 80).", 54);
                                                if (!client.TowerClaim)
                                                    dialog.Option("Tower (Lvl 100).", 55);
                                                if (!client.FanClaim)
                                                    dialog.Option("Fan (Lvl 100).", 56);
                                                if (!client.WeaponClaim)
                                                    dialog.Option("Weapon (Lvl 110).", 57);
                                                dialog.Option("Back.", 49);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 50:
                                            {
                                                uint itemid = 143009;
                                                byte level = 15;
                                                if (!client.HeadgearClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.HeadgearClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 51:
                                            {
                                                uint itemid = 150079;
                                                byte level = 40;
                                                if (!client.RingClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.RingClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 52:
                                            {
                                                uint itemid = 120099;
                                                byte level = 50;
                                                if (!client.NecklaceClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.NecklaceClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 53:
                                            {
                                                uint itemid = 136069;
                                                byte level = 70;
                                                if (!client.ArmorClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.ArmorClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 54:
                                            {
                                                uint itemid = 160159;
                                                byte level = 80;
                                                if (!client.BootsClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.BootsClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 55:
                                            {
                                                uint itemid = 202009;
                                                byte level = 100;
                                                if (!client.TowerClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.TowerClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 56:
                                            {
                                                uint itemid = 201009;
                                                byte level = 100;
                                                if (!client.FanClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);
                                                        item.ID = itemid;
                                                        item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 1;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.FanClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 57:
                                            {
                                                byte level = 100;
                                                if (!client.WeaponClaim)
                                                {
                                                    IProf proff = null;
                                                    ushort maxlevel = 0;
                                                    foreach (var prof in client.Proficiencies.Values)
                                                    {
                                                        if (maxlevel < prof.Level && prof.ID != 0)
                                                        {
                                                            maxlevel = prof.Level;
                                                            proff = prof;
                                                        }
                                                    }
                                                    if (proff == null)
                                                        return;
                                                    uint itemid = 610199;
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.WeaponClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        #region Promote
                                        case 1:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Class == 65)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Class == 65)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {

                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        #region Skills
                                        case 2:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("Triple Attack (Lvl 5).", 6);
                                                    dialog.Option("Oblivion (XP) (Lvl 15)", 7);
                                                    dialog.Option("Whirlwind Kick (Lvl 15)", 8);
                                                    dialog.Option("Radiant Palm (Lvl 40)", 9);
                                                    dialog.Option("Serenity (Lvl 40)", 10);
                                                    dialog.Option("Tranquility (Lvl 70)", 11);
                                                    dialog.Option("Compassion (Lvl 100)", 12);
                                                    dialog.Option("Auras (Lvl 20->100)", 5);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    dialog.Text("Which aura do you want to learn?");
                                                    dialog.Option("Tyrant (Lvl 20).", 13);
                                                    dialog.Option("Fend (Lvl 20)", 14);
                                                    //dialog.Option("Metal (Lvl 100)", 15);
                                                    //dialog.Option("Wood (Lvl 100)", 16);
                                                    //dialog.Option("Water (Lvl 100)", 17);
                                                    //dialog.Option("Fire (Lvl 100)", 18);
                                                    //dialog.Option("Earth (Lvl 100)", 19);
                                                    dialog.Option("Back to skills.", 2);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 5)
                                                    {
                                                        dialog.Text("You have learned Triple Attack.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10490)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 5 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned the Oblivion XP skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10390)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        dialog.Text("You have learned Whirlwind Kick.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10415)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        dialog.Text("You have learned Radiant Palm.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10381)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        dialog.Text("You have learned Serenity.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10400)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 11:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        dialog.Text("You have learned Tranquility.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10425)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 12:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Compassion.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10430)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 13:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 20)
                                                    {
                                                        dialog.Text("You have learned Tyrent Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10395)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 20 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 14:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 20)
                                                    {
                                                        dialog.Text("You have learned Fend Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10410)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 20 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 15:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Metal Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10420)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 16:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Wood Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10421)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 17:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Water Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10422)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 18:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Fire Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10423)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 19:
                                            {
                                                if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        dialog.Text("You have learned Earth Elemental Aura.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(10424)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("The ancient secrets of the monk is not for trade.\nIf you wish to learn the secrets of the monk come back in another life. Good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                    }
                                    break;
                                }
                            #endregion

                            #region WarriorGod
                            case 10001:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    dialog.Text("I am the shield and two hand weapons master. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                    dialog.Option("Promote me.", 1);
                                                    dialog.Option("Learn skills.", 2);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #region BoundItems
                                        case 49:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.HeadgearClaim)
                                                    dialog.Option("Headgear (Lvl 15).", 50);
                                                if (!client.RingClaim)
                                                    dialog.Option("Ring (Lvl 40).", 51);
                                                if (!client.NecklaceClaim)
                                                    dialog.Option("Necklace (Lvl 50).", 52);
                                                if (!client.ArmorClaim)
                                                    dialog.Option("Armor (Lvl 70).", 53);
                                                dialog.Option("Next.", 48);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 48:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.BootsClaim)
                                                    dialog.Option("Boots (Lvl 80).", 54);
                                                if (!client.TowerClaim)
                                                    dialog.Option("Tower (Lvl 100).", 55);
                                                if (!client.FanClaim)
                                                    dialog.Option("Fan (Lvl 100).", 56);
                                                if (!client.WeaponClaim)
                                                    dialog.Option("Weapon (Lvl 110).", 57);
                                                dialog.Option("Back.", 49);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 50:
                                            {
                                                uint itemid = 111009;
                                                byte level = 15;
                                                if (!client.HeadgearClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.HeadgearClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 51:
                                            {
                                                uint itemid = 150079;
                                                byte level = 40;
                                                if (!client.RingClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.RingClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 52:
                                            {
                                                uint itemid = 120099;
                                                byte level = 50;
                                                if (!client.NecklaceClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.NecklaceClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 53:
                                            {
                                                uint itemid = 131069;
                                                byte level = 70;
                                                if (!client.ArmorClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.ArmorClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 54:
                                            {
                                                uint itemid = 160159;
                                                byte level = 80;
                                                if (!client.BootsClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.BootsClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 55:
                                            {
                                                uint itemid = 202009;
                                                byte level = 100;
                                                if (!client.TowerClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.TowerClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 56:
                                            {
                                                uint itemid = 201009;
                                                byte level = 100;
                                                if (!client.FanClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.FanClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 57:
                                            {
                                                byte level = 100;
                                                if (!client.WeaponClaim)
                                                {
                                                    IProf proff = null;
                                                    ushort maxlevel = 0;
                                                    foreach (var prof in client.Proficiencies.Values)
                                                    {
                                                        if (maxlevel < prof.Level && prof.ID != 0)
                                                        {
                                                            maxlevel = prof.Level;
                                                            proff = prof;
                                                        }
                                                    }
                                                    if (proff == null)
                                                        return;
                                                    uint itemid = (uint)(proff.ID * 1000 + 219);
                                                    if (!Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations.ContainsKey(itemid))
                                                    {
                                                        dialog.Text("You need more proficiency belonging to a weapon, and not a shield or your punch.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.WeaponClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        case 1:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Class == 25)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Class == 25)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {

                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("XP Skills (Lvl 40).", 5);
                                                    dialog.Option("Dash (Lvl 61).", 6);
                                                    dialog.Option("DefensiveStance (Lvl 70).", 7);
                                                    dialog.Option("MagicDefender (Lvl 40).", 8);
                                                    dialog.Option("Charging Votex (Lvl 40)", 9);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        dialog.Text("You have learned the XP Skills of this class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        client.AddSpell(LearnableSpell(1025));
                                                        client.AddSpell(LearnableSpell(1020));
                                                        client.AddSpell(LearnableSpell(1015));
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Level >= 61)
                                                    {
                                                        dialog.Text("You have learned the Dash Skill of this class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(1051)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 61 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the warrior secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }

                                        case 7:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(11160)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the DefensiveStance.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of Warriors  secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }

                                        case 8:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(11200)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the MagicDefender.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of Warriors  secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(11190)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the Charging Vortex.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of Warriors  secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Archer Master
                            case 400:
                                {
                                    byte mClass = 40;
                                    byte MClass = 45;
                                    string Class = "archer";
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("I am the bow master. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                    dialog.Option("Promote me.", 1);
                                                    dialog.Option("Learn skills.", 2);
                                                    dialog.Option("Assassin knowledge.", 100);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #region Assassin knowledge
                                        case 100:
                                            {
                                                if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                dialog.Text("I see in you a great apprentice of the shadow path. Continue and you shall conquest! What do you me to teach you?");
                                                dialog.Option("L40: The path of shadow [40+].", 101);
                                                dialog.Option("Learn other skills.", 102);
                                                dialog.Option("Wait a minute.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 101:
                                            {
                                                if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                if (client.Spells.ContainsKey(11620))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(11620));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 102:
                                            {
                                                dialog.Text("After you get promoted as an Eagle Archer at Level 40, you can equip a Throwing Knife and use skill `Path Of Shadow` to disguise as an Assassin! The skills will cause fatal damage to the opponent!\n");
                                                dialog.Text("Tip: Use Mortal Wound under Stigma state, to inflict high damage!");

                                                dialog.Option("L40:~Blade~Flurry~(XP)", 103);
                                                dialog.Option("L70:~Mortal~Wound~(Offensive)", 104);
                                                dialog.Option("L50:~Kinetic~Spark~(Passive)", 105);
                                                dialog.Option("L1000:~Blistering~Wave~(Mass)", 106);
                                                dialog.Option("L90:~Spirit~Focus~(Boost)", 107);
                                                dialog.Option("L100:~Dagger~Storm~(Mass)", 108);
                                                dialog.Option("Leave.", 255);
                                                dialog.Avatar(10);
                                                break;
                                            }
                                        #region Blade Flurry
                                        case 103:
                                            {
                                                ushort level = 40, id = 11610;
                                                if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region Mortal Wound
                                        case 104:
                                            {
                                                ushort level = 70, id = 11660;
                                                if (!(client.Entity.Class >= 43 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region Kinetic Spark
                                        case 105:
                                            {
                                                ushort level = 50, id = 11590;
                                                if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region Blistering Wave
                                        case 106:
                                            {
                                                ushort level = 100, id = 11650;
                                                if (!(client.Entity.Class >= 43 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region Spirit Focus
                                        case 107:
                                            {
                                                ushort level = 90, id = 11670;
                                                if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region Dagger Storm
                                        case 108:
                                            {
                                                ushort level = 100, id = 11600;
                                                if (!(client.Entity.Class >= 41 && client.Entity.Class <= 45))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #endregion

                                        #region BoundItems
                                        case 49:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.HeadgearClaim)
                                                    dialog.Option("Headgear (Lvl 15).", 50);
                                                if (!client.RingClaim)
                                                    dialog.Option("Ring (Lvl 40).", 51);
                                                if (!client.NecklaceClaim)
                                                    dialog.Option("Necklace (Lvl 50).", 52);
                                                if (!client.ArmorClaim)
                                                    dialog.Option("Armor (Lvl 70).", 53);
                                                dialog.Option("Next.", 48);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 48:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.BootsClaim)
                                                    dialog.Option("Boots (Lvl 80).", 54);
                                                if (!client.TowerClaim)
                                                    dialog.Option("Tower (Lvl 100).", 55);
                                                if (!client.FanClaim)
                                                    dialog.Option("Fan (Lvl 100).", 56);
                                                if (!client.WeaponClaim)
                                                    dialog.Option("Weapon (Lvl 110).", 57);
                                                dialog.Option("Back.", 49);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 50:
                                            {
                                                uint itemid = 113009;
                                                byte level = 15;
                                                if (!client.HeadgearClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.HeadgearClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 51:
                                            {
                                                uint itemid = 150079;
                                                byte level = 40;
                                                if (!client.RingClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.RingClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 52:
                                            {
                                                uint itemid = 120099;
                                                byte level = 50;
                                                if (!client.NecklaceClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.NecklaceClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 53:
                                            {
                                                uint itemid = 133049;
                                                byte level = 70;
                                                if (!client.ArmorClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.ArmorClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 54:
                                            {
                                                uint itemid = 160159;
                                                byte level = 80;
                                                if (!client.BootsClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.BootsClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 55:
                                            {
                                                uint itemid = 202009;
                                                byte level = 100;
                                                if (!client.TowerClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.TowerClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 56:
                                            {
                                                uint itemid = 201009;
                                                byte level = 100;
                                                if (!client.FanClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.FanClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 57:
                                            {
                                                byte level = 100;
                                                if (!client.WeaponClaim)
                                                {
                                                    IProf proff = null;
                                                    ushort maxlevel = 0;
                                                    foreach (var prof in client.Proficiencies.Values)
                                                    {
                                                        if (maxlevel < prof.Level && prof.ID != 0)
                                                        {
                                                            maxlevel = prof.Level;
                                                            proff = prof;
                                                        }
                                                    }
                                                    if (proff == null)
                                                        return;
                                                    uint itemid = (uint)(proff.ID * 1000 + 219);
                                                    if (!Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations.ContainsKey(itemid))
                                                    {
                                                        Console.WriteLine("invalid claim weapon " + itemid);
                                                        return;
                                                    }
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.WeaponClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        case 1:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("XPFly (Lvl 1).", 5);
                                                    dialog.Option("Scatter (Lvl 23).", 6);
                                                    dialog.Option("RapidFire (Lvl 40).", 7);
                                                    dialog.Option("Fly (Lvl 70).", 8);
                                                    dialog.Option("Intensify (Lvl 70).", 9);
                                                    dialog.Option("Arrow rain (Lvl 70).", 10);
                                                    dialog.Option("Advanced Fly (Lvl 100).", 11);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("You have learned the XP Skill of this class.");
                                                    dialog.Option("Thank you master.", 255);
                                                    dialog.Send();
                                                    if (!client.AddSpell(LearnableSpell(8002)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 23)
                                                    {
                                                        dialog.Text("You have learned the scatter.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        if (!client.AddSpell(LearnableSpell(8001)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 23 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(8000)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the rapid fire.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {

                                                        if (!client.AddSpell(LearnableSpell(8003)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the fly.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(9000)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the intensify.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(8030)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the arrow rain.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 11:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 100)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(8003, 1)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the advanced fly.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 100 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Ninja Master
                            case 4720:
                                {
                                    byte mClass = 50;
                                    byte MClass = 55;
                                    string Class = "ninja";
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("I am the master of the no sound attack and the master of the katanas. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                    dialog.Option("Promote me.", 1);
                                                    dialog.Option("Learn skills.", 2);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                _String str = new _String(true);
                                                                str.UID = client.Entity.UID;
                                                                str.TextsCount = 1;
                                                                str.Type = _String.Effect;
                                                                str.Texts.Add("end_task");
                                                                client.SendScreen(str, true);
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            _String str = new _String(true);
                                                            str.UID = client.Entity.UID;
                                                            str.TextsCount = 1;
                                                            str.Type = _String.Effect;
                                                            str.Texts.Add("end_task");
                                                            client.SendScreen(str, true);
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("Let me know what you want to learn. '[...]' and '{...}' means ninja as second life and ninja as third life.");
                                                    dialog.Option("TwofoldBlades (Lvl 40).", 5);
                                                    dialog.Option("ToxicFog (Lvl 70).", 6);
                                                    dialog.Option("PoisonStar [Lvl 70].", 7);
                                                    dialog.Option("ArcherBane (Lvl 110).", 9);
                                                    dialog.Option("ShurikenVortex (Lvl 70).", 10);
                                                    dialog.Option("FatalStrike (Lvl 15).", 11);
                                                    dialog.Option("TwilightDance.", 31);
                                                    dialog.Option("SuperTwofoldBlade.", 32);
                                                    dialog.Option("ShadowClone.", 33);
                                                    dialog.Option("FatalSpin.", 34);
                                                    dialog.Option("Next.", 16);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(6000)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the TwofoldBlades.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 23 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(6001)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the ToxicFog.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if ((client.Entity.Reborn == 1 && client.Entity.Class == 55) || (client.Entity.Reborn == 2 && client.Entity.SecondRebornClass == 55))
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6002)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the PoisonStar.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be ninja in the second life.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (client.Entity.Reborn == 2 && client.Entity.Class == 55)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(6003)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the CounterKill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be ninja in the third life.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 110)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(6004)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the ArcherBane.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(6010)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the ShurikenVortex.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 11:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 15)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(6011)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the FatalStrike.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 15 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 31:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(12070)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the TwilightDance.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 23 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 32:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(12080)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the SuperTwofoldBlade.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 33:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if ((client.Entity.Reborn == 1 && client.Entity.Class == 55) || (client.Entity.Reborn == 2 && client.Entity.SecondRebornClass == 55))
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12090)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the ShadowClone.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 34:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (client.Entity.Reborn == 2 && client.Entity.Class == 55)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(12110)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the FatalSpin.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to be ninja in the third life.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }

                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 16:
                                            {
                                                dialog.Text("Let me know what you want to learn. '[...]' and '{...}' means ninja as second life and ninja as third life.");
                                                dialog.Option("GapingWounds(Lvl40).", 13);
                                                dialog.Option("MortalDrag(Lvl20).", 14);
                                                dialog.Option("BloodyScythe(Lvl40).", 15);
                                                dialog.Option("Previous!.", 2);
                                                dialog.Option("Nothing!.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 13:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(11230)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the GapingWounds.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 14:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 20)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(11180)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the MortalDrag.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 20 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 15:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(11170)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the BloodyScythe.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }

                                    }
                                    break;
                                }
                            #endregion

                            #region TrojanMaster
                            case 10022:
                                {
                                    byte mClass = 10;
                                    byte MClass = 15;
                                    string Class = "trojan";
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("I am the master of the one hand weapons. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                    dialog.Option("Promote me.", 1);
                                                    dialog.Option("Learn skills.", 2);
                                                    dialog.Option("Learn New Trojan Skills", 100);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #region Trojan knowledge
                                        case 100:
                                            {
                                                if (!(client.Entity.Class >= 11 && client.Entity.Class <= 15))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                dialog.Text("I see in you a great apprentice of the shadow path. Continue and you shall conquest! What do you me to teach you?");
                                                //dialog.Option("L40: The path of shadow [40+].", 101);
                                                dialog.Option("Learn The New Trojan Skills.", 102);
                                                dialog.Option("Wait a minute.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 102:
                                            {
                                                dialog.Text("After you get promoted as an Vertean Trojan at Level 40, you can equip a CrossSaber ! The skills will cause fatal damage to the opponent!\n");
                                                dialog.Text("Tip: Use Mortal Wound under Stigma state, to inflict high damage!");

                                                dialog.Option("SuperCyclone", 103);
                                                dialog.Option("FatalCross", 104);
                                                dialog.Option("BreathFocus", 105);
                                                dialog.Option("MortalStrike", 106);
                                                dialog.Option("Leave.", 255);
                                                dialog.Avatar(10);
                                                break;
                                            }
                                        #region SuperCyclone
                                        case 103:
                                            {
                                                ushort level = 40, id = 11970;
                                                if (!(client.Entity.Class >= 11 && client.Entity.Class <= 15))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region FatalCross
                                        case 104:
                                            {
                                                ushort level = 40, id = 11980;
                                                if (!(client.Entity.Class >= 11 && client.Entity.Class <= 15))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region BreathFocus
                                        case 105:
                                            {
                                                ushort level = 50, id = 11960;
                                                if (!(client.Entity.Class >= 11 && client.Entity.Class <= 15))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #region MortalStrike
                                        case 106:
                                            {
                                                ushort level = 70, id = 11990;
                                                if (!(client.Entity.Class >= 11 && client.Entity.Class <= 15))
                                                {
                                                    dialog.Text("You do not have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Entity.Level < level)
                                                {
                                                    dialog.Text("You are not strong enough to have access to this knowledge!");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }
                                                if (client.Spells.ContainsKey(id))
                                                {
                                                    dialog.Text("You already hold the knowledge of this path.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                    return;
                                                }

                                                client.AddSpell(LearnableSpell(id));
                                                dialog.Text("Congratulations! You now hold the knowledge of this path!");
                                                dialog.Option("Thank you, master.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        #endregion
                                        #endregion
                                        #region BoundItems
                                        case 49:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.HeadgearClaim)
                                                    dialog.Option("Headgear (Lvl 15).", 50);
                                                if (!client.RingClaim)
                                                    dialog.Option("Ring (Lvl 40).", 51);
                                                if (!client.NecklaceClaim)
                                                    dialog.Option("Necklace (Lvl 50).", 52);
                                                if (!client.ArmorClaim)
                                                    dialog.Option("Armor (Lvl 70).", 53);
                                                dialog.Option("Next.", 48);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 48:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.BootsClaim)
                                                    dialog.Option("Boots (Lvl 80).", 54);
                                                if (!client.TowerClaim)
                                                    dialog.Option("Tower (Lvl 100).", 55);
                                                if (!client.FanClaim)
                                                    dialog.Option("Fan (Lvl 100).", 56);
                                                if (!client.WeaponClaim)
                                                    dialog.Option("Weapon (Lvl 110).", 57);
                                                dialog.Option("Back.", 49);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 50:
                                            {
                                                uint itemid = 118009;
                                                byte level = 15;
                                                if (!client.HeadgearClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.HeadgearClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 51:
                                            {
                                                uint itemid = 150079;
                                                byte level = 40;
                                                if (!client.RingClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.RingClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 52:
                                            {
                                                uint itemid = 120099;
                                                byte level = 50;
                                                if (!client.NecklaceClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.NecklaceClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 53:
                                            {
                                                uint itemid = 130069;
                                                byte level = 70;
                                                if (!client.ArmorClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.ArmorClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 54:
                                            {
                                                uint itemid = 160159;
                                                byte level = 80;
                                                if (!client.BootsClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.BootsClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 55:
                                            {
                                                uint itemid = 202009;
                                                byte level = 100;
                                                if (!client.TowerClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.TowerClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 56:
                                            {
                                                uint itemid = 201009;
                                                byte level = 100;
                                                if (!client.FanClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.FanClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 57:
                                            {
                                                byte level = 100;
                                                if (!client.WeaponClaim)
                                                {
                                                    IProf proff = null;
                                                    ushort maxlevel = 0;
                                                    foreach (var prof in client.Proficiencies.Values)
                                                    {
                                                        if (maxlevel < prof.Level && prof.ID != 0)
                                                        {
                                                            maxlevel = prof.Level;
                                                            proff = prof;
                                                        }
                                                    }
                                                    if (proff == null)
                                                        return;
                                                    uint itemid = (uint)(proff.ID * 1000 + 219);
                                                    if (!Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations.ContainsKey(itemid))
                                                    {
                                                        Console.WriteLine("invalid claim weapon " + itemid);
                                                        return;
                                                    }
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.WeaponClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        case 1:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("XPSkills (Lvl 40).", 5);
                                                    dialog.Option("Hercules (Lvl 40).", 6);
                                                    dialog.Option("Golem. (Lvl 40).", 7);
                                                    dialog.Option("Spritual Healing. (Lvl 40).", 8);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        dialog.Text("You have learned the XP Skills.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        client.AddSpell(LearnableSpell(1110));
                                                        client.AddSpell(LearnableSpell(1015));
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1115)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the Hercules.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1270)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the Golem.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1190)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the Spritual Healing.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Taoist Moon
                            case 10000:
                                {
                                    byte mClass = 142;
                                    byte MClass = 145;
                                    string Class = "fire taoist";
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                {
                                                    dialog.Text("I am the master of the fire skills. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                    dialog.Option("Promote me.", 100);
                                                    dialog.Option("Learn basic skills.", 200);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("I am the master of the fire skills. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn skills.", 2);
                                                        dialog.Option("Learn basic skills.", 200);
                                                        //dialog.Option("Claim bound items.", 49);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                break;
                                            }
                                        #region BoundItems
                                        case 49:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.HeadgearClaim)
                                                    dialog.Option("Headgear (Lvl 15).", 50);
                                                if (!client.RingClaim)
                                                    dialog.Option("Ring (Lvl 40).", 51);
                                                if (!client.NecklaceClaim)
                                                    dialog.Option("Necklace (Lvl 50).", 52);
                                                if (!client.ArmorClaim)
                                                    dialog.Option("Armor (Lvl 70).", 53);
                                                dialog.Option("Next.", 48);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 48:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.BootsClaim)
                                                    dialog.Option("Boots (Lvl 80).", 54);
                                                if (!client.TowerClaim)
                                                    dialog.Option("Tower (Lvl 100).", 55);
                                                if (!client.FanClaim)
                                                    dialog.Option("Fan (Lvl 100).", 56);
                                                if (!client.WeaponClaim)
                                                    dialog.Option("Weapon (Lvl 110).", 57);
                                                dialog.Option("Back.", 49);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 50:
                                            {
                                                uint itemid = 117009;
                                                byte level = 15;
                                                if (!client.HeadgearClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.HeadgearClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 51:
                                            {
                                                uint itemid = 152089;
                                                byte level = 40;
                                                if (!client.RingClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.RingClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 52:
                                            {
                                                uint itemid = 121099;
                                                byte level = 50;
                                                if (!client.NecklaceClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.NecklaceClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 53:
                                            {
                                                uint itemid = 134069;
                                                byte level = 70;
                                                if (!client.ArmorClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.ArmorClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 54:
                                            {
                                                uint itemid = 160159;
                                                byte level = 80;
                                                if (!client.BootsClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.BootsClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 55:
                                            {
                                                uint itemid = 202009;
                                                byte level = 100;
                                                if (!client.TowerClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.TowerClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 56:
                                            {
                                                uint itemid = 201009;
                                                byte level = 100;
                                                if (!client.FanClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.FanClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 57:
                                            {
                                                byte level = 100;
                                                if (!client.WeaponClaim)
                                                {
                                                    IProf proff = null;
                                                    ushort maxlevel = 0;
                                                    foreach (var prof in client.Proficiencies.Values)
                                                    {
                                                        if (maxlevel < prof.Level && prof.ID != 0)
                                                        {
                                                            maxlevel = prof.Level;
                                                            proff = prof;
                                                        }
                                                    }
                                                    if (proff == null)
                                                        return;
                                                    uint itemid = (uint)(proff.ID * 1000 + 219);
                                                    if (!Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations.ContainsKey(itemid))
                                                    {
                                                        Console.WriteLine("invalid claim weapon " + itemid);
                                                        return;
                                                    }
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.WeaponClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        case 100:
                                            {
                                                if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                {
                                                    if (client.Entity.Class == 101)
                                                    {
                                                        dialog.Text("Do you want to become a fire taoist?");
                                                        dialog.Option("Yes sir.", 254);
                                                        dialog.Option("No thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 254);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 254:
                                            {
                                                if (client.Entity.Class == 100)
                                                {
                                                    client.Entity.Class++;
                                                    dialog.Text("Congratulations! You have been promoted.");
                                                    dialog.Option("Thank you master.", 255);
                                                    dialog.Send();
                                                }
                                                else if (client.Entity.Class == 101)
                                                {
                                                    client.Entity.Class = 142;
                                                    dialog.Text("Congratulations! You have been promoted.");
                                                    dialog.Option("Thank you master.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 200:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("Thunder (Lvl 1).", 205);
                                                    dialog.Option("Cure (Lvl 1).", 206);
                                                    dialog.Option("Meditation. (Lvl 40).", 207);
                                                    dialog.Option("Chainbolt [XP]. (Lvl 40).", 208);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 205:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    if (!client.AddSpell(LearnableSpell(1000)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("You have learned thunder.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 206:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    if (!client.AddSpell(LearnableSpell(1005)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("You have learned cure.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 207:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1195)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned meditation.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 208:
                                            {
                                                if (client.Entity.Level >= 40)
                                                {
                                                    if (!client.AddSpell(LearnableSpell(10309)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("You have learned chain bolt.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast level 40.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("Fire (Lvl 42 + Thunder lvl 4).", 5);
                                                    dialog.Option("Bomb. (Lvl 43).", 6);
                                                    dialog.Option("FireCircle. (Lvl 48).", 7);
                                                    dialog.Option("FireRing. (Lvl 52).", 8);
                                                    dialog.Option("FireMeteor. (Lvl 55).", 9);
                                                    dialog.Option("Tornado (Lvl 81 + Fire lvl 3).", 10);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 42)
                                                    {
                                                        if (client.Spells.ContainsKey(1000) && client.Spells[1000] != null && client.Spells[1000].Level == 4)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1001)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the fire.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to know thunder very well to be able to learn the fire skill.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 42 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 81)
                                                    {
                                                        if (client.Spells.ContainsKey(1001) && client.Spells[1001] != null && client.Spells[1001].Level == 3)
                                                        {
                                                            if (!client.AddSpell(LearnableSpell(1002)))
                                                            {
                                                                dialog.Text("You already know this skill.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                                break;
                                                            }
                                                            dialog.Text("You have learned the tornado.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need to know thunder very well to be able to learn the fire skill.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 81 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 43)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1160)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the bomb skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 43 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 48)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1120)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the fire circle skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 48 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 52)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1150)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the fire ring skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 52 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 55)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1180)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the fire meteor skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 55 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region Taoist Star
                            case 30:
                                {
                                    byte mClass = 132;
                                    byte MClass = 135;
                                    string Class = "water taoist";
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                {
                                                    dialog.Text("I am the master of the fire skills. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                    dialog.Option("Promote me.", 100);
                                                    dialog.Option("Learn basic skills.", 200);
                                                    //dialog.Option("Claim bound items.", 49);
                                                    dialog.Option("Wait a minute.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                    {
                                                        dialog.Text("I am the master of the water skills. The water skills, are not skills that would make wounds but heal them. As I see, you started your way on conquering this world. I will try to help you teaching you warrir skills and promoting you.");
                                                        dialog.Option("Promote me.", 1);
                                                        dialog.Option("Learn skills.", 2);
                                                        dialog.Option("Learn basic skills.", 200);
                                                        //dialog.Option("Claim bound items.", 49);
                                                        dialog.Option("Wait a minute.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                break;
                                            }
                                        #region BoundItems
                                        case 49:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.HeadgearClaim)
                                                    dialog.Option("Headgear (Lvl 15).", 50);
                                                if (!client.RingClaim)
                                                    dialog.Option("Ring (Lvl 40).", 51);
                                                if (!client.NecklaceClaim)
                                                    dialog.Option("Necklace (Lvl 50).", 52);
                                                if (!client.ArmorClaim)
                                                    dialog.Option("Armor (Lvl 70).", 53);
                                                dialog.Option("Next.", 48);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 48:
                                            {
                                                dialog.Text("We just found some equipment, and I thought that we should give them to our pupils so they can be less defeatable.");
                                                if (!client.BootsClaim)
                                                    dialog.Option("Boots (Lvl 80).", 54);
                                                if (!client.TowerClaim)
                                                    dialog.Option("Tower (Lvl 100).", 55);
                                                if (!client.FanClaim)
                                                    dialog.Option("Fan (Lvl 100).", 56);
                                                if (!client.WeaponClaim)
                                                    dialog.Option("Weapon (Lvl 110).", 57);
                                                dialog.Option("Back.", 49);
                                                dialog.Option("Nothing.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 50:
                                            {
                                                uint itemid = 117009;
                                                byte level = 15;
                                                if (!client.HeadgearClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.HeadgearClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 51:
                                            {
                                                uint itemid = 152089;
                                                byte level = 40;
                                                if (!client.RingClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.RingClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 52:
                                            {
                                                uint itemid = 121099;
                                                byte level = 50;
                                                if (!client.NecklaceClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.NecklaceClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 53:
                                            {
                                                uint itemid = 134069;
                                                byte level = 70;
                                                if (!client.ArmorClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.ArmorClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 54:
                                            {
                                                uint itemid = 160159;
                                                byte level = 80;
                                                if (!client.BootsClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.BootsClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 55:
                                            {
                                                uint itemid = 202009;
                                                byte level = 100;
                                                if (!client.TowerClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.TowerClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 56:
                                            {
                                                uint itemid = 201009;
                                                byte level = 100;
                                                if (!client.FanClaim)
                                                {
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Bound = true;
                                                        item.Plus = 3;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.FanClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 57:
                                            {
                                                byte level = 100;
                                                if (!client.WeaponClaim)
                                                {
                                                    IProf proff = null;
                                                    ushort maxlevel = 0;
                                                    foreach (var prof in client.Proficiencies.Values)
                                                    {
                                                        if (maxlevel < prof.Level && prof.ID != 0)
                                                        {
                                                            maxlevel = prof.Level;
                                                            proff = prof;
                                                        }
                                                    }
                                                    if (proff == null)
                                                        return;
                                                    uint itemid = (uint)(proff.ID * 1000 + 219);
                                                    if (!Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations.ContainsKey(itemid))
                                                    {
                                                        Console.WriteLine("invalid claim weapon " + itemid);
                                                        return;
                                                    }
                                                    if (client.Entity.Level >= level)
                                                    {
                                                        ConquerItem item = new ConquerItem(true);

                                                        item.ID = itemid; item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                                        item.Bound = true;
                                                        item.Durability = item.MaximDurability = Conquer_Online_Server.Database
                                                            .ConquerItemInformation.BaseInformations[itemid].Durability;
                                                        item.Plus = 3;
                                                        item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                                        {
                                                            client.WeaponClaim = true;
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You need atleast one free slot in your inventory.");
                                                            dialog.Option("Alright.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You don't have atleast level " + level + ".");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot claim it twice.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        #endregion
                                        case 100:
                                            {
                                                if (client.Entity.Class >= 100 && client.Entity.Class <= 101)
                                                {
                                                    if (client.Entity.Class == 101)
                                                    {
                                                        dialog.Text("Do you want to become a water taoist?");
                                                        dialog.Option("Yes sir.", 254);
                                                        dialog.Option("No thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 254);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 254:
                                            {
                                                if (client.Entity.Class == 100)
                                                {
                                                    client.Entity.Class++;
                                                    dialog.Text("Congratulations! You have been promoted.");
                                                    dialog.Option("Thank you master.", 255);
                                                    dialog.Send();
                                                }
                                                else if (client.Entity.Class == 101)
                                                {
                                                    client.Entity.Class = 132;
                                                    dialog.Text("Congratulations! You have been promoted.");
                                                    dialog.Option("Thank you master.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 200:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("Thunder (Lvl 1).", 205);
                                                    dialog.Option("Cure (Lvl 1).", 206);
                                                    dialog.Option("Meditation. (Lvl 40).", 207);
                                                    dialog.Option("Chainbolt. [XP] (Lvl 40)", 208);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 205:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    if (!client.AddSpell(LearnableSpell(1000)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("You have learned thunder.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 206:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    if (!client.AddSpell(LearnableSpell(1005)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("You have learned cure.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 207:
                                            {
                                                if (client.Entity.Class >= 100)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1195)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned meditation.");
                                                        dialog.Option("Thank you.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }

                                        case 208:
                                            {
                                                if (client.Entity.Level >= 40)
                                                {
                                                    if (!client.AddSpell(LearnableSpell(10309)))
                                                    {
                                                        dialog.Text("You already know this skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    dialog.Text("You have learned chain bolt.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("You need atleast level 40.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("To promote now you need" + client.PromoteItemNameNeed + " level " + client.PromoteLevelNeed + ".");
                                                        dialog.Option("Promote me sir.", 3);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Class == MClass)
                                                    {
                                                        dialog.Text("You cannot be promoted anymore. You have mastered your class.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        if (client.PromoteItemNeed == 721020)
                                                        {
                                                            if (client.Inventory.Remove("moonbox"))
                                                            {
                                                                client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                                client.Entity.Class++;
                                                                dialog.Text("Congratulations! You have been promoted.");
                                                                dialog.Option("Thank you master.", 255);
                                                                dialog.Send();
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't meet the requierments.");
                                                                dialog.Option("Ahh.", 255);
                                                                dialog.Send();
                                                            }
                                                            return;
                                                        }
                                                        if (client.Inventory.Contains(client.PromoteItemNeed, client.PromoteItemCountNeed) && client.Entity.Level >= client.PromoteLevelNeed)
                                                        {
                                                            client.Inventory.Remove(client.PromoteItemNeed, client.PromoteItemCountNeed);
                                                            client.Inventory.Add(client.PromoteItemGain, 0, 1);
                                                            client.Entity.Class++;
                                                            dialog.Text("Congratulations! You have been promoted.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You don't meet the requierments.");
                                                            dialog.Option("Ahh.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("XP Revive (Lvl 1).", 5);
                                                    dialog.Option("Volcano (Lvl 1).", 6);
                                                    dialog.Option("Lightning (Lvl 1).", 7);
                                                    dialog.Option("HealingRain. (Lvl 40).", 8);
                                                    dialog.Option("StarOfAccuracy. (Lvl 40).", 9);
                                                    dialog.Option("MagicShield. (Lvl 40).", 10);
                                                    dialog.Option("Next.", 20);
                                                    dialog.Option("Nothing.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 20:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    dialog.Text("Let me know what you want to learn.");
                                                    dialog.Option("WaterDevil. (Lvl 40).", 21);
                                                    dialog.Option("Stigma. (Lvl 40).", 11);
                                                    dialog.Option("Invisibility. (Lvl 70).", 12);
                                                    dialog.Option("Pray. (Lvl 70).", 13);
                                                    dialog.Option("SpeedLightning (Lvl 70).", 14);
                                                    dialog.Option("AdvancedCure. (Lvl 80).", 15);
                                                    dialog.Option("Nectar. (Lvl 90).", 16);
                                                    dialog.Option("Back.", 2);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 5:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 1)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1050)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned xp revive skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 1 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 21:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1280)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You have learned water devil.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 6:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 1)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1125)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the volcano xp skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 1 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 7:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 1)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1010)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the lightning xp skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 1 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 8:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1055)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the fire healing rain.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1085)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the star of acurracy skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 10:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1090)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the magic shield skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 11:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 40)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1095)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the stigma skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 40 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 12:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1075)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the invisibility skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 13:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1100)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the pray skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 14:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 70)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(5001)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the speed lightning skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 15:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 80)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1175)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the advanced cure skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 16:
                                            {
                                                if (client.Entity.Class >= mClass && client.Entity.Class <= MClass)
                                                {
                                                    if (client.Entity.Level >= 80)
                                                    {
                                                        if (!client.AddSpell(LearnableSpell(1170)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                            break;
                                                        }
                                                        dialog.Text("You have learned the nectar skill.");
                                                        dialog.Option("Thank you master.", 255);
                                                        dialog.Send();
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("You need to be level 70 or more.");
                                                        dialog.Option("Alright.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("I will not tell any of the " + Class + " secrets to another class, so, good bye.");
                                                    dialog.Option("Alright.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #region MightyTao
                            case 35500:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("If you have reborn atleast one time, you can learn some great skills. With them you will be able to summon some misterious monsters. They will help you conquer this world much faster.");
                                                dialog.Option("Summon guard - 1 euxite ore.", 1);
                                                dialog.Option("Summon class monster - 1 gold ore rate5.", 2);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Entity.Reborn > 0)
                                                {
                                                    if (client.Inventory.Contains(1072031, 1))
                                                    {
                                                        client.Inventory.Remove(1072031, 1);
                                                        if (!client.AddSpell(LearnableSpell(4000)))
                                                        {
                                                            dialog.Text("You already know this skill.");
                                                            dialog.Option("Thank you master.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot learn those skills until you reborn atleast once.");
                                                    dialog.Option("Alright", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Entity.Reborn > 0)
                                                {
                                                    if (client.Entity.Class >= 50 && client.Entity.Class <= 55)
                                                    {
                                                        dialog.Text("You cannot learn skills like this one. Ninjas don't need such thing. They are much more stronger than every other class.");
                                                        dialog.Option("Alright", 255);
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    if (client.Inventory.Contains(1072054, 1))
                                                    {
                                                        client.Inventory.Remove(1072054, 1);
                                                        if (client.Entity.Class <= 15)
                                                            client.AddSpell(LearnableSpell(4050));
                                                        else if (client.Entity.Class <= 25)
                                                            client.AddSpell(LearnableSpell(4060));
                                                        else if (client.Entity.Class <= 45)
                                                            client.AddSpell(LearnableSpell(4070));
                                                        else if (client.Entity.Class <= 135)
                                                            client.AddSpell(LearnableSpell(4010));
                                                        else if (client.Entity.Class <= 145)
                                                            client.AddSpell(LearnableSpell(4020));
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot learn those skills until you reborn atleast once.");
                                                    dialog.Option("Alright", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion

                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Stables
                case 1006:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region Stables
                            #region  Breeder
                            case 9883:
                                {
                                    Data data = new Data(true);
                                    data.ID = Data.OpenWindow;
                                    data.UID = client.Entity.UID;
                                    data.TimeStamp = Time32.Now;
                                    data.dwParam = Data.WindowCommands.Breeding;
                                    data.wParam1 = client.Entity.X;
                                    data.wParam2 = client.Entity.Y;
                                    client.Send(data);
                                    break;
                                }
                            #endregion
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Lottery
                case 700:
                    {
                        switch (client.ActiveNpc)
                        {
                            #region LuckyBox
                            case 925:
                            case 926:
                            case 927:
                            case 928:
                            case 929:
                            case 930:
                            case 931:
                            case 932:
                            case 933:
                            case 934:
                            case 935:
                            case 936:
                            case 937:
                            case 938:
                            case 939:
                            case 940:
                            case 942:
                            case 943:
                            case 944:
                            case 945:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                if (client.InLottery)
                                                {
                                                    dialog.Text("Do you really want to chose me?");
                                                    dialog.Option("Yes.", 1);
                                                    dialog.Option("No.", 255);
                                                    dialog.Send();
                                                }
                                                else
                                                {
                                                    dialog.Text("Re-enter the lottery if you want to try me.");
                                                    dialog.Option("Ahh.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.InLottery)
                                                {
                                                    if (client.Inventory.Count == 40)
                                                    {
                                                        client.Send(Conquer_Online_Server.Constants.FullInventory);
                                                        return;
                                                    }
                                                    client.InLottery = false;
                                                tryagain:
                                                    int rand = Conquer_Online_Server.Kernel.Random.Next(Conquer_Online_Server.Database.LotteryTable.LotteryItems.Count);
                                                    var item = Conquer_Online_Server.Database.LotteryTable.LotteryItems[rand];
                                                    var Itemd = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[item.ID];
                                                    if (Itemd == null)
                                                        goto tryagain;
                                                    if (Conquer_Online_Server.Kernel.Rate(item.Rank, item.Chance) && Conquer_Online_Server.Kernel.Rate(item.Rank, 35 - item.Rank))
                                                    {
                                                        ConquerItem Item = new ConquerItem(true);
                                                        Item.ID = item.ID;
                                                        Item.Plus = item.Plus;
                                                        Item.Color = Conquer_Online_Server.Game.Enums.Color.Blue;
                                                        if (item.Sockets > 0)
                                                            Item.SocketOne = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        if (item.Sockets > 1)
                                                            Item.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.EmptySocket;
                                                        Item.Durability = Item.MaximDurability = Itemd.Durability;
                                                        client.Inventory.Add(Item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);
                                                        if (item.Rank <= 4)
                                                        {
                                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " won " + item.Name + " in lottery.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                        }
                                                        else
                                                        {
                                                            if (Conquer_Online_Server.Kernel.Rate(item.Chance, 100))
                                                            {
                                                                Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " won " + item.Name + " in lottery.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        goto tryagain;
                                                    }
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                            #region CollecterZhao
                            case 3952:
                                {
                                    switch (npcRequest.OptionID)
                                    {
                                        case 0:
                                            {
                                                dialog.Text("Hello mate, i can help you to change Amulets and LifeFruitBasket for 10 cps what you have?.");
                                                dialog.Option("LifeFruitBasket", 1);
                                                dialog.Option("PenitenceAmulet.", 2);
                                                dialog.Option("DisguiseAmulet.", 3);
                                                dialog.Option("Nothing thank you.", 255);
                                                dialog.Send();
                                                break;
                                            }
                                        case 1:
                                            {
                                                if (client.Inventory.Contains(723725, 1))
                                                {
                                                    client.Inventory.Remove(723725, 1);
                                                    client.Entity.ConquerPoints += 10;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont Have Any LifeFruitBaskets.");
                                                    dialog.Option("Alright Thanks", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 2:
                                            {
                                                if (client.Inventory.Contains(723727, 1))
                                                {
                                                    client.Inventory.Remove(723727, 1);
                                                    client.Entity.ConquerPoints += 10;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont Have Any PenitenceAmulet.");
                                                    dialog.Option("Alright Thanks", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                        case 3:
                                            {
                                                if (client.Inventory.Contains(723724, 1))
                                                {
                                                    client.Inventory.Remove(723724, 1);
                                                    client.Entity.ConquerPoints += 10;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry you dont Have Any DisguiseAmulet.");
                                                    dialog.Option("Alright Thanks.", 255);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                    }
                                    break;
                                }
                            #endregion
                        }
                        break;
                    }
                #endregion

            }

            switch (client.ActiveNpc)
            {
                #region DailyQuests
                #region DesertGuardian
                case 79884:
                    switch (npcRequest.OptionID)
                    {
                        case 0:
                            if (client.Entity.RelasesTheSoul)
                            {
                                dialog.Text("You Have Helped us a lot ,already You have a rest if you wont you can come back tomorrow ");
                                dialog.Option("Okay", 255);
                                return;
                            }
                            if (client.Entity.RelasesGuard == 0 && !client.Entity.RelasesTheSoul)
                            {
                                dialog.Text("Serval days Soul Of Our Guard Stoled By Enemey Can You Help Me To Pick It Up ");
                                dialog.Option("Let me help You", 1);
                            }
                            else
                            {
                                if (client.Entity.RelasesGuard >= 9 && !client.Entity.RelasesTheSoul)
                                {
                                    dialog.Text("You have relesased the soul of some dead solider right ? Just a Few ? will Thanks For Your Help ! i have got somethink to give you for all that you doing for us May those soldiers find peace in afterlife ");
                                    dialog.Option("Thanks", 3);
                                }
                                else
                                {
                                    dialog.Text("it's very Kind Of You! if You Found 8 Slodier's Remains and Relases their Soul, i have got a nice reward For You ");
                                    dialog.Option("Okay i will go now ", 255);
                                }
                            }
                            dialog.Send();
                            break;
                        case 1:
                            if (client.Entity.RelasesGuard == 0)
                            {
                                client.Entity.RelasesGuard = 1;
                                client.MessageBox(" Would You Like To go to Soldier Remains", delegate(GameClient p)
                                {
                                    p.Entity.Teleport(1000, 625, 524);
                                }, null, 0);
                                break;
                            }
                            break;
                        case 3:
                            {
                                client.Entity.TreasuerPoints += 150;
                                client.Send(new Message("You Have Got 150 Treasure Points As a Reward From Desert Guardian.", System.Drawing.Color.CadetBlue, Message.Talk));
                                DialyQuests.DoneEffect(client);
                                client.Entity.RelasesTheSoul = true;
                                break;
                            }
                        default:
                            break;
                    }
                    break;
                #endregion
                #region DeadGuards
                case 65820:
                case 65822:
                case 65823:
                case 65824:
                case 65825:
                case 65826:
                case 65827:
                case 65828:
                case 65829:
                case 65830:
                case 65832:
                case 65833:
                case 65834:
                case 65835:
                case 65836:
                case 65837:
                case 65838:
                case 65839:
                case 65840:
                    switch (npcRequest.OptionID)
                    {
                        case 0:
                            {
                                if (client.Entity.RelasesGuard <= 0 || client.Entity.RelasesGuard >= 10)
                                {
                                    dialog.Text("You Have Finesh This Quest Go Get Reward");
                                    dialog.Option("Okay", 1);
                                    break;
                                }
                                INpc npc5 = null;
                                if (!client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc5))
                                {
                                    break;
                                }
                                if (Kernel.GetDistance(client.Entity.X, client.Entity.Y, npc5.X, npc5.Y) > 3)
                                {
                                    client.MessageBox("You Are To far Away from Solider's Remains", null, null, 0u);
                                    return;
                                }
                                DialyQuests.CheakGuard(client);
                                client.Entity.GuardUId = npcRequest.NpcID;
                                break;
                            }
                        case 1:
                            client.MessageBox(" Would You Like To go to Desart Guardian", delegate(GameClient p)
                            {
                                p.Entity.Teleport(1000, 542, 648);
                            }, null, 0u);
                            break;
                        default:
                            break;
                    }
                    break;
                #endregion
                #region SpookNPC
                case 75412:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                if (client.Entity.ThirlSpookLevel == 0)
                                {
                                    dialog.Text("I`m here looking for heroes that are willing to enter the Black Burrow and finish off the Thrilling Spooks. If you manage to kill one,");
                                    dialog.Text("~you can claim a Chi Token, and different amount of Exorcism Tokens and Study Points, according to the Thrilling Spook you killed.");
                                    dialog.Text("~What`s more, when you collect enough Exorcism Tokens, you can claim a pack from me!");
                                    dialog.Option("I'm In", 4);
                                }
                                else
                                {
                                    dialog.Text("You have killed ThillingSpook today come again tommorow.");
                                    dialog.Option("Okay.", 6);
                                    dialog.Option("Leave.", 255);
                                }
                                break;
                            case 1:
                            case 2:
                            case 3:
                                client.Entity.ThirlSpookLevel = npcRequest.OptionID;
                                dialog.Text("You~see~that~portal,~over~there?~You~can~enter~the~Black~Burrow~through~there,~where~you~will~find~the~Earth~Master.");
                                dialog.Option("okay i go ", 255);
                                break;
                            case 4:
                                dialog.Text("Reward (Thrilling Spook): 1 Chi Token, 1 Exorcism Token, 50 Study Points");
                                dialog.Text("Reward (Thrilling Spook 2): 1 Chi Token, 2 Exorcism Tokens, 75 Study Points");
                                dialog.Text("Reward (Thrilling Spook 3): 1 Chi Token, 3 Exorcism Tokens, 100 Study Points");
                                dialog.Option("Kill Thirlling Spook", 1);
                                dialog.Option("Kill Thirlling Spook2", 2);
                                dialog.Option("Kill Thirlling Spook3", 3);
                                dialog.Option("Leave", 255);
                                break;
                            default:
                                break;
                        }
                        break;
                    }
                #endregion
                #region SpookSpwan
                case 8798:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                dialog.Text("Welcome, my friend. Are you sure you want to release the Thrilling Spook now, or would you rather return to the Market?");
                                if (client.Entity.ThirlSpookLevel > 0 && !client.Entity.ThirllingSpook)
                                {
                                    dialog.Option("Realses Thirlling Spook " + client.Entity.ThirlSpookLevel, 1);
                                }
                                dialog.Option("Send me to The market", 2);
                                dialog.Option("Nothink", 255);
                                break;
                            case 1:
                                dialog.Text("The Thirl Spook Will Relases Now Get Ready ");
                                dialog.Option("ok", 3);
                                dialog.Option("no Iam Afraid", 255);
                                break;
                            case 2:
                                client.Entity.Teleport(1036, 249, 152);
                                client.Entity.Update(10, "moveback", true);
                                break;
                            case 3:
                                {
                                    foreach (Entity current8 in client.Map.Entities.Values)
                                    {
                                        if ((ulong)current8.UID == (ulong)((long)(501177 + (int)client.Entity.MapID)))
                                        {
                                            dialog.Text("First Kill The Thirll Spook In This Map");
                                            dialog.Option("ok", 255);
                                            dialog.Send();
                                            return;
                                        }
                                    }
                                    byte level2 = 0;
                                    string name = "";
                                    uint hitpoints = 0;
                                    uint maxatk = 0;
                                    uint minatk = 0;
                                    switch (client.Entity.ThirlSpookLevel)
                                    {
                                        case 1:
                                            {
                                                level2 = 90;
                                                name = "ThrillingSpook";
                                                hitpoints = 10000000;
                                                maxatk = 30000;
                                                minatk = 20000;
                                            }
                                            break;
                                        case 2:
                                            {
                                                level2 = 120;
                                                name = "ThrillingSpook2";
                                                hitpoints = 32000000;
                                                maxatk = 40000;
                                                minatk = 30000;
                                            }
                                            break;
                                        case 3:
                                            {
                                                level2 = 140;
                                                name = "ThrillingSpook3";
                                                hitpoints = 55000000;
                                                maxatk = 50000;
                                                minatk = 40000;
                                                break;
                                            }
                                    }


                                    MonsterInformation monsterInformation = new MonsterInformation();
                                    monsterInformation.Boss = true;
                                    monsterInformation.Hitpoints = hitpoints;
                                    monsterInformation.Level = level2;
                                    monsterInformation.Mesh = 952;
                                    monsterInformation.Name = name;
                                    monsterInformation.MaxAttack = maxatk;
                                    monsterInformation.AttackRange = 10;
                                    monsterInformation.AttackType = 2;
                                    monsterInformation.AttackSpeed = 1000;
                                    monsterInformation.ViewRange = 15;
                                    monsterInformation.MoveSpeed = 1000;
                                    monsterInformation.RunSpeed = 500;
                                    monsterInformation.MinAttack = minatk;
                                    monsterInformation.Defence = 50000;
                                    monsterInformation.BoundX = 52;
                                    monsterInformation.BoundY = 49;
                                    monsterInformation.BoundCX = 52;
                                    monsterInformation.BoundCY = 49;
                                    Entity entity = new Entity(EntityFlag.Monster, false);
                                    entity.MapObjType = MapObjectType.Monster;
                                    entity.MonsterInfo = monsterInformation;
                                    entity.MonsterInfo.Owner = entity;
                                    entity.Name = name;
                                    entity.MinAttack = monsterInformation.MinAttack;
                                    entity.MaxAttack = (entity.MagicAttack = monsterInformation.MaxAttack);
                                    entity.Hitpoints = (entity.MaxHitpoints = monsterInformation.Hitpoints);
                                    entity.Body = monsterInformation.Mesh;
                                    entity.Level = monsterInformation.Level;
                                    entity.Defence = 50000;
                                    entity.X = 52;
                                    entity.Y = 49;
                                    entity.UID = 501177u + (uint)client.Entity.MapID;
                                    entity.MapID = client.Entity.MapID;
                                    entity.SendUpdates = true;
                                    client.Map.AddEntity(entity);
                                    entity.MonstersSpells = new List<ushort>
										{
											10363,
											10364,
											10360,
											10362,
											10361
										};
                                    client.Entity.SpookDetails = entity;
                                    byte[] buffer2 = new byte[]
										{
											36,
											0,
											77,
											4,
											65,
											125,
											125,
											2,
											4,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											37,
											0,
											30,
											0,
											0,
											0,
											13,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											0,
											84,
											81,
											83,
											101,
											114,
											118,
											101,
											114
										};
                                    Writer.WriteUInt64(Time32.Now.Get64HashCode(), 4, buffer2);
                                    Writer.WriteUInt16(client.Entity.X, 16, buffer2);
                                    Writer.WriteUInt16(client.Entity.Y, 18, buffer2);
                                    client.Send(buffer2);
                                    client.Send(buffer2);
                                    break; ;
                                }
                            default:
                                break;
                        }
                        break;
                    }
                #endregion
                #endregion
                #region SkillTeacher
                case 9881:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Ready to learn some great skills? Their prices are as good as they are.");
                                    dialog.Option("Riding - 50000 gold.", 1);
                                    dialog.Option("Spook - 100000 gold.", 2);
                                    dialog.Option("WarCry - 1000000 gold.", 3);
                                    dialog.Option("Nothing.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.Money >= 50000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(7001)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            client.Entity.Money -= 50000;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You don't meet the requierments.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.Money >= 100000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(7002)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            client.Entity.Money -= 100000;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You don't meet the requierments.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.Money >= 1000000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(7003)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            client.Entity.Money -= 1000000;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You don't meet the requierments.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Style changer
                case 762234:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there. Are you interested in a fashionable outfit? If you are, you came to the right place! For the low price of 100,000 ConquerPoints I can do *poof* *poof* and change your look radically!");
                                    dialog.Option("Change my armor", 1);
                                    dialog.Option("Change my headgear", 10);
                                    dialog.Option("No thank you.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.NewLookArmorInfo = null;
                                    dialog.Text("You want a new armor look? No problem! I can handle even artifacts! Write the name of the name and I'll see what I can do! Or I can remove your current armor look, just let me know!");
                                    dialog.Input("Item name", 2, 64);
                                    dialog.Option("Remove my look.", 4);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.ConquerPoints >= 100000)
                                    {
                                        string name = npcRequest.Input.ToLower();
                                        Database.ConquerItemBaseInformation itemInfo = null;
                                        int minDist = int.MaxValue;
                                        foreach (var item in Database.ConquerItemInformation.BaseInformations.Values)
                                        {
                                            if (client.ValidArmorLook(item.ID))
                                            {
                                                int dist = name.LevenshteinDistance(item.LoweredName);
                                                if (minDist > dist)
                                                {
                                                    itemInfo = item;
                                                    minDist = dist;
                                                }
                                            }
                                        }
                                        if (minDist == 0)
                                        {
                                            client.NewLookArmorInfo = itemInfo;
                                            dialog.Text("Are you sure you want " + itemInfo.Name + "?");
                                            dialog.Option("Yes.", 3);
                                            dialog.Option("No.", 1);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            client.NewLookArmorInfo = itemInfo;
                                            dialog.Text("Did you mean " + itemInfo.Name + "?");
                                            dialog.Option("Yes.", 3);
                                            dialog.Option("No.", 1);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need more money mate. You'd better find some!");
                                        dialog.Option("Awch!", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.ConquerPoints >= 100000)
                                    {
                                        client.Entity.ConquerPoints -= 100000;
                                        client.SetNewArmorLook(client.NewLookArmorInfo.ID);
                                    }
                                    else
                                    {
                                        dialog.Text("You need more money mate. You'd better find some!");
                                        dialog.Option("Awch!", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    client.ArmorLook = 0;
                                    client.Equipment.UpdateEntityPacket();
                                    ClientEquip eqs = new ClientEquip();
                                    eqs.DoEquips(client);
                                    client.Send(eqs);
                                    break;
                                }
                            case 10:
                                {
                                    client.NewLookHeadgearInfo = null;
                                    dialog.Text("You want a new headgear look? No problem! I can handle even artifacts! Write the name of the name and I'll see what I can do! Or I can remove your current headgear look, just let me know!");
                                    dialog.Input("Item name", 12, 64);
                                    dialog.Option("Remove my look.", 14);
                                    dialog.Send();
                                    break;
                                }
                            case 12:
                                {
                                    if (client.Entity.ConquerPoints >= 100000)
                                    {
                                        string name = npcRequest.Input.ToLower();
                                        Database.ConquerItemBaseInformation itemInfo = null;
                                        int minDist = int.MaxValue;
                                        foreach (var item in Database.ConquerItemInformation.BaseInformations.Values)
                                        {
                                            if (client.ValidHeadgearLook(item.ID))
                                            {
                                                int dist = name.LevenshteinDistance(item.LoweredName);
                                                if (minDist > dist)
                                                {
                                                    itemInfo = item;
                                                    minDist = dist;
                                                }
                                            }
                                        }
                                        if (minDist == 0)
                                        {
                                            client.NewLookHeadgearInfo = itemInfo;
                                            dialog.Text("Are you sure you want " + itemInfo.Name + "?");
                                            dialog.Option("Yes.", 13);
                                            dialog.Option("No.", 10);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            client.NewLookHeadgearInfo = itemInfo;
                                            dialog.Text("Did you mean " + itemInfo.Name + "?");
                                            dialog.Option("Yes.", 13);
                                            dialog.Option("No.", 10);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need more money mate. You'd better find some!");
                                        dialog.Option("Awch!", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 13:
                                {
                                    if (client.Entity.ConquerPoints >= 100000)
                                    {
                                        client.Entity.ConquerPoints -= 100000;
                                        client.SetNewHeadgearLook(client.NewLookHeadgearInfo.ID);
                                    }
                                    else
                                    {
                                        dialog.Text("You need more money mate. You'd better find some!");
                                        dialog.Option("Awch!", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 14:
                                {
                                    client.HeadgearLook = 0;
                                    client.Equipment.UpdateEntityPacket();
                                    ClientEquip eqs = new ClientEquip();
                                    eqs.DoEquips(client);
                                    client.Send(eqs);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Nobility Donor
                case 761124:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello friend. I can help you get on the top faster! Instead of donating gold, you can give me your cps and I will automatically do the hard work for you. The exchange ratio is 1:50000. That means you give me 1 CPs, I donate for you 50000 gold. The minimum amount is 6,000,000 CPs.");
                                    dialog.Input("Insert amount:", 1, 10);
                                    dialog.Option("No thank you.", 255);
                                    break;
                                }
                            case 1:
                                {
                                    uint input;
                                    if (uint.TryParse(npcRequest.Input, out input))
                                    {
                                        if (input < 6000000)
                                        {
                                            dialog.Text("You need to input more or atleast 6,000,000 CPs..");
                                            dialog.Input("Insert amount:", 1, 9);
                                            dialog.Option("No thank you.", 255);
                                            return;
                                        }
                                        if (client.Entity.ConquerPoints >= input || client.Entity.BoundCps >= input)
                                        {
                                            client.NpcCpsInput = input;
                                            dialog.Text("Are you sure you want to donate " + input + " CPs? That means I will donate for you " + (((ulong)input) * 50000ul) + " gold.");
                                            dialog.Option("Yes", 2);
                                            dialog.Option("No thank you.", 255);
                                        }
                                        else
                                        {
                                            dialog.Text("You don't have that much CPs. Try again. \nThe exchange ratio is 1:50000. That means you give me 1 CPs, I donate for you 50000 gold. The minimum amount is 6,000,000 CPs.");
                                            dialog.Input("Insert amount:", 1, 9);
                                            dialog.Option("No thank you.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Try again. \nThe exchange ratio is 1:50000. That means you give me 1 CPs, I donate for you 50000 gold. The minimum amount is 6,000,000 CPs.");
                                        dialog.Input("Insert amount:", 1, 9);
                                        dialog.Option("No thank you.", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.BoundCps >= client.NpcCpsInput && client.NpcCpsInput != 0)
                                    {
                                        client.Entity.BoundCps -= client.NpcCpsInput;
                                        Game.ConquerStructures.Nobility.Donate((ulong)client.NpcCpsInput * 50000ul, client);
                                        client.NpcCpsInput = 0;
                                    }
                                    else if (client.Entity.ConquerPoints >= client.NpcCpsInput && client.NpcCpsInput != 0)
                                    {
                                        client.Entity.ConquerPoints -= client.NpcCpsInput;
                                        Game.ConquerStructures.Nobility.Donate((ulong)client.NpcCpsInput * 50000ul, client);
                                        client.NpcCpsInput = 0;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Change Sex Fixed
                case 1100:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {

                                    dialog.Text("Do you want to Change your Sex? for 10,000 CPs");
                                    dialog.Option("Yeah.", 1);
                                    dialog.Option("Nah.", 255);
                                    dialog.Avatar(110);
                                    dialog.Send();
                                    break;

                                }
                            case 1:
                                {
                                    dialog.Text("Tell me The Sex You Need?");
                                    dialog.Option("Boy.", 2);
                                    dialog.Option("Girl.", 3);
                                    dialog.Avatar(110);
                                    dialog.Send();
                                    break;

                                }
                            case 2:
                                {
                                    dialog.Text("Big Or Smal Boyl?");
                                    dialog.Option("Big Boy.", 4);
                                    dialog.Option("Small Boy.", 5);
                                    dialog.Avatar(110);
                                    dialog.Send();
                                    break;

                                }
                            case 3:
                                {

                                    dialog.Text("Big Or Small?");
                                    dialog.Option("Big Girl.", 6);
                                    dialog.Option("Small Girl.", 7);
                                    dialog.Avatar(110);
                                    dialog.Send();
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Entity.ConquerPoints >= 10000)
                                    {
                                        if (client.Entity.Body == 2001 || client.Entity.Body == 2002)
                                        {
                                           // client.Equipment.Remove(9);
                                          //  if (client.Equipment.Objects[9] != null)
                                           //     client.Equipment.Objects[9] = null;
                                            ClientEquip equips = new ClientEquip();
                                            equips.DoEquips(client);
                                            client.Send(equips);
                                            client.NobilityInformation.Gender = 1;
                                            client.Entity.Spouse = "None";
                                            client.Entity.ConquerPoints -= 10000;
                                            client.Entity.Body = 1004;
                                            client.Equipment.UpdateEntityPacket();
                                            Database.EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("are you gay?");
                                            dialog.Option("i 'm not.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 10,000 Cps?");
                                        dialog.Option("Damn.", 255);

                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.ConquerPoints >= 10000)
                                    {
                                        if (client.Entity.Body == 2001 || client.Entity.Body == 2002)
                                        {
                                          //  client.Equipment.Remove(9);
                                         //   if (client.Equipment.Objects[9] != null)
                                            //    client.Equipment.Objects[9] = null;
                                            ClientEquip equips = new ClientEquip();
                                            equips.DoEquips(client);
                                            client.Send(equips);
                                            client.NobilityInformation.Gender = 1;
                                            client.Entity.Spouse = "None";
                                            client.Entity.ConquerPoints -= 10000;
                                            client.Entity.Body = 1003;
                                            client.Equipment.UpdateEntityPacket();
                                            Database.EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("are you gay?");
                                            dialog.Option("i 'm not.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 10,000 Cps?");
                                        dialog.Option("Damn.", 255);
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.ConquerPoints >= 10000)
                                    {
                                        if (client.Entity.Body == 1003 || client.Entity.Body == 1004)
                                        {
                                         //   client.Equipment.Remove(9);
                                          //  if (client.Equipment.Objects[9] != null)
                                            //    client.Equipment.Objects[9] = null;
                                            ClientEquip equips = new ClientEquip();
                                            equips.DoEquips(client);
                                            client.Send(equips);
                                            client.NobilityInformation.Gender = 0;
                                            client.Entity.Spouse = "None";
                                            client.Entity.ConquerPoints -= 10000;
                                            client.Entity.Body = 2002;
                                            client.Equipment.UpdateEntityPacket();
                                            Database.EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("are you gay?");
                                            dialog.Option("i 'm not.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 10,000 Cps?");
                                        dialog.Option("Damn.", 255);
                                    }
                                    break;
                                }
                            case 7:
                                {
                                    if (client.Entity.ConquerPoints >= 10000)
                                    {
                                        if (client.Entity.Body == 1003 || client.Entity.Body == 1004)
                                        {
                                          //  client.Equipment.Remove(9);
                                          //  if (client.Equipment.Objects[9] != null)
                                         //       client.Equipment.Objects[9] = null;
                                            ClientEquip equips = new ClientEquip();
                                            equips.DoEquips(client);
                                            client.Send(equips);
                                            client.NobilityInformation.Gender = 0;
                                            client.Entity.Spouse = "None";
                                            client.Entity.ConquerPoints -= 10000;
                                            client.Entity.Body = 2002;
                                            client.Equipment.UpdateEntityPacket();
                                            Database.EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("are you gay?");
                                            dialog.Option("i 'm not.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 10,000 Cps?");
                                        dialog.Option("Damn.", 255);
                                    }
                                    break;
                                }

                        }
                        break;
                    }
                #endregion
                #region BirdIsland Exchanger
                case 135:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity.Name + " I'm the Last One In [Organizer-Stars] Quest and i can Give the Prize But you Must be have all i need .");
                                    dialog.Text("I Need 4 Joy-Coin and 4 Wish-Coin and 2 Adavncedjoy-Coin and All Boxes you Exchanged Before Are You Have All?.");
                                    dialog.Option("Yes I Have Give My Prize.", 1);
                                    dialog.Option("Sorry I Don't Have All Items.", 255);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.Minute == 45)
                                    {
                                        if (client.Inventory.Contains(722894, 4))//Joy-Coin
                                        {
                                            if (client.Inventory.Contains(711021, 4))//Wish-Coin
                                            {
                                                if (client.Inventory.Contains(722895, 2))//Advancedjoy-Coin
                                                {
                                                    if (client.Inventory.Contains(720135, 1))//Nirvana-Box
                                                    {
                                                        if (client.Inventory.Contains(720233, 1))//FlyingRoosterE-gg
                                                        {
                                                            client.Inventory.Remove(722894, 4);
                                                            client.Inventory.Remove(711021, 4);
                                                            client.Inventory.Remove(722895, 2);
                                                            client.Inventory.Remove(720135, 1);
                                                            client.Inventory.Remove(720233, 1);
                                                            client.Inventory.Add(722178, 0, 1);
                                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Has finshed Quest [Organizer-Stars] And Reward SurpriseBox.", System.Drawing.Color.DarkGray, Message.Center), Program.GamePool);
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Sorry But You Don't Have All Things You Can't finish The Quest");
                                                            dialog.Option("Ahh sorry.", 255);
                                                            dialog.Avatar(116);
                                                            dialog.Send();
                                                        }
                                                        break;
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry But You Don't Have All Things You Can't finish The Quest");
                                                        dialog.Option("Ahh sorry.", 255);
                                                        dialog.Avatar(116);
                                                        dialog.Send();
                                                    }
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry But You Don't Have All Things You Can't finish The Quest.");
                                                    dialog.Option("Ahh sorry.", 255);
                                                    dialog.Avatar(116);
                                                    dialog.Send();
                                                }
                                                break;
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry But You Don't Have All Things You Can't finish The Quest.");
                                                dialog.Option("Ahh sorry.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                            break;
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry But You Don't Have All Things You Can't finish The Quest.");
                                            dialog.Option("Ahh sorry.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry You Can Only Claim Your Reward At Minute 45.");
                                        dialog.Option("Okay sorry Iam Will Waiting.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region New Level UP NPC2
                case 8023:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("for lvl 140 Only, if You are aren't a donator here is the place for to be become same as donator,but there was a thrill if u will be come oone of them, if you have " + client.Entity.TreasuerPoints + " treasure points");
                                    dialog.Option("Level Me Up Please.", 1);
                                    dialog.Option("Have a good day.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Select your level. I see you have " + client.Entity.TreasuerPoints + " treasure points");
                                    dialog.Option("you have gain 1 level (4000000)", 2);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    uint cost = 4000000;
                                    if (client.Entity.Level >= 140 && client.Entity.Level < 145)
                                    {
                                        if (client.Entity.TreasuerPoints >= cost)
                                        {
                                            client.Entity.TreasuerPoints -= cost;

                                            client.Entity.Level++;
                                            client.Entity.Experience = 0;
                                            if (client.Entity.Reborn == 0)
                                            {
                                                Database.DataHolder.GetStats(client.Entity.Class, client.Entity.Level, client);
                                                client.CalculateStatBonus();
                                                client.CalculateHPBonus();
                                                client.GemAlgorithm();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please come back to me with 2kk Treasure Points.");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back When you are past 130 And lower than 140.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region New Level UP NPC1
                case 8022:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("if Your level 130, And you cant't lvl by your own I Can Give you 1 Level if you have " + client.Entity.TreasuerPoints + " treasure points");
                                    dialog.Option("Level Me Up Please.", 1);
                                    dialog.Option("Have a good day.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Select your level. I see you have " + client.Entity.TreasuerPoints + " treasure points");
                                    dialog.Option("you have gain 1 level (2000000)", 2);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    uint cost = 2000000;
                                    if (client.Entity.Level >= 130 && client.Entity.Level < 140)
                                    {
                                        if (client.Entity.TreasuerPoints >= cost)
                                        {
                                            client.Entity.TreasuerPoints -= cost;

                                            client.Entity.Level++;
                                            client.Entity.Experience = 0;
                                            if (client.Entity.Reborn == 0)
                                            {
                                                Database.DataHolder.GetStats(client.Entity.Class, client.Entity.Level, client);
                                                client.CalculateStatBonus();
                                                client.CalculateHPBonus();
                                                client.GemAlgorithm();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please come back to me with 2kk Treasure Points.");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back When you are past 130 And lower than 140.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region New Level UP NPC
                case 801://and this id
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("if Your level 130+ I Can Give you 1 Level for just 500 K Cps");
                                    dialog.Option("Level Me Up Please.", 1);
                                    dialog.Option("Have a good day.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.Level >= 130 && client.Entity.Level < 140)
                                    {
                                        if (client.Entity.ConquerPoints >= 500000)
                                        {
                                            client.Entity.ConquerPoints -= 500000;

                                            client.Entity.Level++;
                                            client.Entity.Experience = 0;
                                            if (client.Entity.Reborn == 0)
                                            {
                                                Database.DataHolder.GetStats(client.Entity.Class, client.Entity.Level, client);
                                                client.CalculateStatBonus();
                                                client.CalculateHPBonus();
                                                client.GemAlgorithm();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please come back to me with 500k Conquer Points.");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back When you are past 130 And lower than 140.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region vote
                case 999998:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity + " Our server need vote support two time a day every 12 hours. and You can take 200000 cps  reward!");
                                    dialog.Option("Vote For Server:", 1);
                                    dialog.Option("No thank you.", 255);
                                    break;
                                }
                            case 1:
                                {
                                    if (!Kernel.VotePool.ContainsKey(client.Account.IP))
                                    {
                                        if (!Kernel.VotePoolUid.ContainsKey(client.Entity.UID))
                                        {
                                            client.Entity.ConquerPoints += 100000;
                                            Conquer_Online_Server.Game.ConquerStructures.PlayersVot Vot = new Conquer_Online_Server.Game.ConquerStructures.PlayersVot();
                                            Vot.AdressIp = client.Account.IP;
                                            Vot.Uid = client.Entity.UID;
                                            Kernel.VotePool.Add(Vot.AdressIp, Vot);
                                            Kernel.VotePoolUid.Add(Vot.Uid, Vot);
                                            Database.EntityTable.SavePlayersVot(Vot);
                                            client.Send(new Conquer_Online_Server.Network.GamePackets.Message("http://www.xtremetop100.com/in.php?site=1132301726", System.Drawing.Color.Red, Message.Website));
                                            client.Send(new Message("You Have clamied your Prize 100000 Cps for vote our Server ", Color.Brown, 1000000));
                                        }
                                        else
                                        {
                                            client.Send(new Conquer_Online_Server.Network.GamePackets.Message("http://www.xtremetop100.com/in.php?site=1132301726", System.Drawing.Color.Red, Message.Website));
                                            client.Send(new Message(client.Entity.Name + " you can only take prize once in day", Color.Brown, 10000000));
                                        }
                                    }
                                    else
                                    {
                                        client.Send(new Conquer_Online_Server.Network.GamePackets.Message("http://www.xtremetop100.com/in.php?site=1132301726", System.Drawing.Color.Red, Message.Website));
                                        client.Send(new Message(client.Entity.Name + " you can only take prize once in day", Color.Brown, 10000000));

                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region RebirthMaster
                case 59558:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {

                                    dialog.Text("I devote all my life to the research of eternity. And finally I Know the secret of");
                                    dialog.Text(" rebirth! Well, anything I can help you with?");
                                    dialog.Option("1st Rebirth.", 1);
                                    dialog.Option("2nd Rebirth.", 2);
                                    dialog.Option("Reincarnation.", 3);
                                    dialog.Option("Reallot my Attribute Points.", 4);
                                    dialog.Option("Just Passing By.", 255);
                                    dialog.Avatar(51);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Hello conqueror. You know, there are ancient stories about a second life and many people chose not to believe it. Even so, there are some people that believe in it, and that inspired me to learn about it. In my study, I found out how to reborn someone. But, in this quest, a CelestialStone may be needed. To get one, talk with Celestine(TwinCity 365, 92).");
                                    dialog.Option("Tell me more about it.", 10);
                                    dialog.Option("Reborm me.", 12);
                                    dialog.Option("Nothing thank you.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 10:
                                {
                                    dialog.Text("So you want to know more? When you reborn, you can chose what class you want to be the second life. Once you reborn you will start again the journey to conquer this world from level 15. Beware that you may gain some special skills depending on the class you chose to reborn, and you'll be able to get an own pet, that will follow and help you level or fight. The cost is a CelestialStone.");
                                    dialog.Option("Reborm me.", 2);
                                    dialog.Option("Nothing thank you.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 12:
                                {
                                    if (client.Entity.Reborn == 0)
                                    {
                                        if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                        {
                                            dialog.Text("There are two kinds of reborns. One is the normal one and the second one is blessed. The normal reborn will give you the chance to get a Super Gem and the blessed reborn will set a -1 into one of your equipment that you wear during the reborn. What do you chose?");
                                            dialog.Option("Normal reborn.", 15);
                                            dialog.Option("Blessed reborn.", 13);
                                            dialog.Option("Nothing thank you.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                        dialog.Option("Thank you.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 15:
                                {
                                    if (client.Entity.Reborn == 0)
                                    {
                                        if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                        {
                                            dialog.Text("Select the super gem you desire.");
                                            dialog.Option("SuperPhoenixGem.", 203);
                                            dialog.Option("SuperDragonGem.", 213);
                                            dialog.Option("SuperFuryGem.", 223);
                                            dialog.Option("SuperRainbowGem.", 233);
                                            dialog.Option("SuperVioletGem.", 253);
                                            dialog.Option("SuperMoonGem.", 254);
                                            dialog.Option("SuperKylinGem.", 243);
                                            dialog.Option("Nothing thank you.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                        dialog.Option("Thank you.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 13:
                                {
                                    if (client.Entity.Reborn == 0)
                                    {
                                        if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                        {
                                            dialog.Text("Select the class you want to reborn in.");
                                            dialog.Option("Trojan.", (byte)(10 + npcRequest.OptionID));
                                            dialog.Option("Warrior.", (byte)(20 + npcRequest.OptionID));
                                            dialog.Option("Archer.", (byte)(40 + npcRequest.OptionID));
                                            dialog.Option("WaterTaoist.", (byte)(132 + npcRequest.OptionID));
                                            dialog.Option("FireTaoist.", (byte)(142 + npcRequest.OptionID));
                                            dialog.Option("Ninja.", (byte)(50 + npcRequest.OptionID));
                                            dialog.Option("Monk.", (byte)(60 + npcRequest.OptionID));
                                            dialog.Option("Pirate.", (byte)(70 + npcRequest.OptionID));
                                            //dialog.Option("Nothing thank you.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                        dialog.Option("Thank you.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            default:
                                {
                                    if (client.Entity.Reborn == 0)
                                    {
                                        if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                        {
                                            if (npcRequest.OptionID == 255)
                                                return;
                                            if (npcRequest.OptionID >= 200 && npcRequest.OptionID <= 254)
                                            {
                                                client.SelectedGem = (byte)(npcRequest.OptionID % 100);
                                                if (client.SelectedGem == 54)
                                                    client.SelectedGem = 63;
                                                if (client.Entity.Reborn == 0)
                                                {
                                                    byte id = 4;
                                                    dialog.Text("Select the class you want to reborn in.");
                                                    dialog.Option("Trojan.", (byte)(10 + id));
                                                    dialog.Option("Warrior.", (byte)(20 + id));
                                                    dialog.Option("Archer.", (byte)(40 + id));
                                                    dialog.Option("WaterTaoist.", (byte)(132 + id));
                                                    dialog.Option("FireTaoist.", (byte)(142 + id));
                                                    dialog.Option("Ninja.", (byte)(50 + id));
                                                    dialog.Option("Monk.", (byte)(60 + id));
                                                    dialog.Option("Pirate.", (byte)(70 + id));
                                                    //dialog.Option("Nothing thank you.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                                else
                                                {
                                                    dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                                    dialog.Option("Thank you.", 255);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                if (client.Inventory.Contains(721259, 1))
                                                {
                                                    byte _class = (byte)(npcRequest.OptionID - npcRequest.OptionID % 10);
                                                    if (_class > 100)
                                                        _class += 2;
                                                    byte type = (byte)(npcRequest.OptionID - _class);
                                                    if (_class < 100)
                                                        _class++;
                                                    if (type != 4)
                                                    {
                                                        _class -= 10;
                                                    }
                                                    if (client.Reborn(_class))
                                                    {
                                                        client.Inventory.Remove(721259, 1);
                                                        if (type == 4)
                                                        {
                                                            if (client.SelectedGem != 0)
                                                            {
                                                                uint gemid = (uint)(client.SelectedGem + 700000);
                                                                client.Inventory.Add(gemid, 0, 1);
                                                            }
                                                        }
                                                        else
                                                        {
                                                            int availableshots = 0;
                                                            for (byte count = 0; count < 12; count++)
                                                                if (!client.Equipment.Free(count))
                                                                    if (client.Equipment.TryGetItem(count).Bless == 0)
                                                                        availableshots++;
                                                            if (availableshots != 0)
                                                            {
                                                                byte ex = (byte)Conquer_Online_Server.Kernel.Random.Next(12);
                                                                if (!client.Equipment.Free(ex))
                                                                    if (client.Equipment.TryGetItem(ex).Bless == 0)
                                                                    {
                                                                        var item = client.Equipment.TryGetItem(ex);
                                                                        item.Bless = 1;
                                                                        item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                                        item.Send(client);
                                                                        Conquer_Online_Server.Database.ConquerItemTable.UpdateBless(item);
                                                                    }
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, but you need atleast 2 free spaces in your inventory.");
                                                        dialog.Option("Ohh.", 255);
                                                        dialog.Send();
                                                    }
                                                }
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You cannot reborn if your level is not 110+ for water saints and 120+ for other masters.");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You cannot reborn again here. Alex, an elder who lives in Ape Canyon, will tell you about the third life.");
                                        dialog.Option("Thank you.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #region Riencration to 7
                            case 3:
                                {

                                    if (client.Entity.Reborn == 2 && client.Entity.Level >= 120)
                                    {
                                        dialog.Text("I am the ReincarnationSeer i can help you to change your second reborn Class you need OblivionDew");
                                        dialog.Text(" and 500k cps in your inventory deal?");
                                        dialog.Option("i want to Change my Class.", 5);
                                        dialog.Option("i want to Buy OblivionDew.", 6);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you need to be Seconed Reborn and Lv + 120.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {

                                    if (client.Entity.ConquerPoints >= 500000)
                                    {
                                        client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.Reincarnation, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                        //break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont have 500k CpS");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.ConquerPoints >= 2000)
                                    {
                                        dialog.Text("Do you Really want to Buy OblivionDew it cost 2,000 cps");
                                        dialog.Option("Yes.", 7);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont Have 2,000 cps.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 7:
                                {
                                    if (client.Entity.ConquerPoints >= 2000)
                                    {
                                        client.Entity.ConquerPoints -= 2000;
                                        client.Inventory.Add(711083, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont Have 2.000 cps in your bag.");
                                        dialog.Option("Why!?", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion

                            #region attribute 8
                            case 4:
                                {
                                    dialog.Text("Hello there brave conqueror, if you have reborn, and you misplaced your atribute points or you want to set them another way, I'll reset your atribute points for one DragonBall. Do you accept?");
                                    dialog.Option("Here is the DragonBall.", 8);
                                    dialog.Option("I'll just leave", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 8:
                                {
                                    if (client.Entity.Reborn > 0)
                                    {
                                        if (client.Inventory.Contains(1088000, 1))
                                        {
                                            client.Inventory.Remove(1088000, 1);
                                            if (client.Entity.Reborn != 0)
                                            {
                                                client.Entity.Agility = 0;
                                                client.Entity.Strength = 0;
                                                client.Entity.Vitality = 1;
                                                client.Entity.Spirit = 0;
                                                if (client.Entity.Reborn == 1)
                                                {
                                                    client.Entity.Atributes = (ushort)(client.ExtraAtributePoints(client.Entity.FirstRebornLevel, client.Entity.FirstRebornLevel)
                                                        + 52 + 3 * (client.Entity.Level - 15));
                                                }
                                                else
                                                {
                                                    client.Entity.Atributes = (ushort)(client.ExtraAtributePoints(client.Entity.FirstRebornLevel, client.Entity.FirstRebornClass) +
                                                        client.ExtraAtributePoints(client.Entity.SecondRebornLevel, client.Entity.SecondRebornClass) + 52 + 3 * (client.Entity.Level - 15));
                                                }
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need a DragonBall.");
                                            dialog.Option("I'll just leave", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You have to have atleast one rebirth atleast.");
                                        dialog.Option("I'll just leave", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion

                            #region 2nd reborn
                            case 2:
                                {
                                    dialog.Text("You don't worry, it's not gonna hurt you a bit when getting the third life. You just need an exemption token and it's all going to be fine.");
                                    dialog.Option("Here is the ExemptionToken.", 9);
                                    dialog.Option("I'll just leave", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 9:
                                {
                                    if (client.Entity.Reborn == 1)
                                    {
                                        if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                        {
                                            dialog.Text("Select the class you want to reborn in.");
                                            dialog.Option("Trojan.", 11);
                                            dialog.Option("Warrior.", 21);
                                            dialog.Option("Archer.", 41);
                                            dialog.Option("WaterTaoist.", 132);
                                            dialog.Option("FireTaoist.", 142);
                                            dialog.Option("Ninja.", 51);
                                            dialog.Option("Monk.", 61);
                                            dialog.Option("Pirate.", 71);
                                            //dialog.Option("Nothing thank you.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("If you are a water saint you need level 110+, else you need 120+.");
                                            dialog.Option("I'll just leave", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to be in the second life to be able to get the third life.");
                                        dialog.Option("I'll just leave", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                            case 11:
                            case 21:
                            case 41:
                            case 51:
                            case 61:
                            case 71:
                            case 132:
                            case 142:
                                {
                                    if (npcRequest.OptionID == 255)
                                        return;
                                    if (client.Entity.Reborn == 1)
                                    {
                                        if (client.Entity.Class % 10 == 5 && client.Entity.Level >= (client.Entity.Class == 135 ? 110 : 120))
                                        {
                                            if (client.Inventory.Contains(723701, 1))
                                            {
                                                if (client.Reborn(npcRequest.OptionID))
                                                {
                                                    client.Inventory.Remove(723701, 1);
                                                }
                                                else
                                                {
                                                    dialog.Text("You need two free slots in your inventory.");
                                                    dialog.Option("I'll just leave", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("If you are a water saint you need level 110+, else you need 120+.");
                                            dialog.Option("I'll just leave", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to be in the second life to be able to get the third life.");
                                        dialog.Option("I'll just leave", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                            #endregion

                        }
                        break;
                    }
                #endregion
                #region New Garments/Talis
                case 802:
                    {

                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there im the new master upgrading your Garment for 3kk and Talismans for 2kk each Talisman, What would you want?");
                                    dialog.Text("They will be Enchanted with 255, and blessed -7.");
                                    dialog.Option("Garment.", 1);
                                    dialog.Option("HeavenFan.", 2);
                                    dialog.Option("StarTower.", 3);
                                    dialog.Option("Nothing, Have a good day.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.ConquerPoints >= 3000000)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Garment);
                                        if (i != null)
                                        {
                                            client.Entity.ConquerPoints -= 3000000;

                                            i.Bless = 7;
                                            i.Enchant = 255;
                                            ConquerItemTable.UpdateBless(i);
                                            ConquerItemTable.UpdateEnchant(i);

                                            i.Send(client);
                                            dialog.Text("Sucess Check for your self.");
                                            dialog.Option("Thanks.", 255);
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Garment First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 3kk Conquer Points.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            case 2:
                            case 3:
                                {
                                    if (client.Entity.ConquerPoints >= 1500000)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(npcRequest.OptionID == 2 ? ConquerItem.Fan : ConquerItem.Tower);
                                        if (i != null)
                                        {
                                            client.Entity.ConquerPoints -= 1500000;

                                            i.Bless = 7;
                                            i.Enchant = 255;
                                            ConquerItemTable.UpdateBless(i);
                                            ConquerItemTable.UpdateEnchant(i);

                                            i.Send(client);
                                            dialog.Text("Sucess Check for your self.");
                                            dialog.Option("Thanks.", 255);
                                        }
                                        else
                                        {
                                            dialog.Text(npcRequest.OptionID == 2 ? "Please Equip Your HeavenFan First." : "Please Equip your StarTower First.");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 2kk Conquer Points.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                        }

                        break;
                    }
                #endregion
                #region +255 NPC BY MeToOo
                case 8002:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {

                                    if (client.Account.State == AccountTable.AccountState.ProjectManager)
                                    {
                                        dialog.Text("Hey IAM MeToOo , GM i can help you to upgrade ur gears to +255 . BeCouse MeToOo want to help you ");
                                        dialog.Option("Ok, Ugrade +255 YA MeToOo", 1);
                                    }
                                    else
                                    {
                                        dialog.Text("Only project manger can get +255 go away fucker");
                                        dialog.Option("okay.", 255);
                                    }

                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Select which item's details you want?, remember it will coast you  Cps");
                                    dialog.Option("Headgear.", 84);
                                    dialog.Option("Necklace.", 85);
                                    dialog.Option("Armor.", 86);
                                    dialog.Option("Main Weapon.", 87);
                                    dialog.Option("Left Weapon/Shield.", 88);
                                    dialog.Option("Ring.", 101);
                                    dialog.Option("Boots.", 90);
                                    dialog.Option("Tower", 91);
                                    dialog.Option("Fan", 92);
                                    dialog.Option("Steed", 93);
                                    dialog.Option("Crop", 94);
                                    dialog.Option("R.Acces", 95);
                                    dialog.Option("L.Acces", 96);
                                    dialog.Option("Mount", 98);
                                    dialog.Option("Garment", 97);
                                    dialog.Option("Bottle", 107);
                                    break;
                                }
                            #region +225
                            #region boot
                            case 90:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {

                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Boots);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //     client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Boots is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Boots already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Boots First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Tower
                            case 91:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Tower);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //   client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Tower is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Tower already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Tower First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Fan
                            case 92:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Fan);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //  client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Fan is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Fan already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Fan First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Steed
                            case 93:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Steed);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //  client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Steed is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Steed already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Steed First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Ring
                            case 101:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Ring);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //  client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Ring is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Ring already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Ring First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region LeftWeapons
                            case 88:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.LeftWeapon);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //  client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Left Weapon is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Left Weapon already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Left Weapon First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region RightWeapon
                            case 87:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.RightWeapon);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;

                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Right Weapon is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Right Weapon already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Right Weapon First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Armor
                            case 86:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Armor);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Armor is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Armor already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Armor First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Necklace
                            case 85:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Necklace);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Necklace is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your necklace already +12 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Necklace First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region HeadGear
                            case 84:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Head);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //    client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your HeadGear is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your HeadGear already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Garment First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Crop
                            case 94:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.SteedArmor);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Crop is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Crop already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Crop First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region R.Acces
                            case 95:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.RightWeaponAccessory);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Right.Acces is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Right.Acces already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Right.Acces First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region L.Acces
                            case 96:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.LeftWeaponAccessory);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //         client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Left.Acces is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Left Access already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Left.Acces First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Mount
                            case 98:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.SteedArmor);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                //client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Mount is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Mount already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Mount First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Garment
                            case 97:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Garment);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Germant is now +255 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Germant already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Garment First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #region Bottle
                            case 107:
                                {
                                    if (client.Entity.ConquerPoints >= 1)
                                    {
                                        ConquerItem i = client.Equipment.TryGetItem(ConquerItem.Bottle);
                                        if (i != null)
                                        {
                                            if (i.Plus != 255)
                                            {
                                                // client.Entity.ConquerPoints -= Database.rates.DamageGarment;
                                                i.Bless = 7;
                                                i.Enchant = 255;
                                                i.Plus = 255;
                                                i.SocketOne = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                i.SocketTwo = Conquer_Online_Server.Game.Enums.Gem.SuperDragonGem;
                                                ConquerItemTable.UpdateBless(i);
                                                ConquerItemTable.UpdateEnchant(i);
                                                ConquerItemTable.UpdatePlus(i);
                                                ConquerItemTable.UpdateSockets(i);
                                                i.Send(client);
                                                dialog.Text("Sucess your Cup is now +12 -7 255 HP Check for your self.");
                                                dialog.Option("Thanks.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("your Cup already +255 -7 Hp 255");
                                                dialog.Option("Ahh sorry.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Please Equip Your Cup First");
                                            dialog.Option("Ahh sorry.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Please come back to me with 1 Cps.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            #endregion
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region New Monster Skill
                case 11001:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {

                                    dialog.Text("Hello " + client.Entity.Name + " ,I'm The New Monster Skills Master ..  ");
                                    dialog.Text("i Can Learn You Too Many Skills ,,, 1 Skill For 500k Cps ");
                                    dialog.Option("SummonFox.", 1);
                                    dialog.Option("SummonCrane.", 2);
                                    dialog.Option("SummonPanda.", 3);
                                    dialog.Option("SummonVoltaicWarg.", 4);
                                    dialog.Option("Nah.", 255);
                                    dialog.Avatar(110);
                                    dialog.Send();
                                    break;

                                }
                            case 4:
                                {
                                    if (client.Entity.ConquerPoints >= 500000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(12050)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        client.Entity.ConquerPoints -= 500000;
                                        dialog.Text("You have learned the SummonVoltaicWarg Skill.");
                                        dialog.Option("Thank you master.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 500k Cps?");
                                        dialog.Option("Damn.", 255);

                                    }

                                    break;
                                }
                            case 3:
                                {


                                    if (client.Entity.ConquerPoints >= 500000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(12040)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        client.Entity.ConquerPoints -= 500000;
                                        dialog.Text("You have learned the SummonPanda Skill.");
                                        dialog.Option("Thank you master.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 500k Cps?");
                                        dialog.Option("Damn.", 255);

                                    }
                                    break;
                                }
                            case 2:
                                {


                                    if (client.Entity.ConquerPoints >= 500000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(12030)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        client.Entity.ConquerPoints -= 500000;
                                        dialog.Text("You have learned the SummonCrane Skill.");
                                        dialog.Option("Thank you master.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 500k Cps?");
                                        dialog.Option("Damn.", 255);

                                    }

                                    break;
                                }
                            case 1:
                                {


                                    if (client.Entity.ConquerPoints >= 500000)
                                    {
                                        if (!client.AddSpell(LearnableSpell(12020)))
                                        {
                                            dialog.Text("You already know this skill.");
                                            dialog.Option("Thank you master.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        client.Entity.ConquerPoints -= 500000;
                                        dialog.Text("You have learned the SummonFox Skill.");
                                        dialog.Option("Thank you master.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you Don't Have 500k Cps?");
                                        dialog.Option("Damn.", 255);

                                    }

                                    break;
                                }



                        }
                        break;
                    }
                #endregion
                #region 3DWar
                case 100100:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the 3Dwar  ?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("Not now.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.Minute >= 1 && DateTime.Now.Minute <= 5)
                                    {
                                        client.Entity.Teleport(20000, 43, 50);
                                    }
                                    else
                                    {
                                        dialog.Text("GentleWar is held during xx:1 To xx:5 in every Hour");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Winner 3DWar
                case 100200:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + "Would you like to claim your Prize?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    int alive = 0;
                                    foreach (Conquer_Online_Server.Client.GameClient players in Program.GamePool)
                                        if (players.Entity.MapID == 20000 && (!players.Entity.Dead))
                                            alive++;
                                    Kernel.SendWorldMessage(new Conquer_Online_Server.Network.GamePackets.Message("Players Alive in GentleWar: " + alive + " ", System.Drawing.Color.Black, Conquer_Online_Server.Network.GamePackets.Message.FirstRightCorner), Program.GamePool);
                                    if (DateTime.Now.Minute >= 6 && DateTime.Now.Minute <= 8)
                                    {
                                        if (alive == 1)
                                        {
                                            client.Entity.Update(_String.Effect, ("break_start"), true);
                                            client.Entity.ConquerPoints += 50000;
                                            // Game.Flags.AddTopGentle(client);

                                            //client.Entity.AddFlag2(Islam.Khairy.Network.GamePackets.Update.Flags2.Top3Water);
                                            Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Has Won " + 50000 + " Cps For Winning GentleWar For This Hour And Halo.", System.Drawing.Color.Black, Message.Center), Program.GamePool);
                                            client.Entity.SendSpawn(client, true);
                                            client.Entity.Teleport(1002, 299, 278);
                                            EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:6 To xx:8 ");
                                        dialog.Option("okay", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region New Items Seller By Mr.Xodia ^_^
                case 8040041:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity.Name + " I sell Prizes Of GuildWAR Cups For Cps  S7en Itmez 01126608306[GM] Wanna Buy?");
                                    dialog.Option("GoldPrize case 1 _7 [500 Million Cps]", 1);
                                    dialog.Option("Garment 2 Socket +10 -7  [300 Million Cps]", 2);
                                    dialog.Option("GoldPrize 1 Socket _7  [100 Million Cps]", 3);
                                    //dialog.Option("Tao Robe", 4);
                                    //dialog.Option("Archer Armor", 5);
                                    //dialog.Option("Trojan Armor", 6);
                                    //dialog.Option("Pirate Armor", 7);
                                    //dialog.Option("FoxSpirit", 11);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(100);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.ConquerPoints >= 500000000)
                                    {
                                        client.Entity.ConquerPoints -= 500000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege GoldPrize Normalv3 0 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.ConquerPoints >= 300000000)
                                    {
                                        client.Entity.ConquerPoints -= 300000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege dancingdress Normalv3 10 255 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.ConquerPoints >= 100000000)
                                    {
                                        client.Entity.ConquerPoints -= 100000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege GoldPrize Normalv3 0 7 255 13 ", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Entity.ConquerPoints >= 100000000)
                                    {
                                        client.Entity.ConquerPoints -= 100000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 5 255 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Entity.ConquerPoints -= 1000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ObsidianArmor Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Entity.ConquerPoints -= 1000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege DarkDragonCoat Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }


                            case 7:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Entity.ConquerPoints -= 1000000;
                                        client.Inventory.Add(200453, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }

                            case 8:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Entity.ConquerPoints -= 1000000;
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege WhiteLotusFrock Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }

                            case 9:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Entity.ConquerPoints -= 1000000;
                                        client.Inventory.Add(192345, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }

                            case 10:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Entity.ConquerPoints -= 1000000;
                                        client.Inventory.Add(200458, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("you don't have enought cps!!");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Vip Seller
                case 9295:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.Entity.VIPLevel == 6)
                                    {
                                        dialog.Text("your Are already VIPs 6.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    dialog.Text("Hello i will upgrade your VIP ");
                                    dialog.Option("( VIP 1 ) 25 kk Cps.", 1);
                                    dialog.Option("( VIP 2 ) 25 kk Cps.", 2);
                                    dialog.Option("( VIP 3 ) 25 kk Cps.", 3);
                                    dialog.Option("( VIP 4 ) 25 kk Cps.", 4);
                                    dialog.Option("( VIP 5 ) 60 kk Cps.", 5);
                                    dialog.Option("( VIP 6 ) 60 kk Cps.", 6);
                                    dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;

                                }
                            case 1:
                                {
                                    if (client.Entity.VIPLevel == 0 && client.Entity.VIPLevel < 1)
                                    {
                                        if (client.Entity.ConquerPoints >= 25000000)
                                        {
                                            client.Entity.ConquerPoints -= 25000000;
                                            client.Entity.VIPLevel = 1;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 25 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }

                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.VIPLevel == 1)
                                    {
                                        if (client.Entity.ConquerPoints >= 25000000)
                                        {
                                            client.Entity.ConquerPoints -= 25000000;
                                            client.Entity.VIPLevel = 2;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 25kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.VIPLevel == 2)
                                    {
                                        if (client.Entity.ConquerPoints >= 25000000)
                                        {
                                            client.Entity.ConquerPoints -= 25000000;
                                            client.Entity.VIPLevel = 3;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 25 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Entity.VIPLevel == 3)
                                    {
                                        if (client.Entity.ConquerPoints >= 60000000)
                                        {
                                            client.Entity.ConquerPoints -= 60000000;
                                            client.Entity.VIPLevel = 4;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 60 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.VIPLevel == 4)
                                    {
                                        if (client.Entity.ConquerPoints >= 60000000)
                                        {
                                            client.Entity.ConquerPoints -= 60000000;
                                            client.Entity.VIPLevel = 5;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 60 kk Cps..");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();

                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.VIPLevel == 5)
                                    {
                                        if (client.Entity.ConquerPoints >= 60000000)
                                        {
                                            client.Entity.ConquerPoints -= 60000000;
                                            client.Entity.VIPLevel = 6;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 60 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();

                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion Phoenix
                #region HouseAdmin
                #region House manger old

                case 30156:
                    switch (npcRequest.OptionID)
                    {
                        case 0:
                            if (!MapsTable.MapInformations.ContainsKey((long)((ushort)client.Entity.UID)))
                            {
                                dialog.Text("Hey there " + client.Entity.Name + " i'm HouseAdmin Would you like to create your");
                                dialog.Text(" House you need to get an HousePermit so i can help you or u can go inside ur house if");
                                dialog.Text(" you have one already , or maybe wana upgrade ur house by using UpgradeCert?");
                                dialog.Option("Create House", 1);
                               // dialog.Option("Buy Tokens,Furniture", 4);
                                dialog.Option("Just Passing By!.", 0xff);
                                dialog.Send();
                            }
                            else
                            {
                                dialog.Text("Hey there " + client.Entity.Name + " i'm HouseAdmin Would you like to Enter your");
                                dialog.Text(" House, or maybe wana upgrade ur house by using UpgradeCert?");
                                dialog.Text(", or buy Tokens and Furniture?");
                                dialog.Option("Enter House", 2);
                                dialog.Option("House Upgrade", 3);
                              //  dialog.Option("Tokens,Furniture", 4);
                                dialog.Option("Just Passing By!.", 0xff);
                                dialog.Send();
                            }
                            break;

                        case 1:
                            if (!MapsTable.MapInformations.ContainsKey((long)((ushort)client.Entity.UID)))
                            {
                                if (client.Inventory.Contains(0xb0112, 1))
                                {
                                    client.Inventory.Remove(0xb0112, (byte)1);
                                    House.createhouse(client);
                                    dialog.Text("Congratulations you got New House Goodluck in " + rates.servername);
                                    dialog.Option("Thanks!", 0xff);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("sorry you dont have HousePermit come again later ");
                                    dialog.Option("sorry!", 0xff);
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                dialog.Text("Sorry you already have House cant help you");
                                dialog.Option("Oh Sorry!.", 0xff);
                                dialog.Send();
                            }
                            break;

                        case 2:
                            if (MapsTable.MapInformations.ContainsKey((long)((ushort)client.Entity.UID)))
                            {
                                if (MapsTable.MapInformations[(long)((ushort)client.Entity.UID)].HouseLevel == 1)
                                {
                                    if ((client.Team != null) && client.Team.TeamLeader)
                                    {
                                        foreach (GameClient state2 in client.Team.Teammates)
                                        {
                                            if ((state2 != null) && (state2 != null))
                                            {
                                                state2.Entity.Teleport((ushort)client.Entity.UID, 0x20, 0x1f);
                                                client.Entity.Teleport((ushort)client.Entity.UID, 0x20, 0x1f);
                                            }
                                        }
                                    }
                                    else
                                    {
                                        client.Entity.Teleport((ushort)client.Entity.UID, 0x20, 0x1f);
                                    }
                                }
                                if (MapsTable.MapInformations[(long)((ushort)client.Entity.UID)].HouseLevel == 2)
                                {
                                    if ((client.Team != null) && client.Team.TeamLeader)
                                    {
                                        foreach (GameClient state2 in client.Team.Teammates)
                                        {
                                            if ((state2 != null) && (state2 != null))
                                            {
                                                state2.Entity.Teleport((ushort)client.Entity.UID, 0x35, 0x52);
                                                client.Entity.Teleport((ushort)client.Entity.UID, 0x35, 0x52);
                                            }
                                        }
                                    }
                                    else
                                    {
                                        client.Entity.Teleport((ushort)client.Entity.UID, 0x35, 0x52);
                                    }
                                }
                                if (MapsTable.MapInformations[(long)((ushort)client.Entity.UID)].HouseLevel >= 3)
                                {
                                    if ((client.Team != null) && client.Team.TeamLeader)
                                    {
                                        foreach (GameClient state2 in client.Team.Teammates)
                                        {
                                            if ((state2 != null) && (state2 != null))
                                            {
                                                state2.Entity.Teleport((ushort)client.Entity.UID, 90, 70);
                                                client.Entity.Teleport((ushort)client.Entity.UID, 90, 70);
                                            }
                                        }
                                    }
                                    else
                                    {
                                        client.Entity.Teleport((ushort)client.Entity.UID, 90, 70);
                                    }
                                }
                                if (MapsTable.MapInformations[(long)((ushort)client.Entity.UID)].HouseLevel == 4)
                                {
                                    client.Entity.Teleport((ushort)client.Entity.UID, 0x35, 0x52);
                                }
                            }
                            else
                            {
                                dialog.Text("Sorry you dont have House you need to create one first");
                                dialog.Option("Oh Sorry!.", 0xff);
                                dialog.Send();
                            }
                            break;

                        case 3:
                            if (MapsTable.MapInformations.ContainsKey((long)((ushort)client.Entity.UID)))
                            {
                                if (MapsTable.MapInformations[(long)((ushort)client.Entity.UID)].HouseLevel == 1)
                                {
                                    if (client.Inventory.Contains(0xb0116, 1))
                                    {
                                        client.Inventory.Remove(0xb0116, (byte)1);
                                        House.UpgradeHouse(client);
                                        dialog.Text("Congratulations your House now Level [2] Goodluck in " + rates.servername);
                                        dialog.Option("Thanks!", 0xff);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont have UpgradeCert come again later ");
                                        dialog.Option("sorry!", 0xff);
                                        dialog.Send();
                                    }
                                }
                                else
                                {
                                    dialog.Text("Sorry your House Already Level 2 Cant upgrade it any more ");
                                    dialog.Option("sorry!", 0xff);
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                dialog.Text("Sorry you dont have House come again later");
                                dialog.Option("Oh Sorry!.", 0xff);
                                dialog.Send();
                            }
                            if (MapsTable.MapInformations.ContainsKey((long)((ushort)client.Entity.UID)))
                            {
                                if (MapsTable.MapInformations[(long)((ushort)client.Entity.UID)].HouseLevel == 2)
                                {
                                    if (client.Inventory.Contains(0xb0116, 1))
                                    {
                                        client.Inventory.Remove(0xb0116, (byte)1);
                                        House.UpgradeHouse2(client);
                                        dialog.Text("Congratulations your House now Level [3] Goodluck in " + rates.servername);
                                        dialog.Option("Thanks!", 0xff);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont have UpgradeCert come again later ");
                                        dialog.Option("sorry!", 0xff);
                                        dialog.Send();
                                    }
                                }
                                else
                                {
                                    dialog.Text("Sorry your House Already Level 3 Cant upgrade it any more ");
                                    dialog.Option("sorry!", 0xff);
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                dialog.Text("Sorry you dont have House come again later");
                                dialog.Option("Oh Sorry!.", 0xff);
                                dialog.Send();
                            }
                            break;

                        case 4:
                            dialog.Text("Hey there " + client.Entity.Name + " i'm HouseAdmin Would you like to buy house Tokens?");
                            dialog.Text(string.Concat(new object[] { " HousePermit Coast ", 500000, " cps and HouseUpgrade Coast ", 500000, " cps," }));
                            dialog.Text("ItemBox " + 500000 + " cps what u want to buy?");
                            dialog.Option("HousePermit", 5);
                            dialog.Option("UpgradeCert", 6);
                            dialog.Option("ItemBox", 7);
                            dialog.Option("Just Passing By!.", 0xff);
                            dialog.Send();
                            break;

                        case 5:
                            if (client.Entity.ConquerPoints <= 500000)
                            {
                                dialog.Text("sorry you dont have Enough cps to get HousePermit");
                                dialog.Option("Sorry!", 0xff);
                                dialog.Send();
                            }
                            else
                            {
                                client.Inventory.Add(0xb0112, 0, 1);
                                client.Entity.ConquerPoints -= 500000;
                                dialog.Text("Congratulations you got HousePermit Token");
                                dialog.Option("Thanks!", 0xff);
                                dialog.Send();
                            }
                            break;

                        case 6:
                            if (client.Entity.ConquerPoints <= 500000)
                            {
                                dialog.Text("sorry you dont have Enough cps to get UpgradeCert Token");
                                dialog.Option("Sorry!", 0xff);
                                dialog.Send();
                            }
                            else
                            {
                                client.Inventory.Add(0xb0116, 0, 1);
                                client.Entity.ConquerPoints -= 500000;
                                dialog.Text("Congratulations you got UpgradeCert Token");
                                dialog.Option("Thanks!", 0xff);
                                dialog.Send();
                            }
                            break;

                        case 7:
                            if (client.Entity.ConquerPoints <= 500000)
                            {
                                dialog.Text("sorry you dont have Enough cps to get ItemBox");
                                dialog.Option("Sorry!", 0xff);
                                dialog.Send();
                            }
                            else
                            {
                                client.Inventory.Add(0xb0125, 0, 1);
                                client.Entity.ConquerPoints -= 500000;
                                dialog.Text("Congratulations you got ItemBox");
                                dialog.Option("Thanks!", 0xff);
                                dialog.Send();
                            }
                            break;
                    }
                    break;

                #endregion  
                #endregion
                #region Vip Seller
                case 181500:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.Entity.VIPLevel == 6)
                                    {
                                        dialog.Text("your Are already VIPs 6.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    dialog.Text("Hello i will upgrade your VIP ");
                                    dialog.Option("( VIP 1 ) 25 kk Cps.", 1);
                                    dialog.Option("( VIP 2 ) 25 kk Cps.", 2);
                                    dialog.Option("( VIP 3 ) 25 kk Cps.", 3);
                                    dialog.Option("( VIP 4 ) 25 kk Cps.", 4);
                                    dialog.Option("( VIP 5 ) 60 kk Cps.", 5);
                                    dialog.Option("( VIP 6 ) 60 kk Cps.", 6);
                                    dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;

                                }
                            case 1:
                                {
                                    if (client.Entity.VIPLevel == 0 && client.Entity.VIPLevel < 1)
                                    {
                                        if (client.Entity.ConquerPoints >= 25000000)
                                        {
                                            client.Entity.ConquerPoints -= 25000000;
                                            client.Entity.VIPLevel = 1;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 25 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }

                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.VIPLevel == 1)
                                    {
                                        if (client.Entity.ConquerPoints >= 25000000)
                                        {
                                            client.Entity.ConquerPoints -= 25000000;
                                            client.Entity.VIPLevel = 2;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 25kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.VIPLevel == 2)
                                    {
                                        if (client.Entity.ConquerPoints >= 25000000)
                                        {
                                            client.Entity.ConquerPoints -= 25000000;
                                            client.Entity.VIPLevel = 3;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 25 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Entity.VIPLevel == 3)
                                    {
                                        if (client.Entity.ConquerPoints >= 60000000)
                                        {
                                            client.Entity.ConquerPoints -= 60000000;
                                            client.Entity.VIPLevel = 4;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 60 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.VIPLevel == 4)
                                    {
                                        if (client.Entity.ConquerPoints >= 60000000)
                                        {
                                            client.Entity.ConquerPoints -= 60000000;
                                            client.Entity.VIPLevel = 5;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 60 kk Cps..");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();

                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.VIPLevel == 5)
                                    {
                                        if (client.Entity.ConquerPoints >= 60000000)
                                        {
                                            client.Entity.ConquerPoints -= 60000000;
                                            client.Entity.VIPLevel = 6;
                                        }

                                        else
                                        {
                                            dialog.Text("Please take 60 kk Cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();

                                        }

                                    }
                                    else
                                    {
                                        dialog.Text("Sorry Can't upgrade any more.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion Phoenix
                #region Stuff By ElZa3eeM
                case 595241:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("What is Your Class ??");
                                    dialog.Option("TrojaN  ", 1);
                                    dialog.Option("Warrior  ", 2);
                                    dialog.Option("Monk  ", 3);
                                    dialog.Option("NInJA  ", 4);
                                    dialog.Option("Pirate  ", 5);
                                    dialog.Option("Archer And Assassin  ", 6);
                                    dialog.Option("Taoist ", 7);
                                    dialog.Option("No.Thanks", 255);
                                    dialog.Avatar(80);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 1000000)
                                        {


                                            client.Entity.ConquerPoints -= 1000000;


                                            client.Send(new Message("You've recived a Stuff Trojan By ElZa3eeM Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));
                                            PacketHandler.CheckCommand2(new Message("@item HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@item StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintHeadgear 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintRing 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhirlpoolArmor 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GrimHammer 0 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GrimHammer 0 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SkyBlade Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SkyBlade Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege NirvanaClub Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ObsidianArmor Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege PeerlessCoronet Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@Item Volcano Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@Item DreamEarrings Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            //
                                            //
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege RidingCrop Super 12 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);

                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 1000000)
                                        {
                                            client.Entity.ConquerPoints -= 1000000;

                                            client.Send(new Message("You've recived a Stuff Warrior By Xodia Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ArchonWand 0 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintHeadgear 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintRing 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhirlpoolArmor 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SpearOfWrath Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SkyBlade Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ImperiousArmor Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SteelHelmet Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CelestialShield Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege OccultWand Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);

                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 1000000)
                                        {
                                            client.Entity.ConquerPoints -= 1000000;

                                            client.Send(new Message("You've recived a Stuff Monk By Xodia Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));




                                            PacketHandler.CheckCommand2(new Message("@tegotegatege HolyBeadsOfConsciousness 2 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege HolyBeadsOfConsciousness 2 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintHeadgear 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintRing 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhirlpoolArmor 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege LazuritePrayerBeads Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege LazuritePrayerBeads Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhiteLotusFrock Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege XumiCap Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Volcano Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DreamEarrings Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            //
                                            //
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege RidingCrop Super 12 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);

                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 10000000)
                                        {
                                            client.Entity.ConquerPoints -= 1000000;
                                            client.Send(new Message("You've recived a Stuff By Ninja Xodia Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SufferingScythe 4 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GrimHammer 0 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GrimHammer 0 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 1 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 1 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 1 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintHeadgear 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintRing 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhirlpoolArmor 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege HanzoKatana Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege HanzoKatana Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege NightmareVest Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege RambleVeil Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege NightmareHood Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Volcano Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DreamEarrings Super 12 7 235 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            //
                                            //
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege RidingCrop Super 12 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 1000000)
                                        {
                                            client.Entity.ConquerPoints -= 1000000;
                                            client.Send(new Message("You've recived a Stuff PiraTe By Xodia Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege TimePistol 4 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DestinyRapier 9 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintHeadgear 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintRing 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhirlpoolArmor 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege LordPistol Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CaptainRapier Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DominatorHat Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DarkDragonCoat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 1000000)
                                        {
                                            client.Entity.ConquerPoints -= 1000000;
                                            client.Send(new Message("You've recived a Stuff Archer By Xodia Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));

                                            //LuckyGuy
                                            //NpcXEffect.Effect.effecx.good(client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DominantKnifeSoul 6 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DominantKnifeSoul 6 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FantasyKnife Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FantasyKnife Super 12 7 200 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WingedBow 6 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintHeadgear 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintRing 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhirlpoolArmor 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenlyBow Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WelkinCoat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WhiteTigerHat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Volcano Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenPlume Super 12 7 200 13 13", System.Drawing.Color.Red, 2001), client);

                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 7:
                                {
                                    if (client.Inventory.Count < 25)
                                    {
                                        if (client.Entity.ConquerPoints >= 1000000)
                                        {

                                            client.Entity.ConquerPoints -= 1000000;
                                            client.Send(new Message("You've recived a Stuff Taoist By Xodia Goodluck in Our Server.", System.Drawing.Color.White, Message.Center));

                                            //effecx.halo_huo_fir(client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 0 0 0 0 142 39 46", System.Drawing.Color.Red, 0x7d1), client);

                                            PacketHandler.CheckCommand2(new Message("@tegotegatege PneumaBacksword 3 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Somesault~Cloud 0 00 1 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege GoldenDream 5 00 1 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege FairyTale 5 00 1 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Wrench 1 00 0 000 00 00", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintNecklace 1 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBoots 7 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBag 2 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SaintBracelet 6 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WaterFlowArmor 5 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 1 000 00 00", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege SupremeSword Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege EternalRobe Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege DistinctCap Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege WyvernBracelet Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                            //PacketHandler.CheckCommand(new Message("@item CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client); 
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                            //PacketHandler.CheckCommand(new Message("@item FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client); 
                                            //PacketHandler.CheckCommand(new Message("@item SpearOfWrath Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client); 
                                            PacketHandler.CheckCommand2(new Message("@tegotegatege NiftyBag Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 10kk cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }


                                    }
                                    else
                                    {
                                        dialog.Text("You Need 25 Clear Spot In Your Inventory.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 8:
                                {
                                    if (client.Entity.ConquerPoints >= 1000000)
                                    {
                                        client.Inventory.Add(1080001, 0, 1);
                                        client.Entity.ConquerPoints -= 1000000;
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 10000000 ConquerPoints.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Ape City Exchanger
                case 139:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity.Name + " I Will take you item and give you FlyingRoosterE-gg Have you all i need ?.");
                                    dialog.Option("Yes i have All You Need.", 1);
                                    dialog.Option("Sorry I Don't Have All Items.", 255);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(711252, 3))//France-Fancard
                                    {
                                        if (client.Inventory.Contains(711253, 3))//Mexico-Fancard
                                        {
                                            if (client.Inventory.Contains(722682, 1))//Colorful-Card
                                            {
                                                client.Inventory.Remove(711252, 3);
                                                client.Inventory.Remove(711253, 3);
                                                client.Inventory.Remove(722682, 1);
                                                client.Inventory.Add(720233, 0, 1);
                                                Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Has 2nd Phase in Quest [Organizer-Stars].", System.Drawing.Color.DarkGray, Message.Center), Program.GamePool);
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry You don't Have All Items I Can't Exchange.");
                                                dialog.Option("Ahh sorry.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                            break;
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry You don't Have All Items I Can't Exchange.");
                                            dialog.Option("Ahh Sorry.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry You don't Have All Items I Can't Exchange.");
                                        dialog.Option("Ahh sorry.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Phoenix Castle Exchanger
                case 138:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity.Name + " I Can Exchange 3 Raple-Books and 2 Surpise-Books and 1 Corhm-Book to Sheafy-Box.");
                                    dialog.Option("I Have all what you need.", 1);
                                    dialog.Option("Sorry I Don't Have The Items.", 255);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(710222, 5))//Poem-Book
                                    {
                                        if (client.Inventory.Contains(710852, 3))//Literary-Book
                                        {
                                            if (client.Inventory.Contains(711138, 1))//Copy-Book
                                            {
                                                client.Inventory.Remove(710222, 5);
                                                client.Inventory.Remove(710852, 3);
                                                client.Inventory.Remove(711138, 1);
                                                client.Inventory.Add(720135, 0, 1);
                                                Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " Has 1st Phase in Quest [Organizer-Stars].", System.Drawing.Color.DarkGray, Message.Center), Program.GamePool);
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry You Don't Have The Books I Can't Exchange.");
                                                dialog.Option("Ahh sorry.", 255);
                                                dialog.Avatar(116);
                                                dialog.Send();
                                            }
                                            break;
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry You Don't Have The Books I Can't Exchange.");
                                            dialog.Option("Ahh sorry.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry You Don't Have The Books I Can't Exchange.");
                                        dialog.Option("Ahh sorry.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Organizer-Stars Quest Admin
                case 136:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity.Name + "!, on quest [Orgnaizer-Stars] Can I Will See You The Stages For This Quest.");
                                    dialog.Option("I Will Start Part1 [Lev100].", 1);
                                    dialog.Option("I Will Start Part2 [Lev115].", 2);
                                    dialog.Option("I Will Start Part3 [Lev120].", 3);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.Level >= 100)
                                    {
                                        dialog.Text("[First-Stage] On Quest [Organizer-Stars] Go To Twin To Kill Apparition and Get ");
                                        dialog.Text("Five Poem-Books and Go To Phoenix. to Kill Bandit and Get three Literary-Books ");
                                        dialog.Text("and Go To Desert To Kill HillMonster and Get One Copy-Book Then Give it to Casper-M In Phoenix Castle");
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry You Are Not Level 100 You Can't Start The Part1");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                }
                            case 2:
                                {
                                    if (client.Entity.Level >= 115)
                                    {
                                        dialog.Text("[Second-Stage] On Quest [Organizer-Stars] Go To Twin To Kill Robin and Get Three France-Fan-Card and Go To Phoenix To Kill ");
                                        dialog.Text("Ratling and Get Three Mexico-Fan-Card and Go To Desert To Kill BladeGhost and Get One Colorful-Card Then Give it To Casper-M2 In Ape City");
                                        dialog.Option("Ok Iam going.", 1);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry You Are Not Level 115 You Can't Start The Part2");
                                        dialog.Option("Ohh Sorry.", 1);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                }
                            case 3:
                                {
                                    if (client.Entity.Level >= 120)
                                    {

                                        dialog.Text("[Third-Stage] On Quest [Organizer-Stars] This the last part of the Quest and it is might be hard it is in Some Cities ");
                                        dialog.Option("Okay Thank you For Helping Me.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry You Are Not Level 120 You Can't Start The Part3");
                                        dialog.Option("Ahh Sorry I Will Get It.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region HuntMaps-lvlmaps
                case 445532:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello, You can call me The Oracle! I can teleport you to hunt and get CPs but there's only two choice, " 
                                    + "The 1st one you can enter a free map and all monsters in this map drop 1,000 CPS and the 2nd one you can enter a VIP map but this map you must be VIP 6 and have 4,000,000 B-CPs or 2,000,000 CPs to enter it and all monsters in it drop 1,500 CPs, So what you want now?");
                                    dialog.Option("Hunting Floor[FREE]", 1);
                                    /*dialog.Option("Hunting Floor[2]", 2);
                                    dialog.Option("Hunting Floor[3]", 3);
                                    dialog.Option("Hunting Floor[4]", 4);*/
                                    dialog.Option("Hunting Floor[VIP]", 5);
                                    dialog.Option("No, Thanks.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(8800, 19, 127);
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.VIPLevel >= 6)
                                    {
                                        dialog.Text("So, You are VIP 6+ and you want me to teleport you to the VIP hunting floor, I can do it for you but "
                                        + "first you should know I you must pay 4,000,000 B-CPs or 2,000,000 CPs to go to this map.");
                                        dialog.Option("Take 4,000,000 B-CPs", 5 + 1);
                                        dialog.Option("Take 2,000,000 CPs", 5 + 2);
                                        dialog.Option("No, Thanks.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5 + 1:
                                {
                                    if (client.Entity.VIPLevel >= 6 && client.Entity.BoundCps >= client.HuntingVIPBCps)
                                    {
                                        client.Entity.Teleport(2351, 19, 127);
                                        client.Entity.BoundCps -= client.HuntingVIPBCps;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, you are not VIP level 6 or you dont have " + client.HuntingVIPBCps + " bound cps.");
                                        dialog.Option("Sorry.", 255);
                                    }
                                    break;
                                }
                            case 5 + 2:
                                {
                                    if (client.Entity.VIPLevel >= 6 && client.Entity.ConquerPoints >= client.HuntingVIPCps)
                                    {
                                        client.Entity.Teleport(2351, 19, 127);
                                        client.Entity.ConquerPoints -= client.HuntingVIPCps;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, you are not VIP level 6 or you dont have " + client.HuntingVIPCps + " cps.");
                                        dialog.Option("Sorry.", 255);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region HuntMaps-lvlmaps
                case 99999:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " i can help you to find New maps to lvling up and hunt just choose what u want?.");
                                    dialog.Option("New Maps", 1);

                                   // dialog.Option("Hunting Maps", 2);
                                    //dialog.Option("Just Passing By!.", 255);
                                   // dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("choose which floor you wana go inside to NewMap ?.");
                                    dialog.Option("Floor[1]", 3);
                                    dialog.Option("Floor[2]", 4);
                                    dialog.Option("Floor[3]", 5);
                                    dialog.Option("Floor[4]", 6);
                                    dialog.Send();
                                    break;
                                }
                            case 3:
                                {
                                    client.Entity.Teleport(1002,10530);
                                    break;
                                }
                            case 4:
                                {
                                    client.Entity.Teleport(1002,10540);
                                    break;
                                }
                            case 5:
                                {
                                    client.Entity.Teleport(1002,10550);
                                    break;
                                }
                            case 6:
                                {
                                    client.Entity.Teleport(1002,20000);
                                    break;
                                }
                            case 2:
                                {
                                    client.Entity.Teleport(2351, 19, 127);
                                    //dialog.Text("choose which floor you wana go inside to hunt for cps?.");
                                    //dialog.Text("sorry hunting Maps not Avaible ATM?.");
                                    //dialog.Option("HuntFloor[1]", 7);
                                    //dialog.Option("HuntFloor[2]", 8);
                                    //dialog.Option("HuntFloor[3]", 9);
                                    //dialog.Option("HuntFloor[4]", 10);
                                    //dialog.Option("ok", 255);
                                    //dialog.Send();
                                    break;
                                }
                            case 7:
                                {
                                  //  client.Entity.Teleport(8800, 005, 290);
                                    break;
                                }
                            case 8:
                                {
                                  //  client.Entity.Teleport(8800, 005, 290);
                                    break;
                                }
                            case 9:
                                {
                                   // client.Entity.Teleport(8800, 005, 290);
                                    break;
                                }
                            case 10:
                                {
                                   // client.Entity.Teleport(8800, 005, 290);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region teampk
                case 489431:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                dialog.Text("Attention! The Team Pk Tournament will be held every Saturday. The Top 8");
                                dialog.Text("  teams will be handsomely rewarded, and each player in the team can");
                                dialog.Text(" receive EXP and 1,000 Honor Points affter each match.");
                                dialog.Option("What about the rules? ", 1);
                                dialog.Option("Sign up!", 2);
                                dialog.Option("Claim prize", 3);
                                dialog.Option("Leave.", 255);
                                dialog.Send();
                                break;
                            case 1:
                                dialog.Text("The Team Pk Tournament start at 19:00 every Saturday, and teams will be divided");
                                dialog.Text("  into four grups: Level 1-99, Level 100-119, level 120-129 and level 130+ ");
                                dialog.Text(" Only teams can participate in this Tournament . You can either create a team");
                                dialog.Text(" befor signin up, or enter the waiting area and create you team. At the start of the");
                                dialog.Text(" Tournament, any player who`s not in team will be removed from the tournament map.");
                                dialog.Text(" Where the Tournament ends, only the team leaders of the winning teams can claim the reward.");
                                dialog.Option("Ok Thanks you!", 255);
                                dialog.Send();
                                break;
                            case 2:
                                if (!TeamElitePk.TeamTournament.Opened)
                                {
                                    dialog.Text("Aha! Can`t wait right? The Team Pk Tournament has not started, yet. Come");
                                    dialog.Text(" see me at 18:55, this Saturday. I can send you the field before the tournament starts at 19:00");
                                    dialog.Option("Ok See, you then!.", 255);
                                    dialog.Send();
                                    break;
                                }
                                if (client.Team == null)
                                {
                                    dialog.Text("Please create team");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                                if (!client.Team.RightTeamElite())
                                {
                                    dialog.Text("I'm sorry, but your Team must have players with the same level and in the same internships.");
                                    dialog.Text("Exemple: ( full 100-, or full 100-120, or full 120-130, or full 130+)");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                                if (!TeamElitePk.TeamTournament.Join(client, client.Team.GetEliteGroup(client.Entity.Level)))
                                {
                                    dialog.Text("Sorry, but your tournament on grup was staring..");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                                break;
                            case 3:
                                {
                                    byte b85 = 0;
                                    byte b86 = 0;
                                    if (TeamElitePk.TeamTournament.GetReward(client, out b85, out b86))
                                    {
                                        uint num114;
                                        if (b85 == 1)
                                        {
                                            num114 = 1000000u;
                                        }
                                        else
                                        {
                                            if (b85 == 2)
                                            {
                                                num114 = 600000u;
                                            }
                                            else
                                            {
                                                if (b85 == 3)
                                                {
                                                    num114 = 400000u;
                                                }
                                                else
                                                {
                                                    num114 = 100000u;
                                                }
                                            }
                                        }
                                        client.Entity.ConquerPoints += num114;
                                        Kernel.SendWorldMessage(new Message(string.Concat(new object[]
												{
													client.Entity.Name,
													" has receive ",
													num114,
													" for rank ",
													b85,
													" in Team Pk Tournament"
												}), Color.Red, 2007u).ToArray());
                                        break;
                                    }
                                    dialog.Text("Sorry, just the lider of 8 top teams will receive the reward!");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                            default:
                                break;
                        }
                        break;
                    }
                #endregion
                #region skillteampk
                case 489432:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                dialog.Text("The new Skill Team Pk Tournament is open! It is held at 20:00,every");
                                dialog.Text(" Wednesday. The contestants will receive EXP worth 1 EXP Ball and 1,000");
                                dialog.Text(" Honor Points for each round! The top 8 teams will receive extra prize!");
                                dialog.Option("What about the rules? ", 1);
                                dialog.Option("Sign up!", 2);
                                dialog.Option("Claim prize", 3);
                                dialog.Option("Leave.", 255);
                                dialog.Send();
                                break;
                            case 1:
                                dialog.Text("There are limits on the Equipmen Level and Rank. Moreover, there are");
                                dialog.Text(" restrictions on Equipment Quality, Bonus Level, Sockets, Gems and ");
                                dialog.Text(" Blessing effects. Besides, the effects of the Sub-classes are ajusted, too.");
                                dialog.Text(" (Except for Apothecary.) By the way , the Battle Power shared from you Clan, ");
                                dialog.Text("  Mentor, and Guild won`t count; ");
                                dialog.Option("Go ahead. ", 4);
                                dialog.Send();
                                break;
                            case 2:
                                if (!TeamElitePk.SkillTeamTournament.Opened)
                                {
                                    dialog.Text("The Skill Team Pk Tournament is help every Wednesday. Please come back on Wed. at 19:45!");
                                    dialog.Option("OH.", 255);
                                    dialog.Send();
                                    break;
                                }
                                if (client.Team == null)
                                {
                                    dialog.Text("Please create team");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                                if (!client.Team.RightTeamElite())
                                {
                                    dialog.Text("I'm sorry, but your Team must have players with the same level and in the same internships.");
                                    dialog.Text("Exemple: ( full 100-, or full 100-120, or full 120-130, or full 130+)");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                                if (!TeamElitePk.SkillTeamTournament.Join(client, client.Team.GetEliteGroup(client.Entity.Level)))
                                {
                                    dialog.Text("Sorry, but your tournament on grup was staring..");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                                break;
                            case 3:
                                {
                                    byte b87 = 0;
                                    byte b88 = 0;
                                    if (TeamElitePk.SkillTeamTournament.GetReward(client, out b87, out b88))
                                    {
                                        uint num115;
                                        if (b87 == 1)
                                        {
                                            num115 = 1000000u;
                                        }
                                        else
                                        {
                                            if (b87 == 2)
                                            {
                                                num115 = 600000u;
                                            }
                                            else
                                            {
                                                if (b87 == 3)
                                                {
                                                    num115 = 400000u;
                                                }
                                                else
                                                {
                                                    num115 = 100000u;
                                                }
                                            }
                                        }
                                        client.Entity.ConquerPoints += num115;
                                        Kernel.SendWorldMessage(new Message(string.Concat(new object[]
											{
												client.Entity.Name,
												" has receive ",
												num115,
												" for rank ",
												b87,
												" in Team Pk Tournament"
											}), Color.Red, 2007u).ToArray());
                                        break;
                                    }
                                    dialog.Text("Sorry, just the lider of 8 top teams will receive the reward!");
                                    dialog.Option("Ok thx.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 4:
                                dialog.Text("he Skill Team Pk Tournament is held at 20:00 , every Wednesday. You need");
                                dialog.Text(" to team up whit others to fake part in it. Only the team leaders are capable of ");
                                dialog.Text(" claiming the rewards. You can up with friends in advance, or while");
                                dialog.Text("  (in the waiting area. People who don`t team up will be kicked out, when the");
                                dialog.Text(" contest starts. There are 4-groups: Level 130+, level 120-129, level 100-199  and level 1-99. ");
                                dialog.Option("What else?", 5);
                                dialog.Send();
                                break;
                            case 5:
                                dialog.Text("You can talk to me to enter the Waiting area at 19:45. No threams will be allowed to enter ");
                                dialog.Text(" after the contest start. The contest for level 130+ starts at 20:00, level 120-129 20:02,");
                                dialog.Text("  level 100-119 20:04 and level 1-99 20:06. Disbanding/creating a team during the contest will");
                                dialog.Text("  to disqualification. In knockout stage, each round lasts for 10 minutes");
                                dialog.Option("Ok Thx !", 255);
                                dialog.Send();
                                break;
                            default:
                                break;

                        }
                        break;
                    }
                #endregion
                #region Custom Room
                case 54231356:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Would You Like to Join Or Make A Custom Room ?!");
                                    dialog.Option("Yes, Please.", 1);
                                    dialog.Option("Have a good day.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {

                                    dialog.Text("Please Type The Room`s Password");
                                    dialog.Input("Password : ", 2, 15);
                                    dialog.Option("Never mind.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    string password = npcRequest.Input;
                                    if (Kernel.CustomRoomMaps.ContainsKey(password))
                                    {
                                        client.Entity.CustomRoomScore = 0;
                                        client.Entity.Teleport(1005, Kernel.CustomRoomMaps[password], (ushort)Kernel.Random.Next(35, 70), (ushort)Kernel.Random.Next(35, 70));
                                    }
                                    else
                                    {
                                        Map arena = Kernel.Maps[1005];
                                        Map CustomRoom = arena.MakeDynamicMap();
                                        CustomRoom.WasPKFree = true;
                                        Kernel.CustomRoomMaps.Add(password, CustomRoom.ID);
                                        client.Entity.CustomRoomScore = 0;
                                        client.Entity.Teleport(1005, CustomRoom.ID, (ushort)Kernel.Random.Next(35, 70), (ushort)Kernel.Random.Next(35, 70));
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ChangeName
                case 10614412:
                    {
                        // #warning ChangeName 5,000,000 CPs
                        uint ChangeName = 50000;
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello. I'm the one that was choosen to set/change your account  Name only for 50,000 cps .you can change you password for 14 letters nubmer or characters.");

                                    dialog.Option("I want to change the Name.", 2);
                                    dialog.Option("Forget it.", 255);
                                    dialog.Send();
                                    break;
                                }
                            #region Change Name
                            case 2:
                                {
                                    if (client.Entity.ConquerPoints < ChangeName)
                                    {
                                        dialog.Text("i can't change your name you maust have 50,000 cps.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    if (client.Entity.Name != "" && client.Entity.ConquerPoints >= ChangeName)
                                    {
                                        dialog.Text("Please insert the old name you have now.");
                                        dialog.Input("Here:", 6, 14);
                                        dialog.Option("Forget it.", 255);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have a Name set.");
                                        dialog.Option("Alright.", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 6:
                                {

                                    if (client.Entity.Name != "" && client.Entity.ConquerPoints >= ChangeName)
                                    {
                                        if (InvalidCharacters(npcRequest.Input) && npcRequest.Input.Length <= 14)
                                        {

                                            if (client.Entity.Name == npcRequest.Input)
                                            {

                                                dialog.Text("Please insert the New Name again.");
                                                dialog.Input("Here:", 7, 14);
                                                dialog.Option("Forget it.", 255);
                                            }
                                            else
                                            {
                                                dialog.Text("Wrong Name. Try again?");
                                                dialog.Input("Here:", 6, 14);
                                                dialog.Option("Alright.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Invalid Name, please try again.");
                                            dialog.Input("Here:", 6, 14);
                                            dialog.Option("Alright.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have a Name set.");
                                        dialog.Option("Alright.", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 7:
                                {

                                    if (client.Entity.Name != "" && client.Entity.ConquerPoints >= ChangeName)
                                    {

                                        if (InvalidCharacters(npcRequest.Input) && npcRequest.Input.Length <= 14 && client.Entity.ConquerPoints >= 50000)
                                        {

                                            client.TempPassword = uint.Parse(npcRequest.Input);
                                            dialog.Text("Please insert the New Name again.");
                                            dialog.Input("Here:", 8, 14);
                                            dialog.Option("Forget it.", 255);
                                        }
                                        else
                                        {
                                            dialog.Text("Invalid Name, please try again.");
                                            dialog.Input("Here:", 7, 14);
                                            dialog.Option("Alright.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have a Name set.");
                                        dialog.Option("Alright.", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 8:
                                {
                                    if (InvalidCharacters2(npcRequest.Input) && client.Entity.ConquerPoints >= ChangeName)
                                    {
                                        if (client.Entity.Name != "")
                                        {
                                            if (InvalidCharacters(npcRequest.Input) && npcRequest.Input.Length <= 14)
                                            {

                                                if (client.TempPassword == uint.Parse(npcRequest.Input))
                                                {
                                                    if (client.Entity.ConquerPoints >= ChangeName)
                                                    {
                                                        client.Entity.ConquerPoints -= ChangeName;
                                                        client.Entity.Name = npcRequest.Input;
                                                        Database.EntityTable.SaveEntity(client);
                                                        dialog.Text("Name changed!");
                                                        dialog.Option("Thank you.", 255);
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Wrong Name.");
                                                        dialog.Input("Here:", 8, 14);
                                                        dialog.Option("Alright.", 255);
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("Invalid Name, please try again.");
                                                dialog.Input("Here:", 8, 14);
                                                dialog.Option("Alright.", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Name errorrrrrr.");
                                            dialog.Option("Alright.", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Name you are choosed is use try agine.");
                                        dialog.Option("Alright.", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region PK less than
                case 10021252:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.Entity.PKPoints < 30)
                                    {
                                        dialog.Text("I can't less your PK any more you are safe now.");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                        break;
                                    }
                                    dialog.Text("Hay I am Pkpoints lesser i can less your pk from 30 or higher");
                                    dialog.Option("-[30] PKponits 1000 cps.", 1);
                                    dialog.Option("-[60] PKponits 2000 cps", 2);
                                    dialog.Option("-[90] PKponits 3000 cps", 3);
                                    dialog.Option("-[120] PKponits 4000 cps", 4);
                                    dialog.Option("-[150] PKponits 5000 cps", 5);
                                    dialog.Option("-[200] PKponits 6000 cps", 6);
                                    dialog.Option("-[250] PKponits 7000 cps", 7);
                                    dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(116);
                                    dialog.Send();
                                    break;

                                }
                            case 1:
                                {
                                    if (client.Entity.PKPoints >= 30)
                                    {
                                        if (client.Entity.BoundCps >= 1000)
                                        {
                                            client.Entity.BoundCps -= 1000;
                                            client.Entity.PKPoints -= 30;
                                        }
                                        else if (client.Entity.ConquerPoints >= 1000)
                                        {
                                            client.Entity.ConquerPoints -= 1000;
                                            client.Entity.PKPoints -= 30;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 1000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.PKPoints >= 60)
                                    {
                                        if (client.Entity.BoundCps >= 2000)
                                        {
                                            client.Entity.BoundCps -= 2000;
                                            client.Entity.PKPoints -= 60;
                                        }
                                        else if (client.Entity.ConquerPoints >= 2000)
                                        {
                                            client.Entity.ConquerPoints -= 2000;
                                            client.Entity.PKPoints -= 60;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 2000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.PKPoints >= 90)
                                    {
                                        if (client.Entity.BoundCps >= 3000)
                                        {
                                            client.Entity.BoundCps -= 3000;
                                            client.Entity.PKPoints -= 90;
                                        }
                                        else if (client.Entity.ConquerPoints >= 3000)
                                        {
                                            client.Entity.ConquerPoints -= 3000;
                                            client.Entity.PKPoints -= 90;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 3000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Entity.PKPoints >= 120)
                                    {
                                        if (client.Entity.BoundCps >= 4000)
                                        {
                                            client.Entity.BoundCps -= 4000;
                                            client.Entity.PKPoints -= 120;
                                        }
                                        else if (client.Entity.ConquerPoints >= 4000)
                                        {
                                            client.Entity.ConquerPoints -= 4000;
                                            client.Entity.PKPoints -= 120;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 4000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.PKPoints >= 150)
                                    {
                                        if (client.Entity.BoundCps >= 5000)
                                        {
                                            client.Entity.BoundCps -= 5000;
                                            client.Entity.PKPoints -= 150;
                                        }
                                        else if (client.Entity.ConquerPoints >= 5000)
                                        {
                                            client.Entity.ConquerPoints -= 5000;
                                            client.Entity.PKPoints -= 150;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 5000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.PKPoints >= 200)
                                    {
                                        if (client.Entity.BoundCps >= 6000)
                                        {
                                            client.Entity.BoundCps -= 6000;
                                            client.Entity.PKPoints -= 200;
                                        }
                                        else if (client.Entity.ConquerPoints >= 6000)
                                        {
                                            client.Entity.ConquerPoints -= 6000;
                                            client.Entity.PKPoints -= 200;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 6000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 7:
                                {
                                    if (client.Entity.PKPoints >= 250)
                                    {
                                        if (client.Entity.BoundCps >= 7000)
                                        {
                                            client.Entity.BoundCps -= 7000;
                                            client.Entity.PKPoints -= 250;
                                        }
                                        else if (client.Entity.ConquerPoints >= 7000)
                                        {
                                            client.Entity.ConquerPoints -= 7000;
                                            client.Entity.PKPoints -= 250;
                                        }
                                        else
                                        {
                                            dialog.Text("Please take 7000 cps.");
                                            dialog.Option("I see.", 255);
                                            dialog.Avatar(116);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("your pk points is low must higher than." + client.Entity.PKPoints);
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Prize Seller
                case 200033:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Greetings! I'm a great seller, I have the most precious items in the entire ");
                                    dialog.Text("world. What do you want to get?");
                                    dialog.Option("GoldPrize [10 LordTokens]", 1);
                                    dialog.Option("GoldCup [9 LordTokens]", 2);
                                    dialog.Option("GoldTrophy [8 LordTokens]", 3);
                                    dialog.Option("SilverPrize [6 LordTokens]", 4);
                                    dialog.Option("BronzePrize  [4 LordTokens]", 5);
                                    dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(85);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(723467, 10))
                                    {

                                        client.Inventory.Remove(723467, 10);
                                        client.Inventory.Add(2100075, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have enough 10 LordTokens !");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(85);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Inventory.Contains(723467, 9))
                                    {

                                        client.Inventory.Remove(723467, 9);
                                        client.Inventory.Add(2100095, 0, 1);




                                    }
                                    else
                                    {
                                        dialog.Text("You don't have enough 9 LordTokens !");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(85);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Inventory.Contains(723467, 8))
                                    {

                                        client.Inventory.Remove(723467, 8);
                                        client.Inventory.Add(2100085, 0, 1);




                                    }
                                    else
                                    {
                                        dialog.Text("You don't have enough 8 LordTokens !");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(85);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Inventory.Contains(723467, 6))
                                    {

                                        client.Inventory.Remove(723467, 6);
                                        client.Inventory.Add(2100065, 0, 1);

                                    }
                                    else
                                    {
                                        dialog.Text("You don't have enough 6 LordTokens !");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(85);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Inventory.Contains(723467, 4))
                                    {

                                        client.Inventory.Remove(723467, 4);
                                        client.Inventory.Add(2100055, 0, 1);

                                    }
                                    else
                                    {
                                        dialog.Text("You don't have enough 4 LordTokens !");
                                        dialog.Option("I see.", 255);
                                        dialog.Avatar(85);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ChangeRb
                case 112251:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.Entity.Reborn == 2 && client.Entity.Level >= 120)
                                    {
                                        dialog.Text("I am the ReincarnationSeer i can help you to change your second reborn Class you need OblivionDew");
                                        dialog.Text(" and 150 k cps in your inventory deal?");
                                        dialog.Option("i want to Change my Class.", 1);
                                        dialog.Option("i want to Buy OblivionDew.", 2);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you need to be Seconed Reborn and Lv + 120.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.ConquerPoints >= 150000)
                                    {
                                        client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.Reincarnation, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                        //break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont have 150k cps in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.ConquerPoints >= 2000)
                                    {
                                        dialog.Text("Do you Really want to Buy OblivionDew it cost 2,000 cps");
                                        dialog.Option("Yes.", 3);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont Have 2,000 cps.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.ConquerPoints >= 2000)
                                    {
                                        client.Entity.ConquerPoints -= 2000;
                                        client.Inventory.Add(711083, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont Have 2000 cps in your bag.");
                                        dialog.Option("Why!?", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region TopSpouse Join
                case 2314006:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to join TopSpouse PKWar?.");
                                    dialog.Text("you should make Team and Join your Spouse in it so i can let you Join?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Avatar(422);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    DateTime Now64 = DateTime.Now;
                                    if (Now64.DayOfWeek == DayOfWeek.Friday)
                                    {
                                        if (Now64.Hour == 20 && Now64.Minute >= 00 && Now64.Minute <= 05)
                                        {
                                            if (client.Team != null && client.Team.TeamLeader)
                                            {
                                                if (client.Entity.Body == 1003 || client.Entity.Body == 1004)
                                                {
                                                    if (client.Team.SpouseWarFull)
                                                    {
                                                        Random R = new Random();
                                                        int Nr = R.Next(1, 4);
                                                        if (Nr == 1)
                                                        {
                                                            client.Team.Teammates[0].Entity.Teleport(1090, 51, 73);
                                                            client.Team.Teammates[1].Entity.Teleport(1090, 51, 73);
                                                        }
                                                        if (Nr == 2)
                                                        {
                                                            client.Team.Teammates[0].Entity.Teleport(1090, 67, 34);
                                                            client.Team.Teammates[1].Entity.Teleport(1090, 67, 34);
                                                        }
                                                        if (Nr == 3)
                                                        {
                                                            client.Team.Teammates[0].Entity.Teleport(1090, 40, 50);
                                                            client.Team.Teammates[1].Entity.Teleport(1090, 40, 50);
                                                        }
                                                        if (Nr == 4)
                                                        {
                                                            client.Team.Teammates[0].Entity.Teleport(1090, 68, 57);
                                                            client.Team.Teammates[1].Entity.Teleport(1090, 68, 57);
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, You are not couples");
                                                        dialog.Option("Ahh.", 255);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("TopSpouse Pk War is held during 20:00 to 20:05 and ends 20:30 every Friday");
                                        dialog.Text("and to let you Join you must be Team leader and have your spouse in the team");
                                        dialog.Text(" Note: only you and your Spouse in the Team so you can Join");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region TopSpouse Claim
                case 2314007:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim TopSpouse PKWar reward?.");
                                    dialog.Text("you should be the only man here your claim 1m cps dont forget to give?.");
                                    dialog.Text(" A loveBook to your Spouse and claim halo from here?.");
                                    dialog.Option("ClaimPrize", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.DayOfWeek == DayOfWeek.Friday && DateTime.Now.Hour >= 20 && DateTime.Now.Minute >= 5)
                                    {
                                        Conquer_Online_Server.Game.ConquerStructures.Daily.CheackSpouse();
                                        if (Conquer_Online_Server.Game.ConquerStructures.Daily.howmanyinmap3 == 1)
                                        {
                                            if (client.Team != null)
                                            {
                                                client.Entity.AddTopStatus(Update.Flags.TopSpouse, DateTime.Now.AddDays(7));
                                                client.Entity.Teleport(1002, 300, 278);
                                                GameClient spouse = Program.FindClient(client.Entity.Spouse);
                                                if (spouse != null)
                                                {
                                                    spouse.Entity.AddTopStatus(Update.Flags.TopSpouse, DateTime.Now.AddDays(7));
                                                    spouse.Entity.Teleport(1002, 300, 278);
                                                }
                                                //#warning SPOUSE PK PRIZE ( COUPLES PK )
                                                client.Entity.ConquerPoints += 1000000;
                                                spouse.Entity.ConquerPoints += 1000000;
                                                //client.Inventory.Add(722269, 0, 2);
                                                Kernel.SendWorldMessage(new Message("Congratulations! [" + client.Entity.Name + " & " + spouse.Entity.Name + "] has won the Couples PK for this week.", System.Drawing.Color.White, Message.Center), Program.GamePool);
                                            }
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you can claim TopSpouse Prize if you the last man Here in The Map");
                                        dialog.Option("oh i see!.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Jiang
                   
                case 15745:
                    {
                       
                        switch (npcRequest.OptionID)
                        {
                                
                            case 0:
                                {
                                    dialog.Text("Well, the Jiang Hu is quite chaotic. I`ll test your  understanding with several questions. If you pass, you`re able to name a  skill of your own and start your adventure as a Jiang Hu warrior!");
                                    dialog.Option("Okay.~I`m~ready!", 1);
                                    dialog.Option("Learn~about~the~Jiang~Hu.", 2);
                                    dialog.Option("Upgrate my Jiang Hu", 6);
                                    dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if ((client.Entity.Reborn != 2) || (client.Entity.MyJiang != null))
                                    {
                                        dialog.Text("Sorry, you not have 2nd Reborn, or you are learning Jiang Hu");
                                        dialog.Option("I~see.", 0xff);
                                        dialog.Send();
                                        break;
                                    }
                                    client.Send(new Conquer_Online_Server.Network.GamePackets.Data(true) { UID = client.Entity.UID, ID = 0x7e, dwParam = 0x269, wParam1 = client.Entity.X, wParam2 = client.Entity.Y }.ToArray());
                                    break;
                                }

                            case 2:
                                {
                                    dialog.Text("Being a fighter of the Jiang Hu, you can train your  Inner-strength after activating `Jiang` button at the character window.  Each time you study will cost you 10 Study Points");
                                    dialog.Text("~and 1 Free Course, and will also decrease your Talent  Status by 1. Remember, you can only perform up to 10 free studies in a  day. If you`re at Basic Status, you can only perform extra study with  CPs.");
                                    dialog.Option("How~to~raise~my~Talent~Status?", 3);
                                    dialog.Option("How~to~collect~Free~Courses?", 4);
                                    dialog.Option("What~if~I~want~to~quit?", 5);
                                    dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                    dialog.Send();
                                    break;
                                }
                            case 3:
                                {
                                    dialog.Text("You need to activate the `Jiang` mode, and defeat a player  whose Talent Status is not lower than yours to raise your Status Level  by 1,");
                                    dialog.Text("~up to Level 4.  PK in the `Jiang` mode, win or lose, will only affect your Talent  Status. Different levels of your Status makes your name glow different  colors.");
                                    dialog.Option("Learn~about~other~things.", 2);
                                    dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                    dialog.Send();
                                    break;
                                }

                            case 4:
                                {
                                    dialog.Text("Jiang Hu fighters will gain up to 100 Free Courses by  accumulating the Talent Points over time, whether online or not. The  higher the Talent Status,");
                                    dialog.Text("~the more the Talent Points. While stay online in Twin  City, you`ll receive Talent Points, up to x30 more than received in  other areas.");
                                    dialog.Option("Learn~about~other~things.", 2);
                                    dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                    dialog.Send();
                                    break;
                                }
                            case 5:
                                {
                                    dialog.Text("If you want to leave the Jiang Hu for a while, deactivate  the `Jiang` mode and wait for 10 minutes to quit.");
                                    dialog.Text("~After that, you won`t receive threats from the Jiang Hu  fighters, however, you can`t accumulate Talent Points. Remember, you`re  welcome to return at anytime you want!");
                                    dialog.Option("Learn~about~other~things.", 2);
                                    dialog.Option("I`ll~talk~to~you~later.", 0xff);
                                    dialog.Send();
                                    break;
                                }
                            case 6:
                                {
                                    dialog.Text("I can Make Your Any of Your Jiang Hu Stages Epic Only If you have Brave Medal");
                                    if (!client.Inventory.Contains(722314, 1))
                                    {
                                        dialog.Text("You Done Have Brave Medal");
                                        dialog.Send();
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Input("Stage :", 1 + 6, 1);
                                    }
                                    

                                    // dialog.Option("Stage 5", 5 + 6);
                                    //    dialog.Option("Stage 6", 6 + 6);
                                    //    dialog.Option("Stage 7", 7 + 6);
                                    //    dialog.Option("Stage 8", 8 + 6);
                                    //    dialog.Option("Stage 9", 9 + 6);
                                    dialog.Send();
                                    break;
                                }
                            case 1 + 6:
                                {

                                    if (!client.Inventory.Contains(722314, 1))
                                    {
                                        dialog.Text("You Done Have Brave Medal");
                                        dialog.Send();
                                        break;
                                    }
                                    else
                                    {
                                        inputt = Convert.ToByte(npcRequest.Input);
                                        if (inputt > 9)
                                        {
                                            dialog.Text("Max Stage is 9 !!!");
                                            dialog.Send();
                                            break;
                                        }
                                        else
                                        {
                                            dialog.Option("P-Attack", 2 + 6);
                                            dialog.Option("M-Attack", 3 + 6);
                                            dialog.Option("MaxHp", 4 + 6);
                                            dialog.Option("MaxMana", 5 + 6);
                                            dialog.Option("FinalMagicAttack", 6 + 6);
                                            dialog.Option("AntiBreak", 7 + 6);
                                            dialog.Option("M-Defence", 8 + 6);
                                            dialog.Option("Final-P-Attack", 9 + 6);
                                            dialog.Send();
                                        }
                                    }
                                    break;
                                }
                            case 2 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);

                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.PAttack);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;

                                }
                            case 3 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.MAttack);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 4 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.MaxLife);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 5 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.MaxMana);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 6 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.FinalMagicAttack);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 7 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.Counteraction);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 8 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.Mdefense);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }
                            case 9 + 6:
                                {
                                    if (client.Inventory.Contains(722314, 1))
                                    {
                                        client.Inventory.Remove(722314, 1);
                                        client.Entity.MyJiang.MakeEpicStage(inputt, client, Game.JiangHu.JiangStages.AtributesType.FinalAttack);
                                        client.Entity.MyJiang.SendInfo(client, 5, new string[] { client.Entity.UID.ToString() });
                                        client.Entity.MyJiang.SendStatusMode(client);
                                        client.SendScreen(client.Entity.SpawnPacket, false);
                                    }
                                    else
                                    {
                                        dialog.Text("You Dont have Brave Medal");
                                        dialog.Option("i'll see.", 255);
                                    }
                                    break;
                                }

                        }
                        break;
                    }
                #endregion  
                #region BattleGhost
                case 225584:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("I am the BattleGhost, i can help you to claim Bound Gears for archer if u have?");
                                    dialog.Text("then Pick the Pack you want to Claim, Are You Ready?");
                                    //dialog.Option("Ninja Pack.", 1);
                                    //dialog.Option("Trojan Pack.", 2);
                                    //dialog.Option("Monk Pack.", 3);
                                    dialog.Option("Archer Pack.", 4);
                                    //dialog.Option("FireTaoist Pack.", 5);
                                    //dialog.Option("WaterTaoist Pack.", 6);
                                    //dialog.Option("Warrior Pack.", 7);
                                    //dialog.Option("Pirate Pack.", 8);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this Ninja Pack ?");
                                        dialog.Option("Sure.", 55);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this Trojan Pack ?");
                                        dialog.Option("Sure.", 15);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this Monk Pack ?");
                                        dialog.Option("Sure.", 65);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this Archer Pack ?");
                                        dialog.Option("Sure.", 45);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this FireTaoist Pack ?");
                                        dialog.Option("Sure.", 145);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this WaterTaoist Pack ?");
                                        dialog.Option("Sure.", 135);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 7:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this Warrior Pack ?");
                                        dialog.Option("Sure.", 25);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 8:
                                {
                                    if (client.Inventory.Contains(720356, 1))
                                    {
                                        //(720356, 0, 1);//MerryPack
                                        dialog.Text("are you sure you want this Pirate Pack ?");
                                        dialog.Option("Sure.", 75);
                                        dialog.Option("Wait a minute.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("sorry you dont have MerryPack in your Bag.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }

                            #region BoundItems Trojan
                            case 15:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 117009;//Earrings
                                    uint itemid7 = 130009;//Armor
                                    uint itemid8 = 480019;//Club
                                    uint itemid9 = 410019;//Blade
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained Trojan Pack Have Fun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems Warrior
                            case 25:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 117009;//Earrings
                                    uint itemid7 = 131009;//Armor
                                    uint itemid8 = 480019;//Club
                                    uint itemid9 = 900009;//Shield
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained Warrior Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems Archer
                            case 45:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 117009;//Earrings
                                    uint itemid7 = 133009;//Armor
                                    uint itemid8 = 500009;//Bow
                                    //uint itemid9 = 900009;//Shield
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained Archer Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems Ninja
                            case 55:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 117009;//Earrings
                                    uint itemid7 = 135009;//Armor
                                    uint itemid8 = 601019;//Katana
                                    uint itemid9 = 601019;//Katana
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained Ninja Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems Monk
                            case 65:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 117009;//Earrings
                                    uint itemid7 = 136009;//Armor
                                    uint itemid8 = 610019;//Katana
                                    uint itemid9 = 610019;//Katana
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained Monk Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems WaterTaoist
                            case 135:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 114009;//Cap
                                    uint itemid7 = 134009;//Armor
                                    uint itemid8 = 560019;//Spear
                                    uint itemid9 = 421009;//BackSword
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained WaterTaoist Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems FireTaoist
                            case 145:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 121029;//Bag
                                    uint itemid5 = 152019;//Bracelet
                                    uint itemid6 = 114009;//Cap
                                    uint itemid7 = 134009;//Armor
                                    uint itemid8 = 560019;//Spear
                                    uint itemid9 = 421009;//BackSword
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained FireTaoist Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                            #region BoundItems Pirate
                            case 75:
                                {
                                    uint itemid = 202009;//Tower
                                    uint itemid2 = 201009;//Fan
                                    uint itemid3 = 160019;//Boot
                                    uint itemid4 = 120029;//Necklace
                                    uint itemid5 = 150019;//Ring
                                    uint itemid6 = 117009;//Earrings
                                    uint itemid7 = 139009;//Armor
                                    uint itemid8 = 611019;//Rapier
                                    uint itemid9 = 612019;//Pistol
                                    if (client.Inventory.Count <= 30)
                                    {
                                        if (client.Inventory.Contains(720356, 1))
                                        {
                                            ConquerItem item2 = new ConquerItem(true);
                                            item2.ID = itemid2;
                                            item2.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item2.Bound = true;
                                            item2.Plus = 4;
                                            item2.Durability = item2.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid2].Durability;
                                            client.Inventory.Add(item2, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item3 = new ConquerItem(true);
                                            item3.ID = itemid3;
                                            item3.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item3.Bound = true;
                                            item3.Plus = 4;
                                            item3.Durability = item3.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid3].Durability;
                                            client.Inventory.Add(item3, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item4 = new ConquerItem(true);
                                            item4.ID = itemid4;
                                            item4.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item4.Bound = true;
                                            item4.Plus = 4;
                                            item4.Durability = item4.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid4].Durability;
                                            client.Inventory.Add(item4, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item5 = new ConquerItem(true);
                                            item5.ID = itemid5;
                                            item5.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item5.Bound = true;
                                            item5.Plus = 4;
                                            item5.Durability = item5.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid5].Durability;
                                            client.Inventory.Add(item5, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item6 = new ConquerItem(true);
                                            item6.ID = itemid6;
                                            item6.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item6.Bound = true;
                                            item6.Plus = 4;
                                            item6.Durability = item6.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid6].Durability;
                                            client.Inventory.Add(item6, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item7 = new ConquerItem(true);
                                            item7.ID = itemid7;
                                            item7.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item7.Bound = true;
                                            item7.Plus = 4;
                                            item7.Durability = item7.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid7].Durability;
                                            client.Inventory.Add(item7, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item8 = new ConquerItem(true);
                                            item8.ID = itemid8;
                                            item8.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item8.Bound = true;
                                            item8.Plus = 4;
                                            item8.Durability = item8.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid8].Durability;
                                            client.Inventory.Add(item8, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);

                                            ConquerItem item9 = new ConquerItem(true);
                                            item9.ID = itemid9;
                                            item9.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item9.Bound = true;
                                            item9.Plus = 4;
                                            item9.Durability = item9.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid9].Durability;
                                            client.Inventory.Add(item9, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd);



                                            ConquerItem item = new ConquerItem(true);
                                            item.ID = itemid;
                                            item.Color = Conquer_Online_Server.Game.Enums.Color.White;
                                            item.Bound = true;
                                            item.Plus = 4;
                                            item.Durability = item.MaximDurability = Conquer_Online_Server.Database.ConquerItemInformation.BaseInformations[itemid].Durability;
                                            if (client.Inventory.Add(item, Conquer_Online_Server.Game.Enums.ItemUse.CreateAndAdd))
                                            {
                                                client.Inventory.Remove(720356, 1);
                                                Network.GamePackets.NpcReply npc = new Network.GamePackets.NpcReply(6, "you have obtained Pirate Pack HaveFun in Friends 4 Ever");
                                                npc.OptionID = 255;
                                                client.Send(npc.ToArray());
                                            }
                                            else
                                            {
                                                dialog.Text("You need atleast one free slot in your inventory.");
                                                dialog.Option("Alright.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("sorry you dont have MerryPack in your Bag .");
                                            dialog.Option("Alright.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to make atleast 10 free spots in your inventory.");
                                        dialog.Option("Alright.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region HorseRaceIn
                case 4488521:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + "! The race is held every two hours, on even hours(0,2,4,..). Are you interested in joining the race? You might receive amazing gifts upon reaching the finish line!");
                                    dialog.Option("Yes, please.", 1);
                                    dialog.Option("Open the shop.", 2);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    DateTime now = DateTime.Now;
                                    bool rightHour = now.Hour == 7 || now.Hour == 23;
                                    if (rightHour)
                                    {
                                        if (now.Minute <= 30)
                                        {
                                            if (client.Equipment.Free(ConquerItem.Steed))
                                            {
                                                dialog.Text("You need a horse first.");
                                                dialog.Option("I don't care.", 255);
                                                dialog.Send();
                                                return;
                                            }
                                            if (!client.Spells.ContainsKey(7001))
                                            {
                                                dialog.Text("You need to learn the ride spell first!");
                                                dialog.Option("I don't care.", 255);
                                                dialog.Send();
                                                return;
                                            }
                                            Program.World.SteedRace.Join(client);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("HorseRace is held during HH:44 in every two hours.");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    INpc npc = null;
                                    if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                    {
                                        Data data = new Data(true);
                                        data.ID = Data.OpenWindow;
                                        data.UID = client.Entity.UID;
                                        data.TimeStamp = Time32.Now;
                                        data.dwParam = 464;
                                        data.wParam1 = npc.X;
                                        data.wParam2 = npc.Y;
                                        client.Send(data);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Winner of HorseRace
                case 4488522:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    Program.World.SteedRace.FinishRace(client);
                                    //Daily.CheackAlive();
                                    /*if (DateTime.Now.Minute >= 45 && DateTime.Now.Minute <= 59)
                                    {
                                        if (Game.Tournaments.SteedRace.IsRace)
                                        {
                                            Game.Tournaments.SteedRace.GiveReward(client);
                                            client.Entity.Teleport(1002, 428, 378);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry SteedRace not running Atm so u cant claim any shit!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the Tourment Online");
                                        dialog.Option("okay", 255);
                                        dialog.Send();
                                        break;
                                    }*/
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region DailyPkWar
                case 231400:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Daily PKWar?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    var Now64 = DateTime.Now;
                                    if (Now64.Hour == 4 || Now64.Hour == 10)
                                    {
                                        if (DateTime.Now.Minute >= 00 && DateTime.Now.Minute < 05)
                                        {
                                            client.Entity.Teleport(8877, 150, 162);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Daily Pk War is held between 4:05 and 10:05");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Winner of DailyPk NPC 231500
                case 231500:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    Daily.CheackAlive();
                                    var Now64 = DateTime.Now;
                                    if (Now64.Hour == 4 || Now64.Hour == 10)
                                    {
                                        if (DateTime.Now.Minute >= 5 && DateTime.Now.Minute < 30)
                                        {
                                            if (Daily.howmanyinmap == 1)
                                            {
                                                client.Entity.ConquerPoints += client.DW;
                                                Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize " + client.DW + " ConquerPoints for winning the DailyPk.", System.Drawing.Color.Black, Message.Center), Program.GamePool);
                                                client.Entity.SendSpawn(client, true);
                                                client.Entity.Teleport(1002, 300, 278);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("There are still " + Daily.howmanyinmap + " players in the map kill it first to claim prize!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:05");
                                        dialog.Option("okay", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region topSsAndFb
                case 12271:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {

                                    client.Entity.Update(_String.Effect, "break_start", true);
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the topSsAndFb?.");
                                    dialog.Text("Destroyed for the glory and honor , Destroyed fought to become the most popular of our planet.");
                                    dialog.Option("To glory", 1);
                                    dialog.Option("I'm afraid.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.Minute >= 53 && DateTime.Now.Minute <= 57)
                                    {
                                        client.Entity.Teleport(1506, 110, 110);
                                    }
                                    else
                                    {
                                        dialog.Text("topSsAndFb Pk War is held during xx:43 to xx:57 you have 4 min to signup ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Winner of topSsAndFb
                case 122719:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    client.Entity.Update(_String.Effect, "break_start", true);
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    Daily.CheackAlive8();
                                    if (DateTime.Now.Minute >= 58 && DateTime.Now.Minute <= 59)
                                    {
                                        if (Daily.howmanyinmap2 == 1)
                                        {
                                            //#warning LAST MAN PRIZE
                                            client.Entity.ConquerPoints += Conquer_Online_Server.Database.rates.HourPk;
                                            Game.Flags.Add2Archer(client);
                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize " + Conquer_Online_Server.Database.rates.HourPk + " CPS for winning the SS/Fb Event and Receive halo For this Hour.", System.Drawing.Color.Red, Message.Center), Program.GamePool);
                                            client.Entity.AddFlag2(Conquer_Online_Server.Network.GamePackets.Update.Flags2.Top2Archer);
                                            client.Entity.SendSpawn(client, true);
                                            client.Entity.Teleport(1002, 293, 291);
                                        }
                                        else
                                        {
                                            dialog.Text("There are still " + Daily.howmanyinmap + " players in the map kill it first to claim prize!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after xx:59");
                                        dialog.Option("okay", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region JobCenterSeller
                case 338111:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello, How can I help you ? ");
                                    dialog.Option("YanYangFruit [ 100,000 CPS ]", 1);
                                    dialog.Option("MoonBox [ 10,000 CPS ]", 2);
                                    dialog.Option("EuxeniteOre [ 5,000 CPS ]", 3);
                                    dialog.Option("Emerald [ 5,000 CPS ]", 4);
                                    dialog.Option("MeteorTear [ 10,000 CPS ]", 5);
                                    dialog.Option("Saddle [ 1,000 CPS ]", 8);
                                    dialog.Option("500 StudyPoints [ 50,000 cps ]", 10);
                                    dialog.Option("PerformerCard [ 100,000 CPS ]", 6);
                                    //dialog.Option("1 Orched [ 10 cps ]", 7);
                                    //dialog.Option("Next.", 11);
                                    dialog.Avatar(80);
                                    dialog.Send();
                                    break;
                                }
                            case 11:
                                {
                                    //dialog.Text("Hello, How can I help you?");
                                    //dialog.Option("10 StudyPoints [ 5 CPS ]", 12);
                                    //dialog.Option("50 StudyPoints [ 100 CPS ]", 9);
                                    //dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(80);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.ConquerPoints >= 100000)
                                    {
                                        client.Entity.ConquerPoints -= 100000;
                                        client.Inventory.Add(711188, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 100,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.ConquerPoints >= 10000)
                                    {
                                        client.Entity.ConquerPoints -= 10000;
                                        client.Inventory.Add(721080, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 10,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Entity.ConquerPoints >= 5000)
                                    {
                                        client.Entity.ConquerPoints -= 5000;
                                        client.Inventory.Add(1072031, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 5,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Entity.ConquerPoints >= 5000)
                                    {
                                        client.Entity.ConquerPoints -= 5000;
                                        client.Inventory.Add(1080001, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 5,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Entity.ConquerPoints >= 10000)
                                    {
                                        client.Entity.ConquerPoints -= 10000;
                                        client.Inventory.Add(1088002, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 10,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Entity.ConquerPoints >= 100000)
                                    {
                                        client.Entity.ConquerPoints -= 100000;
                                        client.Inventory.Add(711679, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 100,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 7:
                                {
                                    if (client.Entity.ConquerPoints >= 10)
                                    {
                                        client.Entity.ConquerPoints -= 10;
                                        client.Inventory.Add(753001, 0, 1);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 10 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 8:
                                {
                                    if (client.Entity.ConquerPoints >= 1000)
                                    {
                                        client.Inventory.Add(723903, 0, 1);
                                        client.Entity.ConquerPoints -= 1000;
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 1,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 9:
                                {
                                    if (client.Entity.ConquerPoints >= 100)
                                    {
                                        client.Inventory.Add(720774, 0, 1);
                                        client.Entity.ConquerPoints -= 100;
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 100 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 10:
                                {
                                    if (client.Entity.ConquerPoints >= 50000)
                                    {
                                        client.Inventory.Add(723342, 0, 1);
                                        client.Entity.ConquerPoints -= 50000;
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 50,000 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 12:
                                {
                                    if (client.Entity.ConquerPoints >= 5)
                                    {
                                        client.Inventory.Add(723340, 0, 1);
                                        client.Entity.ConquerPoints -= 5;
                                    }
                                    else
                                    {
                                        dialog.Text("You don't have 5 CPS.");
                                        dialog.Option("Ah, my bad", 255);
                                        dialog.Avatar(80);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Remove Bound
                case 26678:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hellow, you wana remove free for you items for 2k cps? ");
                                    dialog.Option("Headgear. ", 1);
                                    dialog.Option("Necklace/Bag. ", 2);
                                    dialog.Option("Armor. ", 3);
                                    dialog.Option("Weapon. ", 4);
                                    dialog.Option("Shield. ", 5);
                                    dialog.Option("Ring. ", 6);
                                    dialog.Option("Boots. ", 8);
                                    dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(114);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                            case 2:
                            case 3:
                            case 4:
                            case 5:
                            case 6:
                            case 8:
                                {
                                    if (!client.Equipment.Free(npcRequest.OptionID))
                                    {
                                        if (client.Equipment.TryGetItem(npcRequest.OptionID).Bound)
                                        {
                                            if (client.Entity.ConquerPoints >= 2000)
                                            {
                                                client.Entity.ConquerPoints -= 2000;
                                                client.Equipment.TryGetItem(npcRequest.OptionID).Bound = false;
                                                client.Equipment.TryGetItem(npcRequest.OptionID).Send(client);
                                                Database.ConquerItemTable.UpdateBound(client.Equipment.TryGetItem(npcRequest.OptionID));
                                                dialog.Text("Here you are. It's done.");
                                                dialog.Option("Thanks", 255);
                                                dialog.Avatar(114);
                                                dialog.Send();
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry, you need 2000 ConquerPoints");
                                                dialog.Option("Ah ok", 255);
                                                dialog.Avatar(114);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, you item no is Bound");
                                            dialog.Option("Ah yes", 255);
                                            dialog.Avatar(114);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, you don't have this item");
                                        dialog.Option("Ah yes", 255);
                                        dialog.Avatar(114);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region GarmentShop
                case 6002:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    Conquer_Online_Server.Network.GamePackets.Data Data = new Conquer_Online_Server.Network.GamePackets.Data(true);
                                    Data.UID = client.Entity.UID;
                                    Data.ID = 126;
                                    Data.dwParam = 502;
                                    Data.wParam1 = client.Entity.X;
                                    Data.wParam2 = client.Entity.Y;
                                    client.Send(Data);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region AutoInv
                case 6:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    Conquer_Online_Server.Game.ClassPk.CheackAlive();
                                    dialog.Text("Hello there,do you want to claim ClassPk Prize you must be the only one Here to Claim It.");
                                    dialog.Option("ClaimPrize.", 254);
                                    dialog.Option("Just Passing By!", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 254:
                                {
                                    client.Entity.Teleport(1002, 450, 350);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region WeeklyPkWar
                case 2314:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Weekly PKWar?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.DayOfWeek == DayOfWeek.Saturday && (DateTime.Now.Hour == 20 && DateTime.Now.Minute <= 05))
                                    {
                                        Random R = new Random();
                                        int Nr = R.Next(1, 10);
                                        if (Nr == 1) client.Entity.Teleport(1508, 114, 078);
                                        if (Nr == 2) client.Entity.Teleport(1508, 96, 87);
                                        if (Nr == 3) client.Entity.Teleport(1508, 142, 88);
                                        if (Nr == 4) client.Entity.Teleport(1508, 115, 115);
                                        if (Nr == 5) client.Entity.Teleport(1508, 98, 130);
                                        if (Nr == 6) client.Entity.Teleport(1508, 96, 153);
                                        if (Nr == 7) client.Entity.Teleport(1508, 112, 162);
                                        if (Nr == 8) client.Entity.Teleport(1508, 130, 166);
                                        if (Nr == 9) client.Entity.Teleport(1508, 139, 114);
                                        if (Nr == 10) client.Entity.Teleport(1508, 156, 119);
                                    }
                                    else
                                    {
                                        dialog.Text("Weekly Pk War is held during Saturday at 20:00 ");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ElitePk
                case 448582:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Glad to see you! I take it that you haven`t heard of the Elite PK Tournament, have you? No? Aha, please allow me to introduce this exciting event for you! It`s a new PK Tournament that takes place every Friday. You will be divided into four groups, based");
                                    dialog.Text("~on your level. Not only will the top 3 winners of each group receive nice prizes, you will also receive EXP worth 1 EXP Ball and 1000 Honor points for each match you take part in at the end of that round. Do you want to have a go?");

                                    dialog.Option("Tell~me~more~about~the~rules.", 1);
                                    dialog.Option("Sign~me~up!", 3);
                                    //dialog.Option("I~want~to~claim~my~prize!", 5);
                                    dialog.Option("Not~interested.", 255);
                                    dialog.Avatar(26);
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("The Elite PK Tournament begins at 20:00 every Friday night, and players will be divided into four groups, which are the Under 100 group, the 100-119 group, the 120-129 group, and the 130+ group. You can sign up for it");
                                    dialog.Text("~between 19:55 and 19:59. No admittance after the tournament begins. Players should first wait in the Waiting Area, and if you leave the area before your round, you will forfeit your chance. There will be a Knockout round before the Final.");
                                    dialog.Text("~But if there are less than 8 players at the start of the Elite PK Tournament, the Final will be replaced by the Knockout. Each round in the Knockout lasts 3 minutes. At the end of 3 minutes, if no one is killed, the player with a higher score wins.");
                                    dialog.Text("~After you finish your round, you`ll have to wait for all the other players to finish this round to enter the next round.");

                                    dialog.Option("There~is~a~Final?", 2);
                                    dialog.Avatar(26);
                                    break;
                                }
                            case 2:
                                {
                                    dialog.Text("Sure. When there are less than 8 players left in the field, the Final starts. Each round of the Final lasts for 5 minutes. Though all of the Top 8 players will receive nice prizes, the top 3 will earn special prizes! Claim your reward before the next");
                                    dialog.Text("~week`s Elite PK Tournament begins, or you won`t get them. We hope everyone will join this tournament, and so not only will the top 3 winners of each group receive nice prizes, you will also receive EXP worth 1 EXP Ball and 1000 Honor");
                                    dialog.Text("~points for each match you take part in at the end of that match!");

                                    dialog.Option("Sign~me~up!", 3);
                                    dialog.Option("Not~interested.", 255);
                                    dialog.Avatar(26);
                                    break;
                                }
                            case 3:
                                {
                                    if (!ElitePKTournament.SignUp(client))
                                    {
                                        dialog.Text("Please sign up between 16:55 and 16:59 for the Elite PK Tournament.");

                                        dialog.Option("Okay.", 255);
                                        dialog.Avatar(26);
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    int group = client["epk_id"];
                                    var epk = ElitePKTournament.Tournaments[group];
                                    if (epk.State == ElitePK.States.GUI_Top8Ranking && DateTime.Now >= epk.EndDateTime)
                                    {
                                        if (client.Inventory.Count < 40)
                                        {
                                            if (client["epk_prize"] == true)
                                            {
                                                client["epk_prize"] = false;
                                                int rank = 0;
                                                for (; rank < 8; rank++)
                                                    if (epk.Top8[rank].Name == client.Entity.Name)
                                                        break;
                                                if (rank > 3) rank = 3;
                                                client.Inventory.Add((uint)((720726 + group) - 4 * (3 - rank)), 0, 1);
                                                //#warning EPK 7 DAYS NOT 1
                                                if (group == 3)
                                                    client.Entity.AddTopStatus((ulong)(((int)Titles.ElitePKChamption_High) + rank), epk.EndDateTime.AddDays(3));
                                                else
                                                    client.Entity.AddTopStatus((ulong)(((int)Titles.ElitePKChamption_Low) + rank), epk.EndDateTime.AddDays(3));
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("You need atleast one spot free in your inventory!");

                                            dialog.Option("Okay.", 255);
                                            dialog.Avatar(26);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Elite PK Tournament is not yet finished!");

                                        dialog.Option("Okay.", 255);
                                        dialog.Avatar(26);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Poker1
                case 12121200:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    poker2171 Data2 = new poker2171(true);
                                    Data2.show2 = client.Entity.UID;
                                    Data2.show = 1;
                                    Data2.show1 = 4;
                                    Data2.show3 = 8;
                                    client.Send(Data2);
                                    Network.GamePackets.PokerTable Data = new Network.GamePackets.PokerTable();
                                    Data.UID = 101915;
                                    Data.X = client.Entity.X;
                                    Data.Y = client.Entity.Y;
                                    Data.Mesh = 7217967;
                                    Data.TableUID = 3;
                                    Data.BE = 1;
                                    Data.Other = 10000;
                                    client.Send(Data);

                                    break;

                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1002, 300, 278);
                                    break;





                                }
                        }
                        break;
                    }
                #endregion
                #region Skill Soul
                case 3570754:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello friend. I am the Skill Souls master! Have you  imagine if u could change your skills look.");
                                    dialog.Option("Okay, go a head", 1);
                                    dialog.Option("Sorry", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.MyJiang == null)
                                    {
                                        dialog.Text("Sorry You need to be grade 14 or 15 in JiangHu");
                                        dialog.Option("I'll think about it!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    dialog.Text("Choose its new style.");
                                    dialog.Option("Upgrade My Skill Souls", 25);
                                    dialog.Option("I'll think about it!", 255);
                                    dialog.Send();
                                    break;
                                }
                            #region edited by matrix
                            case 25:
                                {
                                    dialog.Text("Choose Skill you want.");
                                    foreach (var s in client.Spells.Values)
                                    {
                                        if (SkillSoul_Allowed.Contains(s.ID))
                                        {
                                            byte ID = (byte)(SkillSoul_Allowed.IndexOf(s.ID) + 2);
                                            if (s.LevelHu < 2)
                                            {
                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                {
                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                    {
                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                        else
                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                    }
                                                    else
                                                    {
                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                        else
                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                    }
                                                }
                                            }
                                            #region New skill Soul
                                            else
                                            {
                                                switch (s.ID)
                                                {
                                                    case 10381:
                                                        {
                                                            if (s.LevelHu < 4)
                                                            {
                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                {
                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                    else
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        break;
                                                    case 1001:
                                                        {
                                                            if (s.LevelHu < 1)
                                                            {
                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                {
                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                    else
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        break;
                                                    case 1046:
                                                    case 1115:
                                                    case 11190:
                                                    case 10415:
                                                    case 1002:
                                                        {
                                                            if (s.LevelHu < 3)
                                                            {
                                                                if (SpellTable.SpellInformations.ContainsKey(s.ID))
                                                                {
                                                                    if (SpellTable.SpellInformations[s.ID].ContainsKey(s.Level))
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][s.Level].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].Name + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][s.Level].ID.ToString() + ", [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                    else
                                                                    {
                                                                        if (SpellTable.SpellInformations[s.ID][0].Name != "")
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].Name + ", [Skill  Soul Level] :" + s.LevelHu, ID);
                                                                        else
                                                                            dialog.Option(SpellTable.SpellInformations[s.ID][0].ID.ToString() + ",  [Skill Soul Level] :" + s.LevelHu, ID);
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        break;

                                                }
                                            }
                                            #endregion New skill Soul
                                        }
                                    }
                                    dialog.Option("Nevermind.", 255);
                                    dialog.Send();
                                    break;
                                }
                            default:
                                {
                                    byte i = (byte)(npcRequest.OptionID - 2);
                                    ushort skill = SkillSoul_Allowed[i];
                                    if (client.Spells.ContainsKey(skill))
                                    {
                                        {
                                            switch (client.Spells[skill].LevelHu)
                                            {
                                                case 0:
                                                    {
                                                        if (client.Entity.MyJiang.Grade < 14)
                                                        {
                                                            dialog.Text("Only Grade 14 or more can learn SkillSoul");
                                                            dialog.Option("Sorry ", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                        if (client.SkillSouls.ContainsKey(skill))
                                                        {
                                                            if (client.SkillSouls[skill] == 1)
                                                            {
                                                                client.Spells[skill].LevelHu++;
                                                                goto Learn;
                                                            }
                                                        }
                                                        uint cost = (uint)((client.Spells[skill].LevelHu + 1) * 2000000);
                                                        if (client.Entity.ConquerPoints >= cost)
                                                        {
                                                            client.Entity.ConquerPoints -= cost;
                                                            client.Spells[skill].LevelHu++;

                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You Don't Have " + cost + "Cps Come When You Have it ");
                                                            dialog.Option("Sorry ", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                    }
                                                    break;
                                                case 1:
                                                    {
                                                        if (client.Entity.MyJiang.Grade != 15)
                                                        {
                                                            dialog.Text("Only Grade 15 Can learn super skill soul");
                                                            dialog.Option("Sorry ", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                        if (client.SkillSouls.ContainsKey(skill))
                                                        {
                                                            if (client.SkillSouls[skill] == 2)
                                                            {
                                                                client.Spells[skill].LevelHu++;
                                                                goto Learn;
                                                            }
                                                        }
                                                        uint cost = (uint)((client.Spells[skill].LevelHu + 1) * 2000000);
                                                        if (client.Entity.ConquerPoints >= cost)
                                                        {
                                                            client.Entity.ConquerPoints -= cost;
                                                            client.Spells[skill].LevelHu++;

                                                        }
                                                        else
                                                        {
                                                            dialog.Text("You Don't Have " + cost + "Cps Come When You Have it ");
                                                            dialog.Option("Sorry ", 255);
                                                            dialog.Send();
                                                            return;
                                                        }
                                                        break;
                                                    }
                                                case 2:
                                                    dialog.Text("Talk to gm if you want to learn epic skill soul");
                                                    dialog.Option("Sorry ", 255);
                                                    dialog.Send();
                                                    return;
                                                case 3:
                                                    {
                                                        dialog.Text("Talk to gm if you want to learn epic skill soul");
                                                        dialog.Option("Sorry ", 255);
                                                        dialog.Send();
                                                        return;
                                                    }
                                            }
                                        Learn:
                                            Network.GamePackets.Data data = new Data(true);
                                            data.UID = client.Entity.UID;
                                            data.dwParam = client.Spells[skill].ID;
                                            data.ID = 109;
                                            client.Send(data);
                                            client.Send(new Spell(true)
                                            {
                                                ID = client.Spells[skill].ID,
                                                Level = client.Spells[skill].Level,
                                                PreviousLevel = client.Spells[skill].PreviousLevel,
                                                Experience = 0,
                                                LevelHu = client.Spells[skill].LevelHu,
                                                Available = true
                                            }.ToArray());
                                            client.Spells[skill].Send(client);
                                            SkillSoulTable.Add(client.Spells[skill], client);
                                            SkillTable.SaveSpells(client);
                                            dialog.Text("you have upgraded your skills :" + client.Spells[skill].ID + " To SkillSoul level" + client.Spells[skill].LevelHu);
                                            dialog.Option("Good Job.", 255);
                                            dialog.Send();
                                        }

                                    }
                                }
                                break;
                            #endregion
                        }
                        break;
                    }
                #endregion
                #region Winner of WeeklyPKWar NPC 2315
                case 2315:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    int alive = 0;
                                    foreach (Conquer_Online_Server.Client.GameClient players in Program.GamePool)
                                        if (players.Entity.MapID == 1508 && (!players.Entity.Dead))
                                            alive++;
                                    if (DateTime.Now.DayOfWeek == DayOfWeek.Saturday && DateTime.Now.Minute >= 25)
                                    {
                                        if (alive == 1)
                                        {
                                            //#warning SERVER WEEKLY PK PRIZE
                                            client.Entity.ConquerPoints += 100000;
                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 100k ConquerPoints for winning the Weekly Pk War and Receive Weekly PkWar Halo.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                            client.Entity.AddTopStatus(Update.Flags.WeeklyPKChampion, DateTime.Now.AddDays(7));
                                            client.Entity.SendSpawn(client, true);
                                            client.Entity.Teleport(1002, 429, 378);
                                            EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after 16:25");
                                        dialog.Option("okay", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region MonthlyPk
                case 2316:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to join the Monthly PKWar?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    var Now64 = DateTime.Now;
                                    if (Program.World.MonthlyPKWar && Now64.Minute < 5)
                                    {
                                        Random R = new Random();
                                        int Nr = R.Next(1, 10);
                                        if (Nr == 1) client.Entity.Teleport(1518, 114, 078);
                                        if (Nr == 2) client.Entity.Teleport(1518, 96, 87);
                                        if (Nr == 3) client.Entity.Teleport(1518, 142, 88);
                                        if (Nr == 4) client.Entity.Teleport(1518, 115, 115);
                                        if (Nr == 5) client.Entity.Teleport(1518, 98, 130);
                                        if (Nr == 6) client.Entity.Teleport(1518, 96, 153);
                                        if (Nr == 7) client.Entity.Teleport(1518, 112, 162);
                                        if (Nr == 8) client.Entity.Teleport(1518, 130, 166);
                                        if (Nr == 9) client.Entity.Teleport(1518, 139, 114);
                                        if (Nr == 10) client.Entity.Teleport(1518, 156, 119);
                                    }
                                    else
                                    {
                                        dialog.Text("You may sign up during the first 5 minutes of the event! Monthly Pk War is held during the first Sunday of each month! This month's is held on " + Program.World.MonthlyPKDate.ToString("dd MMMM yyyy") + " at 22:00. Next month is held on " + Program.World.NextMonthlyPKDate.ToString("dd MMMM yyyy") + ".");
                                        dialog.Option("I don't care.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region SkillTeamWar
                case 442777:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to Join SkillTeam War?.");
                                    dialog.Text("you can but Btw " + Game.shekoSkillWar.time + ":05 to " + Game.shekoSkillWar.time + ":30, Every day there is 2 teams Red/Yellow with 3 Rounds ");
                                    dialog.Text("10 from each team will play toghter best team in Points will win and other will join");
                                    dialog.Text(" and winner team will stay in the map and when it end winners will gain " + Database.rates.SkillTeam + " Cps!");
                                    dialog.Option("Let me Join", 1);
                                    dialog.Option("Just Passing By!", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.Hour == Game.shekoSkillWar.time && DateTime.Now.Minute >= 00 && DateTime.Now.Minute < 30)
                                    {

                                        if (Game.shekoSkillWar.Started == true && Game.shekoSkillWar.SignUP == true)
                                        {
                                            if (client.SkillTeamJoin != true)
                                            {
                                                if (Game.shekoSkillWar.YTeamNum == 10 && Game.shekoSkillWar.RTeamNum == 10)
                                                {
                                                    Game.shekoSkillWar.SignUP = false;
                                                    //Game.shekoSkillWar.Round += 1;
                                                    Game.shekoSkillWar.StartAt = Time32.Now;
                                                    Game.shekoSkillWar.EndAt = Time32.Now.AddMinutes(10);
                                                }
                                                else
                                                {
                                                    client.Entity.Hitpoints = 5;
                                                    uint UID = 1;
                                                    // uint GarmID = 191305;
                                                    if (Game.shekoSkillWar.GarmID == 191305 && Game.shekoSkillWar.YTeamNum < 10)//YTeam
                                                    {
                                                        #region Equip
                                                        //GarmID = 181325;
                                                        Game.shekoSkillWar.GarmID = 191405;
                                                        ConquerItem newItem = new ConquerItem(true);
                                                        newItem.ID = Game.shekoSkillWar.GarmID;
                                                        newItem.UID = UID;
                                                        newItem.Durability = 1000;
                                                        newItem.MaximDurability = 1000;
                                                        newItem.Position = 9;
                                                        //client.Inventory.Add(newItem, Game.Enums.ItemUse.CreateAndAdd);
                                                        client.Equipment.Remove(9);
                                                        if (client.Equipment.Objects[8] != null)
                                                            client.Equipment.Objects[8] = null;
                                                        client.Equipment.Add(newItem);
                                                        newItem.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                        newItem.Send(client);
                                                        #endregion
                                                        ClientEquip equips = new ClientEquip();
                                                        equips.DoEquips(client);
                                                        client.Send(equips);
                                                        if (!client.AlternateEquipment)
                                                        {
                                                            client.Equipment.UpdateEntityPacket();
                                                        }
                                                        else
                                                        {
                                                            //  client.Equipment.UpdateEntityPacket2();
                                                        }

                                                        Game.shekoSkillWar.YTeamNum += 1;
                                                        client.SkillTeamJoin = true;
                                                        client.Entity.Teleport((ushort)Game.shekoSkillWar.MapID, 44, 49);
                                                        client.YellowOn = true;
                                                        dialog.Text("You have been signed up for <SkillTeamWar> <Team Yellow>");
                                                        dialog.Send();
                                                        break;
                                                    }
                                                    if (Game.shekoSkillWar.GarmID == 191405 && Game.shekoSkillWar.RTeamNum < 10)//YTeam
                                                    {
                                                        #region Equip
                                                        //Item Garment = client.Entity.Equips.Get(9);
                                                        //Garment.ID = 181325;
                                                        Game.shekoSkillWar.GarmID = 191305;
                                                        ConquerItem newItem = new Conquer_Online_Server.Network.GamePackets.ConquerItem(true);
                                                        newItem.ID = Game.shekoSkillWar.GarmID;
                                                        newItem.UID = UID;
                                                        newItem.Durability = 1000;
                                                        newItem.MaximDurability = 1000;
                                                        newItem.Position = 9;
                                                        //client.Inventory.Add(newItem, Game.Enums.ItemUse.CreateAndAdd);
                                                        client.Equipment.Remove(9);
                                                        if (client.Equipment.Objects[8] != null)
                                                            client.Equipment.Objects[8] = null;
                                                        client.Equipment.Add(newItem);
                                                        newItem.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                                        newItem.Send(client);
                                                        #endregion
                                                        ClientEquip equips = new ClientEquip();
                                                        equips.DoEquips(client);
                                                        client.Send(equips);
                                                        if (!client.AlternateEquipment)
                                                        {
                                                            client.Equipment.UpdateEntityPacket();
                                                        }
                                                        else
                                                        {
                                                            //    client.Equipment.UpdateEntityPacket2();
                                                        }

                                                        Game.shekoSkillWar.RTeamNum += 1;
                                                        client.SkillTeamJoin = true;
                                                        client.Entity.Teleport(7009, 44, 49);
                                                        client.RedOn = true;
                                                        dialog.Text("You have been signed up for <SkillTeamWar> <Team Red>");
                                                        dialog.Send();
                                                        break;
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("You already Joined skill team war once Cant join again");
                                                dialog.Send();
                                                break;
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry there is already 2 teams in the map wait next signup time ;)");
                                            dialog.Option("Thanks!", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to wait until time become " + Game.shekoSkillWar.time + ":00 to signup");
                                        dialog.Option("Thanks!", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Winner of MonthlyPk NPC 2315
                case 2317:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hey there " + client.Entity.Name + " Would you like to claim your Prize?.");
                                    dialog.Option("Yes Please", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    int alive = 0;
                                    foreach (Conquer_Online_Server.Client.GameClient players in Program.GamePool)
                                        if (players.Entity.MapID == 1518 && (!players.Entity.Dead))
                                            alive++;
                                    var Now64 = DateTime.Now;
                                    if (Now64.DayOfWeek == DayOfWeek.Sunday && Now64.Hour >= 22 && Now64.Minute >= 5)
                                    {
                                        if (alive == 1)
                                        {
                                            //#warning MONTHLY PK PRIZE
                                            client.Entity.ConquerPoints += Conquer_Online_Server.Database.rates.MonthlyPk;
                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize 20k ConquerPoints for winning the Monthly Pk War and Receive Monthly PkWar Halo.", System.Drawing.Color.Black, Message.Talk), Program.GamePool);
                                            client.Entity.AddTopStatus(Update.Flags.MonthlyPKChampion, DateTime.Now.AddDays(30));
                                            client.Entity.SendSpawn(client, true);
                                            client.Entity.Teleport(1002, 429, 378);
                                            EntityTable.SaveEntity(client);
                                        }
                                        else
                                        {
                                            dialog.Text("There are still " + alive + " players in the map kill it first to claim prize!");
                                            dialog.Option("okay", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hey there " + client.Entity.Name + "You can only claim the prize when the time on or after 14:25");
                                        dialog.Option("okay", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region GameHaker-PM- A.G.S Coder
                case 131313:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hi " + client.Entity.Name + "!, Iam letter man, So you can help me?");
                                    dialog.Option("Yes,sure.", 1);
                                    dialog.Option("Give me Awards.", 2);
                                    dialog.Option("Sorry, Ican't.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Thank you for help" + client.Entity.Name + "!, ok go to and kill TwinCity monster to attend this later [C,O,N,Q,U,E,R] If you are lucky you will get No. 7 in order to maximize your profits.");
                                    dialog.Option("Lets Go.", 255);
                                    dialog.Option("Sorry, Ican't", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.Level >= 130)//C
                                    {
                                        if (client.Entity.Quest == 0)//C
                                        {
                                            dialog.Text("Good job man you are strong man ,So What brought?");
                                            dialog.Option("C,O,N,Q,U,E,R", 3);
                                            dialog.Option("C,O,N,Q,U,E,R,7", 4);
                                            dialog.Option("Has not brought anything.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                        else
                                        {
                                            dialog.Text("You already finished this quest 1 time today come again tomorow");
                                            dialog.Option("Oh,sorry.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You need to be atleast level 130 so you can start the quest");
                                        dialog.Option("Oh,sorry.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Inventory.Contains(711214, 1))//C
                                        if (client.Inventory.Contains(711215, 1))//O
                                            if (client.Inventory.Contains(711216, 1))//N
                                                if (client.Inventory.Contains(711217, 1))//Q
                                                    if (client.Inventory.Contains(711218, 1))//U
                                                        if (client.Inventory.Contains(711219, 1))//E
                                                            if (client.Inventory.Contains(711220, 1))//R
                                                            {
                                                                client.Inventory.Remove(711214, 1);
                                                                client.Inventory.Remove(711215, 1);
                                                                client.Inventory.Remove(711216, 1);
                                                                client.Inventory.Remove(711217, 1);
                                                                client.Inventory.Remove(711218, 1);
                                                                client.Inventory.Remove(711219, 1);
                                                                client.Inventory.Remove(711220, 1);
                                                                client.Entity.ConquerPoints += 1500;
                                                                client.Entity.Quest += 1;
                                                                Conquer_Online_Server.Network.PacketHandler.WorldMessage("Congratulations! " + client.Entity.Name + "! Give Letter C,O,N,Q,U,E,R And Get 1,000 CPS");
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't have letter [C,O,Q,U,E,R] or you done the quest 1 time today");
                                                                dialog.Option("Ahh sorry.", 255);
                                                            }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Inventory.Contains(711215, 1))//O
                                        if (client.Inventory.Contains(711216, 1))//N
                                            if (client.Inventory.Contains(711217, 1))//Q
                                                if (client.Inventory.Contains(711218, 1))//U
                                                    if (client.Inventory.Contains(711219, 1))//E
                                                        if (client.Inventory.Contains(711220, 1))//R
                                                            if (client.Inventory.Contains(711221, 1))//X
                                                            {
                                                                client.Inventory.Remove(711214, 1);
                                                                client.Inventory.Remove(711215, 1);
                                                                client.Inventory.Remove(711216, 1);
                                                                client.Inventory.Remove(711217, 1);
                                                                client.Inventory.Remove(711218, 1);
                                                                client.Inventory.Remove(711219, 1);
                                                                client.Inventory.Remove(711220, 1);
                                                                client.Inventory.Remove(711221, 1);
                                                                client.Entity.ConquerPoints += 2000;
                                                                client.Entity.Quest += 1;
                                                                Conquer_Online_Server.Network.PacketHandler.WorldMessage("Congratulations! " + client.Entity.Name + "! Give Letter C,O,N,Q,U,E,R,7 And Get 2,000 CPS");
                                                            }
                                                            else
                                                            {
                                                                dialog.Text("You don't have letter [C,O,Q,U,E,R,7] or you done the quest 1 time today");
                                                                dialog.Option("Ahh sorry.", 255);
                                                            }
                                    break;

                                }
                        }
                        break;
                    }
                #endregion
                #region SolarSaint
                case 3215:
                    {
                        if (npcRequest.OptionID == 0)
                        {
                            dialog.Text("Our ancestors exerted their utmost efforts and defeathed the demons. Since");
                            dialog.Text(" then the world has been kept in peace for hundreads of years. Now the");
                            dialog.Text(" demons have come back and the world is getting into turbulence again.");
                            dialog.Option("Could you tell me more?", 1);
                            dialog.Option("I am here to drive away the evils!", 2);
                            dialog.Option("I'd better leave.", 255);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 1)
                        {
                            dialog.Text("The decisive battle bewtween human and the demon broke out here. The");
                            dialog.Text(" ferocious battle lasted for seven days and nights. Countless heroes lost their");
                            dialog.Text(" lives. And the justice won. Afterwards we can live in peace for hundreads of");
                            dialog.Text(" years.");
                            dialog.Option("And then?", 3);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 3)
                        {
                            dialog.Text("UltimatePluto, leader of the demons sworn to take revenge in one thousand");
                            dialog.Text(" years befote he managed to run away. To prevent the demons coming back, I");
                            dialog.Text(" have been scouting their land cautiously. Yesterday I found something");
                            dialog.Text(" unwanted. It seems that UltimatePluto had come round to endanger humans");
                            dialog.Text(" again.");
                            dialog.Option("What should we do?", 4);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 4)
                        {
                            dialog.Text("Fortunately UltimatePluto is still unfledged. He must resort to a Battle");
                            dialog.Text(" Formation for the moments. So i am about to organize an army too infiltrate his");
                            dialog.Text(" land and destroy his formation before he becomes stronger.");
                            dialog.Option("I'll join you.", 2);
                            dialog.Option("I'd like to know more.", 5);
                            dialog.Option("Sigh, I'm helpless.", 255);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 5)
                        {
                            dialog.Text("You must kill UltimatePluto rapisly to get Darkhorn so that i can use it to");
                            dialog.Text(" diable the formation. Before you can do that, you must break into HellGate,");
                            dialog.Text(" enter the HellHall, and fight through the HellCloister. Countless ferocious");
                            dialog.Text(" demons are watching those strongholds. I'll give you some strategies on");
                            dialog.Text(" breaking through those fortresses if you like.");
                            dialog.Option("I want to know HellGate", 6);
                            dialog.Option("I want to know HellHall", 7);
                            dialog.Option("I want to know HellCloister", 8);
                            dialog.Option("I want to know BattleFormation", 9);
                            dialog.Option("Thanks. I know what to do.", 255);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 6) //HellGate info
                        {
                            dialog.Text("HellGate is shielded from poisonous fog, so you can't approach it. But");
                            dialog.Text(" demons do not fear the gas. They may turn into soulstones after they die. If");
                            dialog.Text(" you get 5 stones for me, i'll help you break through the gate. To protect");
                            dialog.Text(" the unrealted persons, i'll send the others back as soon as the first 60");
                            dialog.Text(" persons pass through the gate.");
                            dialog.Option("Thank you.", 255);
                            dialog.Option("I'd like to know more", 5);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 7) //HellHall info
                        {
                            dialog.Text("HellHall is the very spot where the demons swear their oaths of allegiance to");
                            dialog.Text(" UltimatePluto. Everybody must do his best to make a way out. Due to limited");
                            dialog.Text(" time, i can lead only 30 persons to hellCloister!");
                            dialog.Option("Thanks", 255);
                            dialog.Option("I'd like to know more.", 5);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 8) //Hell Cloister info
                        {
                            dialog.Text("You will be divided into 2 groups to attack from the left and the right flank of");
                            dialog.Text(" HellCloister. Kill the Wraithas many as you can, because you can't reach");
                            dialog.Text(" BattleFormation untill the amount of wraith is decreased to a certain level.");
                            dialog.Option("Thank you.", 255);
                            dialog.Option("I'd like to know more.", 5);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 9) //Battle Formation info
                        {
                            dialog.Text("BattleFormation is protected by Syrens. After they are killed out,");
                            dialog.Text(" UltimatePluto will appear. Make the best effort to kill him, get his Darkhorn");
                            dialog.Text(" and give it to me. I can disable the BattleFormation with it. Then i'll send you");
                            dialog.Text(" back. But if you fail to do it, we have to retreat and wait for another opportunity");
                            dialog.Option("Thanks.", 255);
                            dialog.Option("I'd like to know more.", 5);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 2)
                        {
                            if (Conquer_Online_Server.Game.Features.DisCity.Signup == true)
                            {
                                if (client.Entity.Level >= 110)
                                {
                                    Random Rand = new Random();
                                    int dis = Rand.Next(1, 10);
                                    if (dis == 1) { client.Entity.Teleport(4021, 291, 475); }
                                    if (dis == 2) { client.Entity.Teleport(4021, 335, 345); }
                                    if (dis == 3) { client.Entity.Teleport(4021, 198, 355); }
                                    if (dis == 4) { client.Entity.Teleport(4021, 246, 326); }
                                    if (dis == 5) { client.Entity.Teleport(4021, 321, 372); }
                                    if (dis == 6) { client.Entity.Teleport(4021, 315, 280); }
                                    if (dis == 7) { client.Entity.Teleport(4021, 281, 302); }
                                    if (dis == 8) { client.Entity.Teleport(4021, 221, 202); }
                                    if (dis == 9) { client.Entity.Teleport(4021, 173, 214); }
                                    if (dis == 10) { client.Entity.Teleport(4021, 211, 255); }
                                    client.Time(0);
                                }
                                else
                                {
                                    dialog.Text("Sorry, you are too weak to fight those monsters, go get level 110 and talk to me later.");
                                    dialog.Option("Okay, I will!", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                dialog.Text("Sorry, but the dis city quest is off!");
                                dialog.Option("OK, I see.", 255);
                                dialog.Avatar(0);
                                dialog.Send();
                            }
                        }
                        break;
                    }
                #endregion
                #region DisCity Stage 1
                case 1110:
                    {
                        if (npcRequest.OptionID == 0)
                        {
                            dialog.Text("Hello! You need 5 soulstones to finish Stage 1, and I'll teleport you to Stage2.");
                            dialog.Option("here you are", 1);
                            dialog.Option("Sorry, I'll be back", 255);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        else if (npcRequest.OptionID == 1)
                        {
                            if (client.Inventory.Contains(723085, 5))
                            {
                                if (Conquer_Online_Server.Game.Features.DisCity.DisMax1 < 60)
                                {
                                    client.Entity.Teleport(4022, 240, 340);


                                    Conquer_Online_Server.Game.Features.DisCity.DisMax1 += 1;
                                    Conquer_Online_Server.Kernel.SendWorldMessage(new Conquer_Online_Server.Network.GamePackets.Message("Congratulations! " + client.Entity.Name + " Has Enterd 2nd Stage in DisCity and Rank Num " + Conquer_Online_Server.Game.Features.DisCity.DisMax1 + "!", System.Drawing.Color.White, 2011), Program.GamePool);
                                    client.Entity.DisQuest = true;
                                    client.Inventory.Remove(723085, 1);
                                    client.Inventory.Remove(723085, 1);
                                    client.Inventory.Remove(723085, 1);
                                    client.Inventory.Remove(723085, 1);
                                    client.Inventory.Remove(723085, 1);

                                    if (Conquer_Online_Server.Game.Features.DisCity.DisMax1 == 60)
                                    {
                                        if (client.Entity.MapID == 4021)
                                        {
                                            client.Entity.Teleport(1020, 533, 483);
                                            dialog.Text("You didn't make it to the next floor in time.");
                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Conquer_Online_Server.Network.GamePackets.Message(" All Players of Dis City Stage 1 has teleported to TwinCity!", System.Drawing.Color.White, 2011), Program.GamePool);
                                        }
                                    }
                                    //Features.discity.Stage3();
                                }
                                else
                                {
                                    dialog.Text(" Sorry, you have missed your chance to enter the next floor of Dis City.");
                                    dialog.Option("Darn!", 1);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                dialog.Text(" Sorry, you don't have 5 soulstones.");
                                dialog.Option("Ok, I'll be back", 1);
                                dialog.Avatar(0);
                                dialog.Send();
                            }

                        }
                        break;
                    }
                #endregion
                #region DisCity Stage 2
                case 4011:
                    {
                        if (npcRequest.OptionID == 0)
                        {
                            dialog.Text("Hello, can you help me? If you kill the required monsters I desire you can win some EXP.");
                            dialog.Option("Sounds good, how many do I kill?", 1);
                            dialog.Option("No thanks.", 255);
                            dialog.Avatar(0);
                            dialog.Send();
                        }
                        if (npcRequest.OptionID == 3)
                        {
                            if (Conquer_Online_Server.Game.Features.DisCity.DisMax2 < 30)
                            {
                                client.Entity.DisQuest = false;
                                client.Entity.DisKO = 0;
                                Conquer_Online_Server.Game.Features.DisCity.DisMax2++;
                                Conquer_Online_Server.Game.Features.DisCity.DisMax3++;
                                client.Entity.Teleport(4023, 316, 635);
                                Conquer_Online_Server.Kernel.SendWorldMessage(new Conquer_Online_Server.Network.GamePackets.Message("Congratulations! " + client.Entity.Name + " Has Enterd 3rd Stage in DisCity and Rank Num " + Conquer_Online_Server.Game.Features.DisCity.DisMax2 + "!", System.Drawing.Color.White, 2011), Program.GamePool);

                                if (Conquer_Online_Server.Game.Features.DisCity.DisMax2 == 30)
                                {
                                    if (client.Entity.MapID == 4022)
                                    {
                                        client.Entity.Teleport(1020, 533, 483);
                                        dialog.Text("You didn't make it to the next floor in time.");
                                        Conquer_Online_Server.Kernel.SendWorldMessage(new Conquer_Online_Server.Network.GamePackets.Message(" All Players of Dis City Stage 2 has teleported to TwinCity!", System.Drawing.Color.White, 2011), Program.GamePool);
                                    }
                                }
                                //  Features.discity.Stage3();
                            }
                            else
                            {
                                dialog.Text(" Sorry, missed your chance to enter the next floor of Dis City. ");
                                dialog.Option("Darn!", 1);
                                dialog.Avatar(0);
                                dialog.Send();
                            }

                        }
                        if (npcRequest.OptionID == 1)
                        {
                            if (client.Entity.Class >= 10 && client.Entity.Class <= 15)
                            {
                                if (client.Entity.DisKO >= 800)
                                {
                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 800 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No thanks.", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 20 && client.Entity.Class <= 25)
                            {
                                if (client.Entity.DisKO >= 900)
                                {
                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 900 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 40 && client.Entity.Class <= 45)
                            {
                                if (client.Entity.DisKO >= 1300)
                                {

                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 1300 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 60 && client.Entity.Class <= 65)
                            {
                                if (client.Entity.DisKO >= 700)
                                {

                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 700 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 132 && client.Entity.Class <= 135)
                            {
                                if (client.Entity.DisKO >= 600)
                                {
                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 600 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 50 && client.Entity.Class <= 55)
                            {
                                if (client.Entity.DisKO >= 900)
                                {
                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 900 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 142 && client.Entity.Class <= 145)
                            {
                                if (client.Entity.DisKO >= 1000)
                                {
                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();

                                }
                                else
                                {
                                    dialog.Text("You need to kill 1000 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }
                            else if (client.Entity.Class >= 70 && client.Entity.Class <= 75)
                            {
                                if (client.Entity.DisKO >= 900)
                                {
                                    dialog.Text("Which Flank are you going to attack from?");
                                    dialog.Option("Right.", 3);
                                    dialog.Option("Left.", 3);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You need to kill 900 Monsters ");
                                    dialog.Option("Alright.", 255);
                                    dialog.Option("No Thanks", 255);
                                    dialog.Avatar(0);
                                    dialog.Send();
                                }
                            }

                        }
                        break;
                    }
                #endregion
                #region ClassPkEnvoy
                case 705:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    var tournament = Game.KillTournament.Select(client, World.ClassPKMapBase);
                                    if (tournament != null)
                                    {
                                        dialog.Text("Hello there! I am the keeper of the Class PK tournament. Would you like to join, while it is still on going? You might aswell read the rules!");
                                        dialog.Option("Yes, sign me up!", 1);
                                        dialog.Option("There are rules?", 2);
                                        dialog.Option("No", 255);
                                    }
                                    else
                                    {
                                        dialog.Text("Hello there! I am the keeper of the Class PK tournament. The tournament is on at 22:00, every Monday, for all classes at the same time. You might aswell read the rules!");
                                        dialog.Option("There are rules?", 2);
                                        dialog.Option("Ahh", 255);
                                    }
                                    break;
                                }
                            case 1:
                                {
                                    var tournament = Game.KillTournament.Select(client, World.ClassPKMapBase);
                                    if (tournament != null) tournament.Join(client);
                                    else
                                    {
                                        dialog.Text("The tournament is off now! The tournament is on at 22:00, every Monday, for all classes at the same time. You might aswell read the rules!");
                                        dialog.Option("There are rules?", 2);
                                        dialog.Option("Ahh", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    dialog.Text("There are no actual rules. After the tournament there is a minute in which you are not able to damage anyone. Once that minute passes, the last man standing wins. You are able to use any skills or spells to win. Good luck!");
                                    dialog.Option("Oh, okay.", 255);
                                    dialog.Option("Back.", 0);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region QuarantineInvite
                case 54236:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (Conquer_Online_Server.Game.Quarantine.Started)
                                    {
                                        dialog.Text("The quarantine tournament has now started!");
                                        dialog.Text("You will get divided into two teams, black and white, and ");
                                        dialog.Text("must eliminate the other. Only fastblade/scentsword is allowed!");
                                        dialog.Option("Let me join!", 1);
                                        dialog.Option("Not intrested", 255);
                                    }
                                    else
                                    {
                                        dialog.Text("The quarantine tournament is not active");
                                        dialog.Option("I see", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Equipment.Free(3))
                                    {
                                        dialog.Text("You need to wear an armor that can be colored.");
                                        dialog.Option("I see", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    uint UID = 92000, ID = 0;
                                    if (Quarantine.Black.Count > Quarantine.White.Count)
                                    {
                                        Quarantine.White.Add(client.Entity.UID, client);
                                        UID += (uint)Quarantine.White.Count + (uint)Kernel.Random.Next(1, 1000);
                                        client.Entity.Teleport(1844, 114, 163);
                                    }
                                    else
                                    {
                                        Quarantine.Black.Add(client.Entity.UID, client);
                                        UID += (uint)Quarantine.Black.Count + (uint)Kernel.Random.Next(1, 1000);
                                        ID = 200;
                                        client.Entity.Teleport(1844, 225, 162);
                                    }

                                    ConquerItem newItem = new Conquer_Online_Server.Network.GamePackets.ConquerItem(true);
                                    newItem.ID = 181315 + ID;
                                    newItem.UID = UID;
                                    newItem.Durability = 1000;
                                    newItem.MaximDurability = 1000;
                                    newItem.Position = 9;
                                    client.Equipment.Remove(9);
                                    if (client.Equipment.Objects[8] != null)
                                        client.Equipment.Objects[8] = null;
                                    client.Equipment.Add(newItem);
                                    newItem.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                    newItem.Send(client);
                                    ClientEquip equips = new ClientEquip();
                                    equips.DoEquips(client);
                                    client.Send(equips);
                                    client.Equipment.UpdateEntityPacket();

                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region TeamDeathMatch
                case 54239:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.Entity.Tournament_Signed == false)
                                    {
                                        var time = DateTime.Now;
                                        if ((time.Hour % 12) == 4 && time.Minute == 15)
                                        {
                                            dialog.Text("The TeamDeathMatch tournament has now started!");
                                            dialog.Text("You will get divided into 4 teams, black and white , blue and red, and ");
                                            dialog.Text("must eliminate the other. Only fastblade/scentsword is allowed!");
                                            dialog.Option("Let me join!", 1);
                                            dialog.Option("Not intrested", 255);
                                        }
                                        else
                                        {
                                            dialog.Text("The TeamDeathMatch  tournament is not active");
                                            dialog.Option("I see", 255);
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You already Signed in TeamDeathMatch");
                                        dialog.Option("I see", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (!client.Spells.ContainsKey(1045) && !client.Spells.ContainsKey(1046))
                                    {
                                        dialog.Text("You need to learn FastBlade or ScentSword first!");
                                        dialog.Option("I see", 255);
                                        dialog.Send();
                                        return;
                                    }
                                    //181515 BlackElegance
                                    //181615 RedElegance
                                    //181815 BlueElegance
                                    //181315 WhiteElegence
                                    if (client.Entity.Tournament_Signed == false)
                                    {
                                        var time = DateTime.Now;
                                        if ((time.Hour % 12) == 4 && time.Minute == 15)
                                        {
                                            Random r = new Random();
                                            int Team = r.Next(1, 8);
                                            if (Team == 1 || Team == 2)
                                            {
                                                client.BackupArmorLook = client.ArmorLook;
                                                client.SetNewArmorLook(181325);

                                                //client.Entity.CurHP = 1;
                                                client.Entity.Tournament_Signed = true;
                                                client.Entity.TeamDeathMatch_WhiteTeam = true;
                                                client.Entity.TeamDeathMatch_Hits = 0;

                                                dialog.Text("You have been signed up for <TeamDeathMatch> <Team White>");
                                                //GC.AddSend(Packets.NPCSetFace(0));
                                                //GC.AddSend(Packets.NPCFinish());
                                            }
                                            if (Team == 3 || Team == 4)
                                            {
                                                client.BackupArmorLook = client.ArmorLook;
                                                client.SetNewArmorLook(181525);


                                                //client.Entity.CurHP = 1;
                                                client.Entity.Tournament_Signed = true;
                                                client.Entity.TeamDeathMatch_BlackTeam = true;
                                                client.Entity.TeamDeathMatch_Hits = 0;

                                                dialog.Text("You have been signed up for <TeamDeathMatch> <Team Black>");
                                                //GC.AddSend(Packets.NPCSetFace(0));
                                                //GC.AddSend(Packets.NPCFinish());
                                            }
                                            if (Team == 5 || Team == 6)
                                            {
                                                client.BackupArmorLook = client.ArmorLook;
                                                client.SetNewArmorLook(181825);


                                                //client.Entity.CurHP = 1;
                                                client.Entity.Tournament_Signed = true;
                                                client.Entity.TeamDeathMatch_BlueTeam = true;
                                                client.Entity.TeamDeathMatch_Hits = 0;

                                                dialog.Text("You have been signed up for <TeamDeathMatch> <Team Blue>");
                                                //GC.AddSend(Packets.NPCSetFace(0));
                                                //GC.AddSend(Packets.NPCFinish());
                                            }
                                            if (Team == 7 || Team == 8)
                                            {
                                                client.BackupArmorLook = client.ArmorLook;
                                                client.SetNewArmorLook(181625);


                                                //client.Entity.CurHP = 1;
                                                client.Entity.Tournament_Signed = true;
                                                client.Entity.TeamDeathMatch_RedTeam = true;
                                                client.Entity.TeamDeathMatch_Hits = 0;

                                                dialog.Text("You have been signed up for <TeamDeathMatch> <Team Red>");
                                                //GC.AddSend(Packets.NPCSetFace(0));
                                                //GC.AddSend(Packets.NPCFinish());
                                            }
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("You are already signed up for this tournament!");
                                        dialog.Option("I see.", 255);
                                        //GC.AddSend(Packets.NPCSetFace(67));
                                        //GC.AddSend(Packets.NPCFinish());
                                    }
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region KillTheTerrorist
                case 54237:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (Conquer_Online_Server.Game.KillTheTerrorist.IsOn == true)
                                    {
                                        dialog.Text("The KillTheTerrorist tournament has now started!");
                                        dialog.Text("You need to kill the Terrorist and stay the Terrorist till the end ");
                                        dialog.Option("Let me join!", 1);
                                        dialog.Option("Not intrested", 255);
                                    }
                                    else
                                    {
                                        dialog.Text("The KillTheTerrorist tournament is not active");
                                        dialog.Option("I see", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.Minute == 30)
                                    {
                                        if (Conquer_Online_Server.Game.KillTheTerrorist.Terrorist == false)
                                        {
                                            Conquer_Online_Server.Game.KillTheTerrorist.Terrorist = true;
                                            client.Entity.KillTheTerrorist_IsTerrorist = true;
                                            client.Entity.Tournament_Signed = true;
                                        }
                                        else
                                        {
                                            client.Entity.Tournament_Signed = true;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("you can only SignUp when time be xx:30  and Then Autoinvite will take you to The Map At xx:31");
                                        dialog.Option("I see", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Warden
                case 10082:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.Entity.PKPoints > 99)
                                    {
                                        dialog.Text("sorry i cant let you leave till you be less than 99 pk or");
                                        dialog.Text("You need to Pay 1k cps to let you leave now ! do you want to pay? ");
                                        dialog.Option("Yes i wana leave!", 2);
                                        dialog.Option("Not intrested", 255);
                                    }
                                    else
                                    {
                                        dialog.Text("I can take you out of the jail. Just tell me.");
                                        dialog.Option("Take me out.", 1);
                                        dialog.Option("Alright.", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1002, 348, 255);
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.ConquerPoints > 1000)
                                    {
                                        client.Entity.ConquerPoints -= 1000;
                                        client.Entity.Teleport(1002, 514, 356);
                                        break;
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you dont have 1k cps cant help you");
                                        //dialog.Option("Take me out.", 1);
                                        dialog.Option("Alright.", 255);
                                    }
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Tinter
                case 10064: //Tinter
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Select the item.");
                                    dialog.Option("Headgear.", 1);
                                    dialog.Option("Armor.", 3);
                                    dialog.Option("Shield.", 5);
                                    dialog.Option("I'm standing by.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                            case 3:
                            case 5:
                                {
                                    client.TinterItemSelect = npcRequest.OptionID;
                                    dialog.Text("Select the new color.");
                                    dialog.Option("Orange.", 13);
                                    dialog.Option("Light Blue.", 14);
                                    dialog.Option("Red.", 15);
                                    dialog.Option("Blue.", 16);
                                    dialog.Option("Yellow.", 17);
                                    dialog.Option("Purple.", 18);
                                    dialog.Option("White.", 19);
                                    dialog.Option("I'm standing by.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 13:
                            case 14:
                            case 15:
                            case 16:
                            case 17:
                            case 18:
                            case 19:
                                {
                                    if (client.TinterItemSelect == 0)
                                        return;
                                    ConquerItem item = client.Equipment.TryGetItem(client.TinterItemSelect);
                                    if (item == null || item.ID == 0)
                                    {
                                        dialog.Text("You don't have a item like this one equiped.");
                                        dialog.Send();
                                        break;
                                    }
                                    item.Color = (Conquer_Online_Server.Game.Enums.Color)(npcRequest.OptionID % 10);
                                    Conquer_Online_Server.Database.ConquerItemTable.UpdateColor(item);
                                    client.TinterItemSelect = 0;
                                    item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Update;
                                    item.Send(client);
                                    item.Mode = Conquer_Online_Server.Game.Enums.ItemMode.Default;
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Lottery

                #region JewlarLau
                case 3953:
                case 2065:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello i can help you to compose your gems choose what you want.");
                                    dialog.Option("Compose Gems", 1);
                                    dialog.Option("Compose RTG with 7 Ref Gems.", 2);
                                    dialog.Option("Just PassingBy!", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.TortoiseGemComposing, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                    break;
                                }
                            case 1:
                                client.Send(new Data(true) { UID = client.Entity.UID, ID = Data.OpenWindow, dwParam = Data.WindowCommands.GemComposing, wParam1 = client.Entity.X, wParam2 = client.Entity.Y });
                                break;

                        }
                        break;
                    }
                #endregion

                #region LadyLuck
                case 924:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (client.InLottery)
                                    {
                                        dialog.Text("You may come back later, if you still want to try your luck. It will be free next time you want.");
                                        dialog.Option("Yes please, let me out.", 1);
                                        dialog.Option("No thank you.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {
                                        dialog.Text("Thank you for trying out the lottery. Please come back any other time, we will wait you.");
                                        dialog.Option("Take me out.", 1);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1036, 219, 189);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #endregion
                #region Labirinth
                case 1153:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there. Just let me know if you want to move to the second floor of the labirinth with a SkyToken or go to TwinCity for free.");
                                    dialog.Option("Second floor.", 1);
                                    dialog.Option("TwinCity.", 2);
                                    dialog.Option("Nothing.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(721537, 1))
                                    {
                                        client.Inventory.Remove(721537, 1);
                                        client.Entity.Teleport(1352, 027, 227);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't meet the requierments.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    client.Entity.Teleport(1002, 428, 379);
                                    break;
                                }
                        }
                        break;
                    }
                case 1154:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there. Just let me know if you want to move to the third floor of the labirinth with a EarthToken or go to TwinCity for free.");
                                    dialog.Option("Third floor.", 1);
                                    dialog.Option("TwinCity.", 2);
                                    dialog.Option("Nothing.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(721538, 1))
                                    {
                                        client.Inventory.Remove(721538, 1);
                                        client.Entity.Teleport(1353, 025, 268);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't meet the requierments.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    client.Entity.Teleport(1002, 428, 379);
                                    break;
                                }
                        }
                        break;
                    }
                case 1155:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there. Just let me know if you want to move to the fourth floor of the labirinth with a SoulToken or go to TwinCity for free.");
                                    dialog.Option("Fourth floor.", 1);
                                    dialog.Option("TwinCity.", 2);
                                    dialog.Option("Nothing.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Contains(721539, 1))
                                    {
                                        client.Inventory.Remove(721539, 1);
                                        client.Entity.Teleport(1354, 005, 290);
                                    }
                                    else
                                    {
                                        dialog.Text("You don't meet the requierments.");
                                        dialog.Option("Ahh sorry.", 255);
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    client.Entity.Teleport(1002, 428, 379);
                                    break;
                                }
                        }
                        break;
                    }
                case 1156:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there. Just let me know if you want to go to TwinCity.");
                                    dialog.Option("TwinCity.", 1);
                                    dialog.Option("Nothing.", 255);
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1002, 428, 379);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Birth Villiage

                #region RecruitMaster
                case 1060:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("You are about to enter the wonderful world of Phoenix Conquer!");
                                    dialog.Text("\n\nYou will have much to learn, to survive here. As the saying goes, if you know yourself and your enemy, you will never lose a battle!");
                                    dialog.Option("Got it!", 1);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    switch (client.Entity.Class)
                                    {
                                        case 50:
                                            {
                                                dialog.Text("What the..! Oh.. It's just you, Ninja!");
                                                dialog.Text("\n\nSuch a mysterious figures, cloaked in shadow.. Ninjas have the most devastating attacks");
                                                dialog.Text(", but the lowest defence and health of all classes. Their speed and surprising skills are what make");
                                                dialog.Text("are what make them such a dangerous force here!\n\nAlways be aware of your surroundings!\n");
                                                dialog.Option("I am like a shadow!", 2);
                                                dialog.Send();
                                                break;
                                            }
                                        case 100:
                                            {
                                                dialog.Text("Well hello there, young Taoist! Right now, you don't have any specialty in your magic skills.");
                                                dialog.Text("Once you train enough, you can be promoted to a Fire or Water Taoist, and then continure on your path to glory!");
                                                dialog.Option("Fire and Water Taoist?", 11);
                                                dialog.Send();
                                                break;
                                            }


                                    }
                                    break;
                                }
                            case 11:
                                {
                                    dialog.Text("Fire Taoists are able to smite their enemies at long range, as their spells cause much more damage than other Taoists.");
                                    dialog.Text("While the Water Taoists are adept at healing and reviving fallen comrades. Both paths offer their own choices.");
                                    dialog.Text("It's up to you to decide where your heart lies.");
                                    dialog.Option("I see.", 2);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    dialog.Text("In Conquer Online, Path Finding is efficient in helping you locate shops and places of intrest. ");
                                    dialog.Text("You can check the current map's list by clicking the \"Path Finding\" button to the right. ");
                                    dialog.Text("Just highlight where you would like to go and click, and you're on your way!");
                                    dialog.Option("Anything else?", 3);
                                    dialog.Send();
                                    break;
                                }
                            case 3:
                                {
                                    dialog.Text("If you click \"Status\" in the lower right corner of the screen you will be able to check your character level, status, and attributes.");
                                    dialog.Option("I see.", 4);
                                    dialog.Send();
                                    break;
                                }
                            case 4:
                                {
                                    dialog.Text("You can also check your equipment, weapon proficiency, skills, and skill levels by click the tabs on the left side of the Status window.");
                                    if (client.Entity.Class == 100) { dialog.Option("Got it!", 55); } else { dialog.Option("Got it!", 5); }
                                    dialog.Send();
                                    break;
                                }
                            case 5:
                                {
                                    dialog.Text("Now you should go speak with Old General Yang.\n I'm sure he will be able to teach you some more useful tips!");
                                    dialog.Option("Okay, thanks!", 6);
                                    dialog.Send();
                                    break;
                                }
                            case 55:
                                {
                                    dialog.Text("Now you should go speak with Taoist Star.\n I'm sure he will be able to teach you some more useful tips!");
                                    dialog.Option("Okay, thanks!", 66);
                                    dialog.Send();
                                    break;
                                }
                            case 6:
                                {
                                    new Message("You should follow the Recruit Master's advice!\nGo find Old General Yang.", System.Drawing.Color.Green, Message.PopUP);
                                    break;
                                }
                            case 66:
                                {
                                    new Message("You should follow the Recruit Master's advice!\nGo find Taoist Star.", System.Drawing.Color.Green, Message.PopUP);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region Pharmacist
                case 10008:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hi! I sell all sorts of potions and town scrolls in all the citys.\nI also sell fireworks and skill books in the market.");
                                    dialog.Option("What potions?", 1);
                                    dialog.Option("Consult others.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Healing and mana potions.\nHealing potions make you healthy.\nMana potions will enable you to cast spells, If you have any.\n");
                                    dialog.Text("\nThat is all. If you have not talked to others dialog...\nYou had better have a chat with them so that you can learn more.\n");
                                    dialog.Option("I see. Thanks.", 255);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region WiseGuy
                case 10004:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Well, if you want to talk to any NPCs, just click them. Easy, huh?");
                                    dialog.Option("About my class...", 1);
                                    dialog.Option("Ah, Forget about it.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    switch (client.Entity.Class)
                                    {
                                        case 50:
                                            {
                                                dialog.Text("The Ninja is an expert in various oriental weapons, boasting swift and powerful melee attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                break;
                                            }
                                        case 10:
                                            {
                                                dialog.Text("The Trojan is an expert in various oriental weapons, dual wield and a powerful melee attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                break;
                                            }
                                        case 40:
                                            {
                                                dialog.Text("The Archer is an expert in Ranged oriental weapons, Ppowerful Ranged attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                break;
                                            }
                                        case 20:
                                            {
                                                dialog.Text("The Warrior is an expert in various oriental weapons, two handed weapons, Sheald and a powerful melee attack skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                break;
                                            }
                                        case 100:
                                            {
                                                dialog.Text("The Taoist is an expert in various Magic Spells, powerful melee Spells and skills. I know somebody. In Twin City there are merchants I know. you go talk to them, they'll sort you out. Got it?");
                                                break;
                                            }
                                    }
                                    dialog.Option("I see, thanks.", 0);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region VilliageIdiot
                case 10009:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello, new blood! Welcome! It is good that you selected This class!");
                                    dialog.Option("Thank you.", 1);
                                    dialog.Option("Not a chance. Leave me be!", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    switch (client.Entity.Class)
                                    {
                                        case 10:
                                            {
                                                dialog.Text("Some handy weapons are essential for Trojans. But you'd never do that, Cause your're my friend now, right?");
                                                break;
                                            }
                                        case 40:
                                            {
                                                dialog.Text("Some handy weapons are essential for Archers. But you'd never do that, Cause your're my friend now, right?");
                                                break;
                                            }
                                        case 20:
                                            {
                                                dialog.Text("Some handy weapons are essential for Warriors. But you'd never do that, Cause your're my friend now, right?");
                                                break;
                                            }
                                        case 100:
                                            {
                                                dialog.Text("Some handy weapons are essential for Taoists. But you'd never do that, Cause your're my friend now, right?");
                                                break;
                                            }
                                        case 50:
                                            {
                                                dialog.Text("Some handy weapons are essential for Ninjas. But you'd never do that, Cause your're my friend now, right?");
                                                break;
                                            }
                                    }
                                    dialog.Option("Sure.. I'll be back in my next life.", 255);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region Armorer
                case 10007:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Armorers swear only to provide the very best in defense.\nWhether it's robes or helmets, we have it all.");
                                    dialog.Option("I see. Where can I find an armorer?", 1);
                                    dialog.Option("Consult others.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {

                                    dialog.Text("Every city or major settlement has one.\nBut our armors very best from place to place.\nSome armorers have better helms, while others specialize in mail or helms.\n");
                                    dialog.Text("Just to be sure to buy armor without red text in the description.\nYou won't be able to wear those!\n");
                                    dialog.Option("I see. Thanks.", 255);
                                    dialog.Send();
                                    break;

                                }
                        }
                        break;
                    }
                #endregion

                #region Warehouseman
                case 10006:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Welcome! I run a warehouse in every city.\nYou can store your money and items in my warehouses, and retrieve them for free.");
                                    dialog.Option("Cool. How do I use them?", 1);
                                    dialog.Option("Consult others.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {

                                    dialog.Text("First, you find my warehouse men in your city..\nClick on him to see your storage box open up.\nTo deposit money, enter the amount in the bank field before clicking Deposit.\n");
                                    dialog.Text("Withdrawing money is the same.\n \nIf you want to put items in your storage space, just drag and drop.\nTaking them out only requires one click.\nAlso, your money is totalled from all warehouses.\n");
                                    dialog.Option("I see. Thanks.", 255);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region Blacksmith
                case 10005:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("We blacksmiths can be found from North to South, East to West.\nWe promise a fine selection of weapons for you to purchase!");
                                    dialog.Option("Tell me more.", 1);
                                    dialog.Option("Consult others.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {

                                    dialog.Text("Let me tell you how to choose a good weapon.\nHover your mouse pointer over the weapon, check its stats and find a weapon with all white writing.\nIf there's red text, you won't be able to use it.");
                                    dialog.Text("After you buy it, you open your backpack, find the right item and right-click it to equip.\nIt's as easy as that!\n \nOh, and to sell an item, you just drag and drop to my shop!\n");
                                    dialog.Option("What about repairs?", 2);
                                    dialog.Option("Consult others.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {

                                    dialog.Text("First, unequip the item by double-clicking it in your status window.\nThen find me, click my repair button and click the item.");
                                    dialog.Option("Any other tips?", 3);
                                    dialog.Option("Consult others.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 3:
                                {

                                    dialog.Text("Yeah, some items are high quality: Normal, Refined, Unique, Elite, Super.\nThat's specialist stuff, only found in the market.\nThat is all. If you have not talked to other dialog...\nYou had better have a chat with them so that you can learn more.");
                                    dialog.Option("Thanks.", 255);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region GateMan
#warning Create Account LEVEl 140 + STUFF 12
                case 10010:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Choose stuff you want and you wil get it and level 140");
                                    dialog.Option("Stuff Trojan ", 1);
                                    dialog.Option("Stuff Warrior ", 2);
                                    dialog.Option("Stuff MonK ", 3);
                                    dialog.Option("Stuff Ninja ", 4);
                                    dialog.Option("Stuff Pirate ", 5);
                                    dialog.Option("Stuff Archer ", 6);
                                    dialog.Option("Stuff Taoist", 7);
                                    dialog.Option("Just passing by.", 255);
                                    dialog.Avatar(80);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege SquallSword Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege SkyBlade Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege NirvanaClub Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ObsidianArmor Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege PeerlessCoronet Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege RidingCrop Super 12 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 15;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege SpearOfWrath Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ImperiousArmor Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege SteelHelmet Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CelestialShield Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege OccultWand Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 25;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 3:
                                {
                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege LazuritePrayerBeads Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege LazuritePrayerBeads Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege WhiteLotusFrock Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege XumiCap Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege RidingCrop Super 12 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 65;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 4:
                                {
                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HanzoKatana Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HanzoKatana Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege NightmareVest Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege RambleVeil Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege RidingCrop Super 12 0 0 0 0", System.Drawing.Color.Red, 0x7d1), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 55;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege LordPistol Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CaptainRapier Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege DominatorHat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege DarkDragonCoat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 75;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 6:
                                {
                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FantasyKnife Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FantasyKnife Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege WelkinCoat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege WhiteTigerHat Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Volcano Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege CrimsonRing Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege FloridNecklace Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenPlume Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenlyBow Super 12 7 255 13 13", System.Drawing.Color.Red, 2001), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 45;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 7:
                                {
                                   dialog.Text("Please, Choose what character you will be....");
                                   dialog.Option("WaterTaoist", 15);
                                   dialog.Option("FireTaoist", 16);
                                   break;
                                }
                            case 15:
                                {

                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege SupremeSword Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege EternalRobe Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege DistinctCap Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege WyvernBracelet Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege NiftyBag Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 135;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 16:
                                {

                                    if (client.Inventory.Count < 10)
                                    {
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege HeavenFan Super 12 0 000 103 103", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege StarTower Super 12 0 000 123 123", System.Drawing.Color.Red, 0x7d1), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Steed Fixed 12 000 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege ridingcrop super 12 0 000 00 00", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege SupremeSword Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege EternalRobe Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege DistinctCap Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege WyvernBracelet Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege Blizzard Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        PacketHandler.CheckCommand2(new Message("@tegotegatege NiftyBag Super 12 7 255 3 3", System.Drawing.Color.Red, 2001), client);
                                        client.Entity.Level = 140;
                                        client.Entity.Strength = 0;
                                        client.Entity.Agility = 0;
                                        client.Entity.Stamina = 1;
                                        client.Entity.Spirit = 0;
                                        client.Entity.Atributes = 537;
                                        client.Entity.Teleport(1002, 300, 278);
                                        client.Entity.Class = 145;
                                    }
                                    else
                                    {
                                        dialog.Avatar(116);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region OldGeneralYang
                case 425:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Oh, I so long for the glory of the field, but I'm too old to go back out and deal with these youngsters...\n");
                                    dialog.Text("I see a spark in your eye that reminds me of my younger days... What can I do for you young one?");
                                    dialog.Option("I'm ready for Initiation.", 1);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("It would be wise for you to learn alittle more about Conquer before you decide to head out on your own.");
                                    dialog.Option("Fill me in.", 2);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    dialog.Text("There are two kinds of skills in Conquer.\nOne is the active skills, which are activated through the use of your magic or stamina.");
                                    dialog.Option("And the other?", 3);
                                    dialog.Send();
                                    break;
                                }
                            case 3:
                                {
                                    dialog.Text("The other is known as a passive skill.\nPassive skills will automaticly activate if the situation warrants the passive skills use.");
                                    dialog.Option("Got it!", 4);
                                    dialog.Send();
                                    break;
                                }
                            case 4:
                                {
                                    dialog.Text("Well that is all I can tell you for today. It's time to eat!\nYou can talk to the Village Gateman when you are ready to get started.");
                                    dialog.Option("Okay", 255);
                                    dialog.Send();
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #endregion
                #region OUT
                case 9988:
                case 9989:
                case 9990:
                case 9991:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("In exchange of a fee of 500gold, I will teleport you back to the guild war map. Don't bother me if you are poor.");
                                    dialog.Option("Teleport me.", 1);
                                    dialog.Option("I'm too poor.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.Money >= 500)
                                    {
                                        client.Entity.Money -= 500;
                                        client.Entity.Teleport(1038, 348, 339);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Warehousemen
                case 8:
                case 10012:
                case 10028:
                case 10011:
                case 10027:
                case 4101:
                case 44:
                case 30657:
                case 30658:
                case 30659:
                case 1765:

                    switch (npcRequest.OptionID)
                    {
                        case 0:
                            {
                                Data data = new Data(true);
                                INpc npc = null;
                                if (client.Map.Npcs.TryGetValue(client.ActiveNpc, out npc))
                                {
                                    if (!client.WarehouseOpen)
                                        client.Send(new Message("To protect your items that are stored in warehouse, you should set a Secondary password at Settings.", System.Drawing.Color.Maroon, Message.TopLeft));
                                    else
                                    {
                                        if (!client.WarehouseOpen)
                                        {
                                            data = new Data(true);
                                            data.ID = Data.OpenWindow;
                                            data.UID = client.Entity.UID;
                                            data.TimeStamp = Time32.Now;
                                            data.dwParam = 568;
                                            data.wParam1 = client.Entity.X;
                                            data.wParam2 = client.Entity.Y;
                                            client.Send(data);
                                            return;
                                        }
                                    }
                                    data = new Data(true);
                                    data.ID = Data.OpenWindow;
                                    data.UID = client.Entity.UID;
                                    data.TimeStamp = Time32.Now;
                                    data.dwParam = Data.WindowCommands.Warehouse;
                                    data.wParam1 = npc.X;
                                    data.wParam2 = npc.Y;
                                    client.Send(data);
                                }
                                break;
                            }
                    } break;
                #endregion
                #region Boxers
                case 180:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("If you want to leave just tell me when you are ready. It's free.\nYou will be teleported to the city you were in before coming here.");
                                    dialog.Option("I'm ready.", 1);
                                    dialog.Option("Wait a minute.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    int PrevMap = client.Entity.PreviousMapID;
                                    switch (PrevMap)
                                    {
                                        default:
                                            {
                                                client.Entity.Teleport(1002, 227, 236);
                                                break;
                                            }
                                        case 1000:
                                            {
                                                client.Entity.Teleport(1000, 500, 650);
                                                break;
                                            }
                                        case 1020:
                                            {
                                                client.Entity.Teleport(1020, 565, 562);
                                                break;
                                            }
                                        case 1011:
                                            {
                                                client.Entity.Teleport(1011, 188, 264);
                                                break;
                                            }
                                        case 1015:
                                            {
                                                client.Entity.Teleport(1015, 717, 571);
                                                break;
                                            }
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                case 181:
                case 182:
                case 183:
                case 184:
                case 185:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello " + client.Entity.Name + ", if your level is higher than 19, I can send you to a training ground in exchange of 1000 silvers. Be aware of the fact that you can't attack dumes with level higher than yours.");
                                    dialog.Option("Alright, let me in.", 1);
                                    dialog.Option("Nevermind", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.Level >= 20)
                                    {
                                        if (client.Entity.Money >= 1000)
                                        {
                                            client.Entity.Money -= 1000;
                                            client.Entity.Teleport(1039, 216, 214);
                                        }
                                        else
                                        {
                                            dialog.Text("You do not have 1000 silvers.");
                                            dialog.Option("Aww!", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Your level is not high enough.");
                                        dialog.Option("Aww!", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Guild War

                #region Jail warden
                case 140:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    if (Conquer_Online_Server.Game.GuildWar.IsWar)
                                    {
                                        if (DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 05 || DateTime.Now.Minute >= 30 && DateTime.Now.Minute <= 35)
                                        {
                                            dialog.Text("My friend, you may leave if you want.");
                                            dialog.Option("Yes please.", 1);
                                            dialog.Option("No need...", 255);
                                            dialog.Send();

                                        }
                                        else
                                        {
                                            dialog.Text("You lost your chance. Now wait for the next pardon btw xx:00 to xx:05 and xx:30 to xx:35!");
                                            dialog.Option("No!!!", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("My friend, you may leave if you want.");
                                        dialog.Option("Yes please.", 1);
                                        dialog.Option("No need...", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 1:
                                {
                                    if (Conquer_Online_Server.Game.GuildWar.IsWar)
                                    {
                                        if (DateTime.Now.Minute >= 00 && DateTime.Now.Minute <= 05 || DateTime.Now.Minute >= 30 && DateTime.Now.Minute <= 35)
                                        {
                                            client.Entity.Teleport(1002, 300, 278);
                                        }
                                        else
                                        {
                                            dialog.Text("You lost your chance. Now wait for the next pardon!");
                                            dialog.Option("No!!!", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        client.Entity.Teleport(1002, 300, 278);
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                #region Light up runes
                case 4452:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello friend, as you might know, while guild war, you can light up some runes and after guild war is over, you can come to me and I will give you experience in exchange of your rune.");
                                    dialog.Text("Once guild war starts, come to me and ask for a rune, and you will receive it. If you lose it, you can come back and reclaim it, but you will start from level 1 once again.");
                                    dialog.Option("Give me a rune.", 1);
                                    dialog.Option("Claim experience.", 2);
                                    dialog.Option("Nothing.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (GuildWar.IsWar)
                                    {
                                        for (int c = 0; c <= 10; c++)
                                        {
                                            if (client.Inventory.Contains((uint)(729960 + c), 1))
                                            {
                                                dialog.Text("You already have a rune.");
                                                dialog.Option("Thank you.", 255);
                                                dialog.Send();
                                                return;
                                            }
                                        }
                                        if (client.Inventory.Add(729960, 0, 1))
                                        {
                                            dialog.Text("Go, and light up this rune.");
                                            dialog.Option("Thank you.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("There is not enough room in your inventory.");
                                            dialog.Option("Ah, hold on.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("I cannot give you a rune now.");
                                        dialog.Option("Ahh.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (!GuildWar.IsWar)
                                    {
                                        for (int c = 0; c <= 10; c++)
                                        {
                                            if (client.Inventory.Contains((uint)(729960 + c), 1))
                                            {
                                                int expballs = c;
                                                if (729960 + c == 729970)
                                                    expballs += 2;

                                                for (int ex = 0; ex < expballs; ex++)
                                                    client.IncreaseExperience(client.ExpBall, false);
                                                client.Inventory.Remove((uint)(729960 + c), 1);
                                                return;
                                            }
                                        }
                                        dialog.Text("You cannot claim experience if you don't have a rune.");
                                        dialog.Option("Ahh.", 255);
                                        dialog.Send();
                                    }
                                    else
                                    {

                                    }
                                    {
                                        dialog.Text("You cannot claim experience while guild war.");
                                        dialog.Option("Ahh.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                case 4453:
                case 4454:
                case 4455:
                case 4456:
                case 4457:
                case 4458:
                case 4459:
                case 4460:
                case 4461:
                    {
                        dialog.Avatar(0);
                        uint takeFlame = 725507 + client.ActiveNpc;
                        uint addFlame = 725507 + client.ActiveNpc + 1;
                        if (GuildWar.IsWar)
                        {
                            if (client.Inventory.Contains(takeFlame, 1))
                            {
                                client.Inventory.Remove(takeFlame, 1);
                                client.Inventory.Add(addFlame, 0, 1);
                                dialog.Text("Well done! Next rune is number " + (client.ActiveNpc - 4451) + ".");
                                dialog.Send();
                            }
                            else
                            {
                                dialog.Text("You cannot flame up this stone without the proper rune.");
                                dialog.Send();
                            }
                        }
                        else
                        {
                            dialog.Text("You cannot flame up a rune if guild war is not on.");
                            dialog.Send();
                        }
                        break;
                    }
                case 4462:
                    {
                        dialog.Avatar(0);
                        uint takeFlame = 725507 + client.ActiveNpc;
                        uint addFlame = 725507 + client.ActiveNpc + 1;
                        if (GuildWar.IsWar)
                        {
                            if (GuildWar.Flame10th)
                            {
                                if (client.Inventory.Contains(takeFlame, 1))
                                {
                                    client.Inventory.Remove(takeFlame, 1);
                                    client.Inventory.Add(addFlame, 0, 1);
                                    dialog.Text("Well done! Nothing left to light up. Congratulations!");
                                    dialog.Send();
                                }
                                else
                                {
                                    dialog.Text("You cannot flame up this stone without the proper rune.");
                                    dialog.Send();
                                }
                            }
                            else
                            {
                                dialog.Text("It's not the right time to flame up this rune.");
                                dialog.Send();
                            }
                        }
                    }
                    break;
                #endregion

                #endregion
                #region OfflineTG
                case 3836:
                    {
                        OfflineTGStats sts = new OfflineTGStats(true);
                        var T1 = new TimeSpan(DateTime.Now.Ticks);
                        var T2 = new TimeSpan(client.OfflineTGEnterTime.Ticks);
                        ushort minutes = (ushort)(T1.TotalMinutes - T2.TotalMinutes);
                        minutes = (ushort)Math.Min((ushort)900, minutes);
                        sts.TotalTrainingMinutesLeft = (ushort)(900 - minutes);
                        sts.TrainedMinutes = minutes;
                        ulong exp = client.Entity.Experience;
                        byte level = client.Entity.Level;
                        double expballGain = (double)300 * (double)minutes / (double)900;
                        while (expballGain >= 100)
                        {
                            expballGain -= 100;
                            exp += client.ExpBall;
                        }
                        if (expballGain != 0)
                            exp += (uint)(client.ExpBall * (expballGain / 100));

                        while (exp >= Conquer_Online_Server.Database.DataHolder.LevelExperience(level))
                        {
                            exp -= Conquer_Online_Server.Database.DataHolder.LevelExperience(level);
                            level++;
                        }
                        double percent = (double)exp * (double)100 / (double)Conquer_Online_Server.Database.DataHolder.LevelExperience(level);

                        sts.Character_NewExp = (ulong)(percent * 100000);
                        sts.Character_AcquiredLevel = level;
                        sts.Send(client);
                        break;
                    }
                #endregion
                #region Adventure Zone
                #region ConductressBack1
                case 9994:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Do you want to back to the guild arena?");
                                    dialog.Option("Yes.", 1);
                                    dialog.Option("No.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1038, 348, 339);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ConductressBack1
                case 9995:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Do you want to back to the guild arena?");
                                    dialog.Option("Yes.", 1);
                                    dialog.Option("No.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1038, 348, 339);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ConductressBack1
                case 9996:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Do you want to back to the guild arena?");
                                    dialog.Option("Yes.", 1);
                                    dialog.Option("No.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1038, 348, 339);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ConductressBack1
                case 9997:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Do you want to back to the guild arena?");
                                    dialog.Option("Yes.", 1);
                                    dialog.Option("No.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1038, 348, 339);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Adv zone teleporter
                case 300655:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("I have just discovered a new place, where the turtle doves are so big, that they drop awesome items when they die. It's free, do you want to see it?");
                                    dialog.Option("Yes please.", 1);
                                    dialog.Option("No thank you.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1210, 1029, 714);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Adv zone mine supervisor
                case 300652:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("In this mine, the minerals are very good. They are really expensive, would you like to enter?");
                                    dialog.Option("Yes please.", 1);
                                    dialog.Option("No thank you.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1218, 30, 69);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Grandpa
                case 300653:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Would you like to advance?");
                                    dialog.Option("Yes.", 1);
                                    dialog.Option("No.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1219, 448, 272);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Boatman
                case 300654:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Would you like to go in TwinCity?");
                                    dialog.Option("Yes.", 1);
                                    dialog.Option("No.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    client.Entity.Teleport(1002, 300, 278);
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #endregion
                #region TreasureThief
                case 16970:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("I have lost all my treasure boxes inside the DisCity map when I was doing the quest! now you'll need to find them for me!");
                                    dialog.Option("Send me there.", 1);
                                    dialog.Option("Meh!", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (TreasureBox.OnGoing)
                                    {
                                        client.Entity.Teleport(10002, (ushort)Kernel.Random.Next(150, 300), (ushort)Kernel.Random.Next(150, 300));
                                    }
                                    else
                                    {
                                        dialog.Text("I can only send you there when it's xx:15");
                                        dialog.Option("Oh I See!.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                //JUNKY
                #region LastManStanding |54238 + 54235|
                #region Join |54238|
                case 54238:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there, I'm the LastManStanding Manager, Would you like to join the LastManStanding War ?, It's starting every 12:00 and every 06:00, What would you like to do now ?");
                                    dialog.Option("I want to join.", 1);
                                    dialog.Option("I don't care.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (Program.World.LastManStanding == true)
                                    {
                                        Random R = new Random();
                                        int Nr = R.Next(1, 10);
                                        if (Nr == 1) client.Entity.Teleport(3333, 51, 73);
                                        if (Nr == 2) client.Entity.Teleport(3333, 33, 34);
                                        if (Nr == 3) client.Entity.Teleport(3333, 67, 34);
                                        if (Nr == 4) client.Entity.Teleport(3333, 51, 73);
                                        if (Nr == 5) client.Entity.Teleport(3333, 33, 34);
                                        if (Nr == 6) client.Entity.Teleport(3333, 67, 34);
                                        if (Nr == 7) client.Entity.Teleport(3333, 51, 73);
                                        if (Nr == 8) client.Entity.Teleport(3333, 33, 34);
                                        if (Nr == 9) client.Entity.Teleport(3333, 67, 34);
                                        if (Nr == 10) client.Entity.Teleport(3333, 68, 57);
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, You can't join now you can join for 5 minutes only from 12:00 to 12:05 and from 6:00 to 06:05.");
                                        dialog.Option("Ahh thanks.", 0xff);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region End |54235|
                case 54235:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello, I can give you the prize of the LastManStanding, Are you need it?");
                                    dialog.Option("Yes, please.", 1);
                                    dialog.Option("Wait a minute.", 0xff);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    Daily.CheackAlive2();
                                    if (Program.World.LastManStanding == false)
                                    {
                                        if (Daily.howmanyinmap2 == 1)
                                        {
                                            client.Entity.ConquerPoints += client.LMS;
                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " claimed the prize " + client.LMS + " CPs for winning the LastManStanding.", System.Drawing.Color.Black, Message.Center), Program.GamePool);
                                            client.Entity.SendSpawn(client, true);
                                            client.Entity.Teleport(1002, 300, 378);
                                        }
                                        else
                                        {
                                            dialog.Text("There are still " + Daily.howmanyinmap + " players in the map kill it first to claim prize!");
                                            dialog.Option("Okay, Wait.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Hello there, You can claim your prize only after 12:05 and after 06:05!");
                                        dialog.Option("Ahh, Sorry", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #endregion
                #region Elite GuildWar |115522 + 811|
                #region NPC |115522|
                case 115522:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello, Would you like to join Elite GuildWar? ");
                                    dialog.Text("or claim the Prize?, You can join everyday, (7:30 to 8:30) & (13:30 to 14:30) & (00:30 to 01:30). ");
                                    dialog.Text("and the winner Guild his Leader will get " + client.EGW + " CPs! ");
                                    //dialog.Text("NOTE: If you win the Elite GuildWar you have only 5 minutes to claim your prize.");
                                    dialog.Option("Teleport me to the area.", 1);
                                    dialog.Option("I wanna claim my prize.", 5);
                                    dialog.Option("Nothing, Bye.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (EliteGuildWar.IsWar)
                                    {
                                        Random R = new Random();
                                        int Nr = R.Next(1, 13);
                                        if (Nr == 1) client.Entity.Teleport(2071, 43, 144);
                                        if (Nr == 2) client.Entity.Teleport(2071, 53, 130);
                                        if (Nr == 3) client.Entity.Teleport(2071, 149, 52);
                                        if (Nr == 4) client.Entity.Teleport(2071, 219, 110);
                                        if (Nr == 5) client.Entity.Teleport(2071, 205, 128);
                                        if (Nr == 6) client.Entity.Teleport(2071, 101, 199);
                                        if (Nr == 7) client.Entity.Teleport(2071, 68, 104);
                                        if (Nr == 8) client.Entity.Teleport(2071, 83, 89);
                                        if (Nr == 9) client.Entity.Teleport(2071, 111, 59);
                                        if (Nr == 10) client.Entity.Teleport(2071, 183, 84);
                                        if (Nr == 11) client.Entity.Teleport(2071, 204, 159);
                                        if (Nr == 12) client.Entity.Teleport(2071, 190, 177);
                                        if (Nr == 13) client.Entity.Teleport(2071, 163, 200);
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, The EliteGuildWar is not working now, It's starts everyday, (7:30 to 8:30) & (13:30 to 14:30) & (00:30 to 01:30).");
                                        dialog.Option("I see.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                            case 5:
                                {
                                    if (!EliteGuildWar.IsWar)
                                    {
                                        if (client.Guild != null)
                                        {
                                            if (EliteGuildWar.KeeperID != 0)
                                            {
                                                if (EliteGuildWar.Claim && client.AsMember.Rank == Game.Enums.GuildMemberRank.GuildLeader && client.Guild.ID == EliteGuildWar.KeeperID)
                                                {
                                                    EliteGuildWar.Claim = false;
                                                    EliteGuildWar.KeeperID = 0;
                                                    Conquer_Online_Server.Kernel.SendWorldMessage(new Message("The leader " + client.Entity.Name + " of " + client.Guild.Name + " claimed " + client.EGW + " CPs for winning the Elite GuildWar.", System.Drawing.Color.Red, Message.Center), Program.GamePool);
                                                    client.Entity.ConquerPoints += client.EGW;
                                                    // Program.AddWarLog1("EliteGuildWar", client.EliteGuildWar_Prize, client.Entity.Name);
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry, You aren't a GuildLeader to claim this prize or this guild you're in didn't win the Elite GuildWar if you're the GuildLeader of this guild.");
                                                    dialog.Option("Ahh, I'm sorry.", 255);
                                                    dialog.Send();
                                                    break;
                                                }
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, You aren't joining to any guild.");
                                            dialog.Option("I see.", 255);
                                            dialog.Send();
                                            break;
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, You can claim your prize only when the EliteGuildWar finishes.");
                                        dialog.Option("Thanks.", 255);
                                        dialog.Send();
                                        break;
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Pole |811|
                case 811:
                    {
                        dialog.Text("Please, Don't hurt me!");
                        dialog.Option("Huh!", 255);
                        dialog.Send();
                        break;
                    }
                #endregion
                #endregion
                #region ClanWar |448213 + 448212|
                #region Clan War |448213|
                case 448213:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello, Would you like to join ClanWar? ");
                                    dialog.Text("or claim the Prize?, You can join everyday (9:00 to 10:00) & (15:00 to 16:00).");
                                    dialog.Text("and the winner Guild his Leader will get " + client.CW + " CPs! ");
                                    dialog.Option("Teleport me to the area.", 1);
                                    dialog.Option("I wanna cliam the prize.", 2);
                                    dialog.Option("Nothing, Bye.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (ClanWar.IsWar)
                                    {
                                        Random R = new Random();
                                        int Nr = R.Next(1, 18);
                                        if (Nr == 1) client.Entity.Teleport(1509, 53, 108);
                                        if (Nr == 2) client.Entity.Teleport(1509, 44, 92);
                                        if (Nr == 3) client.Entity.Teleport(1509, 49, 88);
                                        if (Nr == 4) client.Entity.Teleport(1509, 55, 88);
                                        if (Nr == 5) client.Entity.Teleport(1509, 61, 88);
                                        if (Nr == 6) client.Entity.Teleport(1509, 63, 95);
                                        if (Nr == 7) client.Entity.Teleport(1509, 74, 102);
                                        if (Nr == 8) client.Entity.Teleport(1509, 81, 100);
                                        if (Nr == 9) client.Entity.Teleport(1509, 89, 74);
                                        if (Nr == 10) client.Entity.Teleport(1509, 111, 77);
                                        if (Nr == 11) client.Entity.Teleport(1509, 103, 44);
                                        if (Nr == 12) client.Entity.Teleport(1509, 118, 91);
                                        if (Nr == 13) client.Entity.Teleport(1509, 124, 108);
                                        if (Nr == 14) client.Entity.Teleport(1509, 128, 131);
                                        if (Nr == 15) client.Entity.Teleport(1509, 138, 144);
                                        if (Nr == 16) client.Entity.Teleport(1509, 114, 146);
                                        if (Nr == 17) client.Entity.Teleport(1509, 108, 141);
                                        if (Nr == 18) client.Entity.Teleport(1509, 81, 119);
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, The ClanWar is not working now, It's starts everyday (9:00 to 10:00) & (15:00 to 16:00).");
                                        dialog.Option("I see.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (ClanWar.KeeperID != 0)
                                    {
                                        if (!ClanWar.IsWar && ClanWar.Claim && client.Entity.ClanId == ClanWar.KeeperID)
                                        {
                                            if (client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                            {
                                                //Program.AddWarLog1("ClanWar", client.ClanWar_Prize, client.Entity.Name);
                                                ClanWar.Claim = false;
                                                ClanWar.KeeperID = 0;
                                                client.Entity.ConquerPoints += client.CW;
                                                Conquer_Online_Server.Kernel.SendWorldMessage(new Message("The leader " + client.Entity.Name + " of " + client.Entity.ClanName + " has claimed " + client.CW + " CPs for winning the ClanWar!", System.Drawing.Color.Red, Message.Center), Program.GamePool);
                                            }
                                            else
                                            {
                                                dialog.Text("Sorry, ClanLeader only can claim the prize!");
                                                dialog.Option("Ahh.", 255);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, The ClanWar still working, You can't claim your prize now.");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region ClanWar Out |448212|
                case 448212:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello there, Would you like to claim you ClanWar prize !");
                                    dialog.Option("Leme Claim.", 1);
                                    dialog.Option("Wait...", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (client.Entity.GetClan != null)
                                    {
                                        if (client.Entity.GetClan.PoleKeeper && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                        {
                                            dialog.Text("Are you sure you want to claim it now ?");
                                            dialog.Option("Yes, Please.", 2);
                                            dialog.Option("Ah, nevermind.", 255);
                                            dialog.Send();
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry you are not the ClanLeader");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry you are not i any clan !!");
                                        dialog.Option("Ahh.", 255);
                                        dialog.Send();
                                    }
                                    break;
                                }
                            case 2:
                                {
                                    if (client.Entity.GetClan != null)
                                    {
                                        if (client.Entity.GetClan.PoleKeeper && client.Entity.ClanRank == Clan.Ranks.ClanLeader)
                                        {
                                            client.Entity.GetClan.PoleKeeper = false;
                                            MySqlCommand cmd = new MySqlCommand(MySqlCommandType.UPDATE);
                                            cmd.Update("clans").Set("polekeeper", 0).Where("identifier", client.Entity.GetClan.ID).Execute();
                                            client.Entity.ConquerPoints += client.CW;
                                            Conquer_Online_Server.Kernel.SendWorldMessage(new Message("Congratulations! " + client.Entity.Name + " leader of [" + client.Entity.ClanName + " Clan] has claimed the ClanWar prize " + client.CW + " CPs!", System.Drawing.Color.White, Message.Center), Program.GamePool);
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry you dont have Any Prize to claim only CL of the winner CLAN can claim Prize After CW");
                                            dialog.Option("Ahh.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #endregion
                #region NemesisTyrant Spawner |159753|
                case 159753:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("Hello Dear, ");
                                    dialog.Text("I can spawn the NemesisTyrant monster for free ! but remember it: you can spawn it at 16:30 only if you come after 5 minutes later I won't spawn it.");
                                    dialog.Text("So, How can I help you now ?");
                                    dialog.Option("Spawn the NemesisTyrant quickly ,please!", 1);
                                    dialog.Option("Have a good day!", 255);
                                    dialog.Avatar(84);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    if (DateTime.Now.Hour == 16 || DateTime.Now.Hour == 05)
                                    {
                                        if (DateTime.Now.Minute >= 30 && DateTime.Now.Minute <= 35)
                                        {
                                            if (Kernel.NemesisTyrant_Spawn == false)
                                            {
                                                Kernel.NemesisTyrant_Spawn = true;
                                                if (Kernel.Maps.ContainsKey(1000))
                                                {
                                                    Database.MonsterInformation mob;
                                                    Database.MonsterInformation.MonsterInformations.TryGetValue(4220, out mob);
                                                    client.Map.Spawnthis(mob, client, 1000, 560, 646);
                                                    Kernel.SendWorldMessage(new Conquer_Online_Server.Network.GamePackets.Message("Warning NemesisTyrant appeared at DesertCity at the LeftGate (560,646) , deafet it!", Color.Red, Message.Center));
                                                }
                                                //client.SendScreen(client);
                                            }
                                            else
                                            {
                                                dialog.Text("Are you blind ??, The NemesisTyrant has already spawned or someone killed it !");
                                                dialog.Option("Sorry!", 255);
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("Sorry, I can spawn the NemesisTyrant from (05:30 to 05:35) & (16:30 to 16:35).");
                                            dialog.Option("Sorry!", 255);
                                            dialog.Avatar(84);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Sorry, I can spawn the NemesisTyrant from (05:30 to 05:35) & (16:30 to 16:35)");
                                        dialog.Option("Sorry!", 255);
                                        dialog.Avatar(84);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion
                #region Name Changer |803|
                case 803:
                    {
                        switch (npcRequest.OptionID)
                        {
                            case 0:
                                {
                                    dialog.Text("So, After many years they remembered this feature and they started to develop me, Today "
                                    + "I can change your character name to the name you like or you want.But wait there're some rules "
                                    + "at first you can't out [ or ] to your name or any symbols like that, One more thing I can change "
                                    + "your name only for " + client.ChangeName + " CPs, So what do want to do now?");
                                    dialog.Option("Change my name.", 1);
                                    dialog.Option("Thanks.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 1:
                                {
                                    dialog.Text("Okay that's fine, Now I need you to enter your new name in this box and you should know "
                                        + "your name should be between 4 and 14 character. NOTE:This new name will take effect after restarting the server.");
                                    dialog.Input("New Name : ", 2, 15);
                                    dialog.Option("I can't wait.", 255);
                                    dialog.Send();
                                    break;
                                }
                            case 2:
                                {
                                    if (npcRequest.Input.Length > 3 && npcRequest.Input.Length < 15)
                                    {
                                        String newname = npcRequest.Input;
                                        if (!newname.Contains("[GM]") && !newname.Contains("[PM]"))
                                        {
                                            Regex regex = new Regex("^[a-zA-Z0-9~!@#$%^&*]*$");
                                            if (regex.IsMatch(newname))
                                            {
                                                MySqlCommand cmd2 = new MySqlCommand(MySqlCommandType.SELECT).Select("entities").Where("name", newname);//debug and test!
                                                MySqlReader r = new MySqlReader(cmd2);
                                                if (!r.Read())//wait
                                                {
                                                    MySqlCommand cmd3 = new MySqlCommand(MySqlCommandType.SELECT).Select("entities").Where("namechange", newname);
                                                    MySqlReader r2 = new MySqlReader(cmd3);
                                                    if (!r2.Read())//wait
                                                    {
                                                        if (client.Entity.ConquerPoints >= client.ChangeName)
                                                        {
                                                            client.Entity.ConquerPoints -= client.ChangeName;
                                                            MySqlCommand cmd = new MySqlCommand(MySqlCommandType.UPDATE);
                                                            cmd.Update("entities").Set("namechange", newname).Where("UID", client.Entity.UID).Execute();
                                                            Console.WriteLine("[" + client.Entity.Name + "] name has changed to [" + newname + "]");
                                                            Kernel.SendWorldMessage(new Message(client.Entity.Name + ", has changed his/her name to " + newname + ", This name will be affected after restarting the server.",
                                                                System.Drawing.Color.Red, Message.Talk), Program.GamePool);
                                                            dialog.Text("Congratulations, Your new name is " + newname + " it will work with you after restaring the server.");
                                                            dialog.Option("Thank You.", 255);
                                                            dialog.Send();
                                                        }
                                                        else
                                                        {
                                                            dialog.Text("Ughhh, I told you I can't change your name without " + client.ChangeName + " CPs.");
                                                            dialog.Option("Sorry.", 255);
                                                            dialog.Send();
                                                        }
                                                    }
                                                    else
                                                    {
                                                        dialog.Text("Sorry, There's someone else has changed his name to the you want and it will be affeceted after restarting the server.");
                                                        dialog.Option("My bad.", 255);
                                                        dialog.Option("Lemme try another name.", 1);
                                                        dialog.Send();
                                                    }
                                                }
                                                else
                                                {
                                                    dialog.Text("Sorry, This name is already taken.");
                                                    dialog.Option("Try another name.", 1);
                                                    dialog.Send();
                                                }
                                            }
                                            else
                                            {
                                                dialog.Text("The name is not valid.");
                                                dialog.Option("Try another name.", 1);
                                                dialog.Send();
                                            }
                                        }
                                        else
                                        {
                                            dialog.Text("WTF, You can't put [PM] or [GM] to your new name.");
                                            dialog.Option("I'm sorry.", 255);
                                            dialog.Send();
                                        }
                                    }
                                    else
                                    {
                                        dialog.Text("Your name must be between 4 and 14 character.");
                                        dialog.Option("Try again.", 1);
                                        dialog.Send();
                                    }
                                    break;
                                }
                        }
                        break;
                    }
                #endregion

                default:
                    {
                        if (client.ActiveNpc >= 101002 && client.Entity.MapID == 10002)
                        {
                            client.SendScreen(new Network.GamePackets.Data(true) { UID = client.ActiveNpc, ID = Network.GamePackets.Data.RemoveEntity }, true);
                            client.Map.RemoveNpc(client.Map.Npcs[client.ActiveNpc]);
                            Conquer_Online_Server.Game.TreasureBox.Reward(client);
                        }
                        if (client.Account.State == Conquer_Online_Server.Database.AccountTable.AccountState.GameMaster || client.Account.State == Conquer_Online_Server.Database.AccountTable.AccountState.ProjectManager)
                            client.Send(new Message("NpcID[" + client.ActiveNpc + "]", System.Drawing.Color.Red, Message.TopLeft));
                        break;
                    }
            }

            if (!dialog.Sent)
                if (dialog.Replies.Count > 1)
                    dialog.Send();
        }
    }
}
